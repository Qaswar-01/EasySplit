var Qw=Object.defineProperty;var Jw=(e,t,n)=>t in e?Qw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var G=(e,t,n)=>Jw(e,typeof t!="symbol"?t+"":t,n);function Zw(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function hh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jy={exports:{}},Wl={},Ny={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _a=Symbol.for("react.element"),ek=Symbol.for("react.portal"),tk=Symbol.for("react.fragment"),nk=Symbol.for("react.strict_mode"),sk=Symbol.for("react.profiler"),rk=Symbol.for("react.provider"),ik=Symbol.for("react.context"),ak=Symbol.for("react.forward_ref"),ok=Symbol.for("react.suspense"),lk=Symbol.for("react.memo"),ck=Symbol.for("react.lazy"),tp=Symbol.iterator;function uk(e){return e===null||typeof e!="object"?null:(e=tp&&e[tp]||e["@@iterator"],typeof e=="function"?e:null)}var Cy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Py=Object.assign,_y={};function Yr(e,t,n){this.props=e,this.context=t,this.refs=_y,this.updater=n||Cy}Yr.prototype.isReactComponent={};Yr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ey(){}Ey.prototype=Yr.prototype;function fh(e,t,n){this.props=e,this.context=t,this.refs=_y,this.updater=n||Cy}var ph=fh.prototype=new Ey;ph.constructor=fh;Py(ph,Yr.prototype);ph.isPureReactComponent=!0;var np=Array.isArray,Ay=Object.prototype.hasOwnProperty,mh={current:null},Ty={key:!0,ref:!0,__self:!0,__source:!0};function My(e,t,n){var s,r={},i=null,a=null;if(t!=null)for(s in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Ay.call(t,s)&&!Ty.hasOwnProperty(s)&&(r[s]=t[s]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)r[s]===void 0&&(r[s]=o[s]);return{$$typeof:_a,type:e,key:i,ref:a,props:r,_owner:mh.current}}function dk(e,t){return{$$typeof:_a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gh(e){return typeof e=="object"&&e!==null&&e.$$typeof===_a}function hk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sp=/\/+/g;function Pc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hk(""+e.key):t.toString(36)}function Po(e,t,n,s,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case _a:case ek:a=!0}}if(a)return a=e,r=r(a),e=s===""?"."+Pc(a,0):s,np(r)?(n="",e!=null&&(n=e.replace(sp,"$&/")+"/"),Po(r,t,n,"",function(c){return c})):r!=null&&(gh(r)&&(r=dk(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(sp,"$&/")+"/")+e)),t.push(r)),1;if(a=0,s=s===""?".":s+":",np(e))for(var o=0;o<e.length;o++){i=e[o];var l=s+Pc(i,o);a+=Po(i,t,n,l,r)}else if(l=uk(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=s+Pc(i,o++),a+=Po(i,t,n,l,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function za(e,t,n){if(e==null)return e;var s=[],r=0;return Po(e,s,"","",function(i){return t.call(n,i,r++)}),s}function fk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},_o={transition:null},pk={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:_o,ReactCurrentOwner:mh};function Dy(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:za,forEach:function(e,t,n){za(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return za(e,function(){t++}),t},toArray:function(e){return za(e,function(t){return t})||[]},only:function(e){if(!gh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=Yr;te.Fragment=tk;te.Profiler=sk;te.PureComponent=fh;te.StrictMode=nk;te.Suspense=ok;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pk;te.act=Dy;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Py({},e.props),r=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=mh.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Ay.call(t,l)&&!Ty.hasOwnProperty(l)&&(s[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];s.children=o}return{$$typeof:_a,type:e.type,key:r,ref:i,props:s,_owner:a}};te.createContext=function(e){return e={$$typeof:ik,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rk,_context:e},e.Consumer=e};te.createElement=My;te.createFactory=function(e){var t=My.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:ak,render:e}};te.isValidElement=gh;te.lazy=function(e){return{$$typeof:ck,_payload:{_status:-1,_result:e},_init:fk}};te.memo=function(e,t){return{$$typeof:lk,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=_o.transition;_o.transition={};try{e()}finally{_o.transition=t}};te.unstable_act=Dy;te.useCallback=function(e,t){return at.current.useCallback(e,t)};te.useContext=function(e){return at.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return at.current.useDeferredValue(e)};te.useEffect=function(e,t){return at.current.useEffect(e,t)};te.useId=function(){return at.current.useId()};te.useImperativeHandle=function(e,t,n){return at.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return at.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return at.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return at.current.useMemo(e,t)};te.useReducer=function(e,t,n){return at.current.useReducer(e,t,n)};te.useRef=function(e){return at.current.useRef(e)};te.useState=function(e){return at.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return at.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return at.current.useTransition()};te.version="18.3.1";Ny.exports=te;var N=Ny.exports;const Ct=hh(N),mk=Zw({__proto__:null,default:Ct},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gk=N,yk=Symbol.for("react.element"),xk=Symbol.for("react.fragment"),vk=Object.prototype.hasOwnProperty,bk=gk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wk={key:!0,ref:!0,__self:!0,__source:!0};function Ry(e,t,n){var s,r={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)vk.call(t,s)&&!wk.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:yk,type:e,key:i,ref:a,props:r,_owner:bk.current}}Wl.Fragment=xk;Wl.jsx=Ry;Wl.jsxs=Ry;jy.exports=Wl;var u=jy.exports,Fu={},Iy={exports:{}},Pt={},Ly={exports:{}},Oy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,P){var E=T.length;T.push(P);e:for(;0<E;){var M=E-1>>>1,O=T[M];if(0<r(O,P))T[M]=P,T[E]=O,E=M;else break e}}function n(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var P=T[0],E=T.pop();if(E!==P){T[0]=E;e:for(var M=0,O=T.length,D=O>>>1;M<D;){var I=2*(M+1)-1,V=T[I],B=I+1,J=T[B];if(0>r(V,E))B<O&&0>r(J,V)?(T[M]=J,T[B]=E,M=B):(T[M]=V,T[I]=E,M=I);else if(B<O&&0>r(J,E))T[M]=J,T[B]=E,M=B;else break e}}return P}function r(T,P){var E=T.sortIndex-P.sortIndex;return E!==0?E:T.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,f=3,p=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var P=n(c);P!==null;){if(P.callback===null)s(c);else if(P.startTime<=T)s(c),P.sortIndex=P.expirationTime,t(l,P);else break;P=n(c)}}function w(T){if(g=!1,x(T),!y)if(n(l)!==null)y=!0,U(S);else{var P=n(c);P!==null&&X(w,P.startTime-T)}}function S(T,P){y=!1,g&&(g=!1,v(j),j=-1),p=!0;var E=f;try{for(x(P),h=n(l);h!==null&&(!(h.expirationTime>P)||T&&!L());){var M=h.callback;if(typeof M=="function"){h.callback=null,f=h.priorityLevel;var O=M(h.expirationTime<=P);P=e.unstable_now(),typeof O=="function"?h.callback=O:h===n(l)&&s(l),x(P)}else s(l);h=n(l)}if(h!==null)var D=!0;else{var I=n(c);I!==null&&X(w,I.startTime-P),D=!1}return D}finally{h=null,f=E,p=!1}}var _=!1,k=null,j=-1,C=5,A=-1;function L(){return!(e.unstable_now()-A<C)}function $(){if(k!==null){var T=e.unstable_now();A=T;var P=!0;try{P=k(!0,T)}finally{P?q():(_=!1,k=null)}}else _=!1}var q;if(typeof m=="function")q=function(){m($)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,W=Y.port2;Y.port1.onmessage=$,q=function(){W.postMessage(null)}}else q=function(){b($,0)};function U(T){k=T,_||(_=!0,q())}function X(T,P){j=b(function(){T(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,U(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var E=f;f=P;try{return T()}finally{f=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,P){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var E=f;f=T;try{return P()}finally{f=E}},e.unstable_scheduleCallback=function(T,P,E){var M=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?M+E:M):E=M,T){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=E+O,T={id:d++,callback:P,priorityLevel:T,startTime:E,expirationTime:O,sortIndex:-1},E>M?(T.sortIndex=E,t(c,T),n(l)===null&&T===n(c)&&(g?(v(j),j=-1):g=!0,X(w,E-M))):(T.sortIndex=O,t(l,T),y||p||(y=!0,U(S))),T},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(T){var P=f;return function(){var E=f;f=P;try{return T.apply(this,arguments)}finally{f=E}}}})(Oy);Ly.exports=Oy;var kk=Ly.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sk=N,St=kk;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fy=new Set,Yi={};function Xs(e,t){Ir(e,t),Ir(e+"Capture",t)}function Ir(e,t){for(Yi[e]=t,e=0;e<t.length;e++)Fy.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zu=Object.prototype.hasOwnProperty,jk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rp={},ip={};function Nk(e){return zu.call(ip,e)?!0:zu.call(rp,e)?!1:jk.test(e)?ip[e]=!0:(rp[e]=!0,!1)}function Ck(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pk(e,t,n,s){if(t===null||typeof t>"u"||Ck(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,s,r,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var yh=/[\-:]([a-z])/g;function xh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yh,xh);He[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yh,xh);He[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yh,xh);He[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function vh(e,t,n,s){var r=He.hasOwnProperty(t)?He[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pk(t,n,r,s)&&(n=null),s||r===null?Nk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var An=Sk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ba=Symbol.for("react.element"),cr=Symbol.for("react.portal"),ur=Symbol.for("react.fragment"),bh=Symbol.for("react.strict_mode"),Bu=Symbol.for("react.profiler"),zy=Symbol.for("react.provider"),By=Symbol.for("react.context"),wh=Symbol.for("react.forward_ref"),Vu=Symbol.for("react.suspense"),$u=Symbol.for("react.suspense_list"),kh=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),Vy=Symbol.for("react.offscreen"),ap=Symbol.iterator;function ti(e){return e===null||typeof e!="object"?null:(e=ap&&e[ap]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,_c;function bi(e){if(_c===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_c=t&&t[1]||""}return`
`+_c+e}var Ec=!1;function Ac(e,t){if(!e||Ec)return"";Ec=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=s.stack.split(`
`),a=r.length-1,o=i.length-1;1<=a&&0<=o&&r[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==i[o]){var l=`
`+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Ec=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?bi(e):""}function _k(e){switch(e.tag){case 5:return bi(e.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 2:case 15:return e=Ac(e.type,!1),e;case 11:return e=Ac(e.type.render,!1),e;case 1:return e=Ac(e.type,!0),e;default:return""}}function Wu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ur:return"Fragment";case cr:return"Portal";case Bu:return"Profiler";case bh:return"StrictMode";case Vu:return"Suspense";case $u:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case By:return(e.displayName||"Context")+".Consumer";case zy:return(e._context.displayName||"Context")+".Provider";case wh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kh:return t=e.displayName||null,t!==null?t:Wu(e.type)||"Memo";case Ln:t=e._payload,e=e._init;try{return Wu(e(t))}catch{}}return null}function Ek(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wu(t);case 8:return t===bh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function is(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $y(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ak(e){var t=$y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ak(e))}function Wy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=$y(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Ko(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Uu(e,t){var n=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function op(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=is(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Uy(e,t){t=t.checked,t!=null&&vh(e,"checked",t,!1)}function Hu(e,t){Uy(e,t);var n=is(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gu(e,t.type,is(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gu(e,t,n){(t!=="number"||Ko(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wi=Array.isArray;function Cr(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+is(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Ku(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(wi(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:is(n)}}function Hy(e,t){var n=is(t.value),s=is(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function up(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $a,Ky=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($a=$a||document.createElement("div"),$a.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$a.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tk=["Webkit","ms","Moz","O"];Object.keys(Ai).forEach(function(e){Tk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ai[t]=Ai[e]})});function Yy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ai.hasOwnProperty(e)&&Ai[e]?(""+t).trim():t+"px"}function qy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=Yy(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var Mk=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qu(e,t){if(t){if(Mk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Xu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=null;function Sh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ju=null,Pr=null,_r=null;function dp(e){if(e=Ta(e)){if(typeof Ju!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Yl(t),Ju(e.stateNode,e.type,t))}}function Xy(e){Pr?_r?_r.push(e):_r=[e]:Pr=e}function Qy(){if(Pr){var e=Pr,t=_r;if(_r=Pr=null,dp(e),t)for(e=0;e<t.length;e++)dp(t[e])}}function Jy(e,t){return e(t)}function Zy(){}var Tc=!1;function ex(e,t,n){if(Tc)return e(t,n);Tc=!0;try{return Jy(e,t,n)}finally{Tc=!1,(Pr!==null||_r!==null)&&(Zy(),Qy())}}function Xi(e,t){var n=e.stateNode;if(n===null)return null;var s=Yl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var Zu=!1;if(Nn)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){Zu=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{Zu=!1}function Dk(e,t,n,s,r,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ti=!1,Yo=null,qo=!1,ed=null,Rk={onError:function(e){Ti=!0,Yo=e}};function Ik(e,t,n,s,r,i,a,o,l){Ti=!1,Yo=null,Dk.apply(Rk,arguments)}function Lk(e,t,n,s,r,i,a,o,l){if(Ik.apply(this,arguments),Ti){if(Ti){var c=Yo;Ti=!1,Yo=null}else throw Error(F(198));qo||(qo=!0,ed=c)}}function Qs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hp(e){if(Qs(e)!==e)throw Error(F(188))}function Ok(e){var t=e.alternate;if(!t){if(t=Qs(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return hp(r),e;if(i===s)return hp(r),t;i=i.sibling}throw Error(F(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,s=i;break}if(o===s){a=!0,s=r,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,s=r;break}if(o===s){a=!0,s=i,n=r;break}o=o.sibling}if(!a)throw Error(F(189))}}if(n.alternate!==s)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function nx(e){return e=Ok(e),e!==null?sx(e):null}function sx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sx(e);if(t!==null)return t;e=e.sibling}return null}var rx=St.unstable_scheduleCallback,fp=St.unstable_cancelCallback,Fk=St.unstable_shouldYield,zk=St.unstable_requestPaint,Ce=St.unstable_now,Bk=St.unstable_getCurrentPriorityLevel,jh=St.unstable_ImmediatePriority,ix=St.unstable_UserBlockingPriority,Xo=St.unstable_NormalPriority,Vk=St.unstable_LowPriority,ax=St.unstable_IdlePriority,Ul=null,an=null;function $k(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Ul,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Hk,Wk=Math.log,Uk=Math.LN2;function Hk(e){return e>>>=0,e===0?32:31-(Wk(e)/Uk|0)|0}var Wa=64,Ua=4194304;function ki(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qo(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~r;o!==0?s=ki(o):(i&=a,i!==0&&(s=ki(i)))}else a=n&~r,a!==0?s=ki(a):i!==0&&(s=ki(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Gt(t),r=1<<n,s|=e[n],t&=~r;return s}function Gk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kk(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Gt(i),o=1<<a,l=r[a];l===-1?(!(o&n)||o&s)&&(r[a]=Gk(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function td(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ox(){var e=Wa;return Wa<<=1,!(Wa&4194240)&&(Wa=64),e}function Mc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ea(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gt(t),e[t]=n}function Yk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Gt(n),i=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~i}}function Nh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Gt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var ce=0;function lx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cx,Ch,ux,dx,hx,nd=!1,Ha=[],Kn=null,Yn=null,qn=null,Qi=new Map,Ji=new Map,zn=[],qk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pp(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Qi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(t.pointerId)}}function si(e,t,n,s,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Ta(t),t!==null&&Ch(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Xk(e,t,n,s,r){switch(t){case"focusin":return Kn=si(Kn,e,t,n,s,r),!0;case"dragenter":return Yn=si(Yn,e,t,n,s,r),!0;case"mouseover":return qn=si(qn,e,t,n,s,r),!0;case"pointerover":var i=r.pointerId;return Qi.set(i,si(Qi.get(i)||null,e,t,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Ji.set(i,si(Ji.get(i)||null,e,t,n,s,r)),!0}return!1}function fx(e){var t=_s(e.target);if(t!==null){var n=Qs(t);if(n!==null){if(t=n.tag,t===13){if(t=tx(n),t!==null){e.blockedOn=t,hx(e.priority,function(){ux(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Qu=s,n.target.dispatchEvent(s),Qu=null}else return t=Ta(n),t!==null&&Ch(t),e.blockedOn=n,!1;t.shift()}return!0}function mp(e,t,n){Eo(e)&&n.delete(t)}function Qk(){nd=!1,Kn!==null&&Eo(Kn)&&(Kn=null),Yn!==null&&Eo(Yn)&&(Yn=null),qn!==null&&Eo(qn)&&(qn=null),Qi.forEach(mp),Ji.forEach(mp)}function ri(e,t){e.blockedOn===t&&(e.blockedOn=null,nd||(nd=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,Qk)))}function Zi(e){function t(r){return ri(r,e)}if(0<Ha.length){ri(Ha[0],e);for(var n=1;n<Ha.length;n++){var s=Ha[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Kn!==null&&ri(Kn,e),Yn!==null&&ri(Yn,e),qn!==null&&ri(qn,e),Qi.forEach(t),Ji.forEach(t),n=0;n<zn.length;n++)s=zn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<zn.length&&(n=zn[0],n.blockedOn===null);)fx(n),n.blockedOn===null&&zn.shift()}var Er=An.ReactCurrentBatchConfig,Jo=!0;function Jk(e,t,n,s){var r=ce,i=Er.transition;Er.transition=null;try{ce=1,Ph(e,t,n,s)}finally{ce=r,Er.transition=i}}function Zk(e,t,n,s){var r=ce,i=Er.transition;Er.transition=null;try{ce=4,Ph(e,t,n,s)}finally{ce=r,Er.transition=i}}function Ph(e,t,n,s){if(Jo){var r=sd(e,t,n,s);if(r===null)$c(e,t,s,Zo,n),pp(e,s);else if(Xk(r,e,t,n,s))s.stopPropagation();else if(pp(e,s),t&4&&-1<qk.indexOf(e)){for(;r!==null;){var i=Ta(r);if(i!==null&&cx(i),i=sd(e,t,n,s),i===null&&$c(e,t,s,Zo,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else $c(e,t,s,null,n)}}var Zo=null;function sd(e,t,n,s){if(Zo=null,e=Sh(s),e=_s(e),e!==null)if(t=Qs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=tx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zo=e,null}function px(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bk()){case jh:return 1;case ix:return 4;case Xo:case Vk:return 16;case ax:return 536870912;default:return 16}default:return 16}}var Vn=null,_h=null,Ao=null;function mx(){if(Ao)return Ao;var e,t=_h,n=t.length,s,r="value"in Vn?Vn.value:Vn.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(s=1;s<=a&&t[n-s]===r[i-s];s++);return Ao=r.slice(e,1<s?1-s:void 0)}function To(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ga(){return!0}function gp(){return!1}function _t(e){function t(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ga:gp,this.isPropagationStopped=gp,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eh=_t(qr),Aa=Se({},qr,{view:0,detail:0}),eS=_t(Aa),Dc,Rc,ii,Hl=Se({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ah,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(Dc=e.screenX-ii.screenX,Rc=e.screenY-ii.screenY):Rc=Dc=0,ii=e),Dc)},movementY:function(e){return"movementY"in e?e.movementY:Rc}}),yp=_t(Hl),tS=Se({},Hl,{dataTransfer:0}),nS=_t(tS),sS=Se({},Aa,{relatedTarget:0}),Ic=_t(sS),rS=Se({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),iS=_t(rS),aS=Se({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oS=_t(aS),lS=Se({},qr,{data:0}),xp=_t(lS),cS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dS[e])?!!t[e]:!1}function Ah(){return hS}var fS=Se({},Aa,{key:function(e){if(e.key){var t=cS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=To(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ah,charCode:function(e){return e.type==="keypress"?To(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?To(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pS=_t(fS),mS=Se({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vp=_t(mS),gS=Se({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ah}),yS=_t(gS),xS=Se({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vS=_t(xS),bS=Se({},Hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wS=_t(bS),kS=[9,13,27,32],Th=Nn&&"CompositionEvent"in window,Mi=null;Nn&&"documentMode"in document&&(Mi=document.documentMode);var SS=Nn&&"TextEvent"in window&&!Mi,gx=Nn&&(!Th||Mi&&8<Mi&&11>=Mi),bp=" ",wp=!1;function yx(e,t){switch(e){case"keyup":return kS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function jS(e,t){switch(e){case"compositionend":return xx(t);case"keypress":return t.which!==32?null:(wp=!0,bp);case"textInput":return e=t.data,e===bp&&wp?null:e;default:return null}}function NS(e,t){if(dr)return e==="compositionend"||!Th&&yx(e,t)?(e=mx(),Ao=_h=Vn=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gx&&t.locale!=="ko"?null:t.data;default:return null}}var CS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CS[e.type]:t==="textarea"}function vx(e,t,n,s){Xy(s),t=el(t,"onChange"),0<t.length&&(n=new Eh("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Di=null,ea=null;function PS(e){Ax(e,0)}function Gl(e){var t=pr(e);if(Wy(t))return e}function _S(e,t){if(e==="change")return t}var bx=!1;if(Nn){var Lc;if(Nn){var Oc="oninput"in document;if(!Oc){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),Oc=typeof Sp.oninput=="function"}Lc=Oc}else Lc=!1;bx=Lc&&(!document.documentMode||9<document.documentMode)}function jp(){Di&&(Di.detachEvent("onpropertychange",wx),ea=Di=null)}function wx(e){if(e.propertyName==="value"&&Gl(ea)){var t=[];vx(t,ea,e,Sh(e)),ex(PS,t)}}function ES(e,t,n){e==="focusin"?(jp(),Di=t,ea=n,Di.attachEvent("onpropertychange",wx)):e==="focusout"&&jp()}function AS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gl(ea)}function TS(e,t){if(e==="click")return Gl(t)}function MS(e,t){if(e==="input"||e==="change")return Gl(t)}function DS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:DS;function ta(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!zu.call(t,r)||!qt(e[r],t[r]))return!1}return!0}function Np(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cp(e,t){var n=Np(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Np(n)}}function kx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sx(){for(var e=window,t=Ko();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ko(e.document)}return t}function Mh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function RS(e){var t=Sx(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kx(n.ownerDocument.documentElement,n)){if(s!==null&&Mh(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!e.extend&&i>s&&(r=s,s=i,i=r),r=Cp(n,i);var a=Cp(n,s);r&&a&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var IS=Nn&&"documentMode"in document&&11>=document.documentMode,hr=null,rd=null,Ri=null,id=!1;function Pp(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;id||hr==null||hr!==Ko(s)||(s=hr,"selectionStart"in s&&Mh(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ri&&ta(Ri,s)||(Ri=s,s=el(rd,"onSelect"),0<s.length&&(t=new Eh("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=hr)))}function Ka(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionend:Ka("Transition","TransitionEnd")},Fc={},jx={};Nn&&(jx=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function Kl(e){if(Fc[e])return Fc[e];if(!fr[e])return e;var t=fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jx)return Fc[e]=t[n];return e}var Nx=Kl("animationend"),Cx=Kl("animationiteration"),Px=Kl("animationstart"),_x=Kl("transitionend"),Ex=new Map,_p="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(e,t){Ex.set(e,t),Xs(t,[e])}for(var zc=0;zc<_p.length;zc++){var Bc=_p[zc],LS=Bc.toLowerCase(),OS=Bc[0].toUpperCase()+Bc.slice(1);us(LS,"on"+OS)}us(Nx,"onAnimationEnd");us(Cx,"onAnimationIteration");us(Px,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(_x,"onTransitionEnd");Ir("onMouseEnter",["mouseout","mouseover"]);Ir("onMouseLeave",["mouseout","mouseover"]);Ir("onPointerEnter",["pointerout","pointerover"]);Ir("onPointerLeave",["pointerout","pointerover"]);Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Si));function Ep(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Lk(s,t,void 0,e),e.currentTarget=null}function Ax(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var a=s.length-1;0<=a;a--){var o=s[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&r.isPropagationStopped())break e;Ep(r,o,c),i=l}else for(a=0;a<s.length;a++){if(o=s[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&r.isPropagationStopped())break e;Ep(r,o,c),i=l}}}if(qo)throw e=ed,qo=!1,ed=null,e}function pe(e,t){var n=t[ud];n===void 0&&(n=t[ud]=new Set);var s=e+"__bubble";n.has(s)||(Tx(t,e,2,!1),n.add(s))}function Vc(e,t,n){var s=0;t&&(s|=4),Tx(n,e,s,t)}var Ya="_reactListening"+Math.random().toString(36).slice(2);function na(e){if(!e[Ya]){e[Ya]=!0,Fy.forEach(function(n){n!=="selectionchange"&&(FS.has(n)||Vc(n,!1,e),Vc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ya]||(t[Ya]=!0,Vc("selectionchange",!1,t))}}function Tx(e,t,n,s){switch(px(t)){case 1:var r=Jk;break;case 4:r=Zk;break;default:r=Ph}n=r.bind(null,t,n,e),r=void 0,!Zu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function $c(e,t,n,s,r){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=s.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=_s(o),a===null)return;if(l=a.tag,l===5||l===6){s=i=a;continue e}o=o.parentNode}}s=s.return}ex(function(){var c=i,d=Sh(n),h=[];e:{var f=Ex.get(e);if(f!==void 0){var p=Eh,y=e;switch(e){case"keypress":if(To(n)===0)break e;case"keydown":case"keyup":p=pS;break;case"focusin":y="focus",p=Ic;break;case"focusout":y="blur",p=Ic;break;case"beforeblur":case"afterblur":p=Ic;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=nS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=yS;break;case Nx:case Cx:case Px:p=iS;break;case _x:p=vS;break;case"scroll":p=eS;break;case"wheel":p=wS;break;case"copy":case"cut":case"paste":p=oS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vp}var g=(t&4)!==0,b=!g&&e==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var m=c,x;m!==null;){x=m;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,v!==null&&(w=Xi(m,v),w!=null&&g.push(sa(m,w,x)))),b)break;m=m.return}0<g.length&&(f=new p(f,y,null,n,d),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Qu&&(y=n.relatedTarget||n.fromElement)&&(_s(y)||y[Cn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?_s(y):null,y!==null&&(b=Qs(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(g=yp,w="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=vp,w="onPointerLeave",v="onPointerEnter",m="pointer"),b=p==null?f:pr(p),x=y==null?f:pr(y),f=new g(w,m+"leave",p,n,d),f.target=b,f.relatedTarget=x,w=null,_s(d)===c&&(g=new g(v,m+"enter",y,n,d),g.target=x,g.relatedTarget=b,w=g),b=w,p&&y)t:{for(g=p,v=y,m=0,x=g;x;x=nr(x))m++;for(x=0,w=v;w;w=nr(w))x++;for(;0<m-x;)g=nr(g),m--;for(;0<x-m;)v=nr(v),x--;for(;m--;){if(g===v||v!==null&&g===v.alternate)break t;g=nr(g),v=nr(v)}g=null}else g=null;p!==null&&Ap(h,f,p,g,!1),y!==null&&b!==null&&Ap(h,b,y,g,!0)}}e:{if(f=c?pr(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=_S;else if(kp(f))if(bx)S=MS;else{S=AS;var _=ES}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=TS);if(S&&(S=S(e,c))){vx(h,S,n,d);break e}_&&_(e,f,c),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Gu(f,"number",f.value)}switch(_=c?pr(c):window,e){case"focusin":(kp(_)||_.contentEditable==="true")&&(hr=_,rd=c,Ri=null);break;case"focusout":Ri=rd=hr=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,Pp(h,n,d);break;case"selectionchange":if(IS)break;case"keydown":case"keyup":Pp(h,n,d)}var k;if(Th)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else dr?yx(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(gx&&n.locale!=="ko"&&(dr||j!=="onCompositionStart"?j==="onCompositionEnd"&&dr&&(k=mx()):(Vn=d,_h="value"in Vn?Vn.value:Vn.textContent,dr=!0)),_=el(c,j),0<_.length&&(j=new xp(j,e,null,n,d),h.push({event:j,listeners:_}),k?j.data=k:(k=xx(n),k!==null&&(j.data=k)))),(k=SS?jS(e,n):NS(e,n))&&(c=el(c,"onBeforeInput"),0<c.length&&(d=new xp("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=k))}Ax(h,t)})}function sa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function el(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Xi(e,n),i!=null&&s.unshift(sa(e,i,r)),i=Xi(e,t),i!=null&&s.push(sa(e,i,r))),e=e.return}return s}function nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ap(e,t,n,s,r){for(var i=t._reactName,a=[];n!==null&&n!==s;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===s)break;o.tag===5&&c!==null&&(o=c,r?(l=Xi(n,i),l!=null&&a.unshift(sa(n,l,o))):r||(l=Xi(n,i),l!=null&&a.push(sa(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var zS=/\r\n?/g,BS=/\u0000|\uFFFD/g;function Tp(e){return(typeof e=="string"?e:""+e).replace(zS,`
`).replace(BS,"")}function qa(e,t,n){if(t=Tp(t),Tp(e)!==t&&n)throw Error(F(425))}function tl(){}var ad=null,od=null;function ld(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cd=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,$S=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(e){return Mp.resolve(null).then(e).catch(WS)}:cd;function WS(e){setTimeout(function(){throw e})}function Wc(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),Zi(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Zi(t)}function Xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),nn="__reactFiber$"+Xr,ra="__reactProps$"+Xr,Cn="__reactContainer$"+Xr,ud="__reactEvents$"+Xr,US="__reactListeners$"+Xr,HS="__reactHandles$"+Xr;function _s(e){var t=e[nn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cn]||n[nn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dp(e);e!==null;){if(n=e[nn])return n;e=Dp(e)}return t}e=n,n=e.parentNode}return null}function Ta(e){return e=e[nn]||e[Cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Yl(e){return e[ra]||null}var dd=[],mr=-1;function ds(e){return{current:e}}function ge(e){0>mr||(e.current=dd[mr],dd[mr]=null,mr--)}function ue(e,t){mr++,dd[mr]=e.current,e.current=t}var as={},Ze=ds(as),pt=ds(!1),Bs=as;function Lr(e,t){var n=e.type.contextTypes;if(!n)return as;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function mt(e){return e=e.childContextTypes,e!=null}function nl(){ge(pt),ge(Ze)}function Rp(e,t,n){if(Ze.current!==as)throw Error(F(168));ue(Ze,t),ue(pt,n)}function Mx(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(F(108,Ek(e)||"Unknown",r));return Se({},n,s)}function sl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||as,Bs=Ze.current,ue(Ze,e),ue(pt,pt.current),!0}function Ip(e,t,n){var s=e.stateNode;if(!s)throw Error(F(169));n?(e=Mx(e,t,Bs),s.__reactInternalMemoizedMergedChildContext=e,ge(pt),ge(Ze),ue(Ze,e)):ge(pt),ue(pt,n)}var pn=null,ql=!1,Uc=!1;function Dx(e){pn===null?pn=[e]:pn.push(e)}function GS(e){ql=!0,Dx(e)}function hs(){if(!Uc&&pn!==null){Uc=!0;var e=0,t=ce;try{var n=pn;for(ce=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}pn=null,ql=!1}catch(r){throw pn!==null&&(pn=pn.slice(e+1)),rx(jh,hs),r}finally{ce=t,Uc=!1}}return null}var gr=[],yr=0,rl=null,il=0,Dt=[],Rt=0,Vs=null,gn=1,yn="";function ws(e,t){gr[yr++]=il,gr[yr++]=rl,rl=e,il=t}function Rx(e,t,n){Dt[Rt++]=gn,Dt[Rt++]=yn,Dt[Rt++]=Vs,Vs=e;var s=gn;e=yn;var r=32-Gt(s)-1;s&=~(1<<r),n+=1;var i=32-Gt(t)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,gn=1<<32-Gt(t)+r|n<<r|s,yn=i+e}else gn=1<<i|n<<r|s,yn=e}function Dh(e){e.return!==null&&(ws(e,1),Rx(e,1,0))}function Rh(e){for(;e===rl;)rl=gr[--yr],gr[yr]=null,il=gr[--yr],gr[yr]=null;for(;e===Vs;)Vs=Dt[--Rt],Dt[Rt]=null,yn=Dt[--Rt],Dt[Rt]=null,gn=Dt[--Rt],Dt[Rt]=null}var kt=null,wt=null,ye=!1,Ht=null;function Ix(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,wt=Xn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vs!==null?{id:gn,overflow:yn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kt=e,wt=null,!0):!1;default:return!1}}function hd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fd(e){if(ye){var t=wt;if(t){var n=t;if(!Lp(e,t)){if(hd(e))throw Error(F(418));t=Xn(n.nextSibling);var s=kt;t&&Lp(e,t)?Ix(s,n):(e.flags=e.flags&-4097|2,ye=!1,kt=e)}}else{if(hd(e))throw Error(F(418));e.flags=e.flags&-4097|2,ye=!1,kt=e}}}function Op(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function Xa(e){if(e!==kt)return!1;if(!ye)return Op(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ld(e.type,e.memoizedProps)),t&&(t=wt)){if(hd(e))throw Lx(),Error(F(418));for(;t;)Ix(e,t),t=Xn(t.nextSibling)}if(Op(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wt=Xn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=kt?Xn(e.stateNode.nextSibling):null;return!0}function Lx(){for(var e=wt;e;)e=Xn(e.nextSibling)}function Or(){wt=kt=null,ye=!1}function Ih(e){Ht===null?Ht=[e]:Ht.push(e)}var KS=An.ReactCurrentBatchConfig;function ai(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var s=n.stateNode}if(!s)throw Error(F(147,e));var r=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=r.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function Qa(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fp(e){var t=e._init;return t(e._payload)}function Ox(e){function t(v,m){if(e){var x=v.deletions;x===null?(v.deletions=[m],v.flags|=16):x.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function s(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function r(v,m){return v=es(v,m),v.index=0,v.sibling=null,v}function i(v,m,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<m?(v.flags|=2,m):x):(v.flags|=2,m)):(v.flags|=1048576,m)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,m,x,w){return m===null||m.tag!==6?(m=Qc(x,v.mode,w),m.return=v,m):(m=r(m,x),m.return=v,m)}function l(v,m,x,w){var S=x.type;return S===ur?d(v,m,x.props.children,w,x.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ln&&Fp(S)===m.type)?(w=r(m,x.props),w.ref=ai(v,m,x),w.return=v,w):(w=Fo(x.type,x.key,x.props,null,v.mode,w),w.ref=ai(v,m,x),w.return=v,w)}function c(v,m,x,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Jc(x,v.mode,w),m.return=v,m):(m=r(m,x.children||[]),m.return=v,m)}function d(v,m,x,w,S){return m===null||m.tag!==7?(m=Is(x,v.mode,w,S),m.return=v,m):(m=r(m,x),m.return=v,m)}function h(v,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Qc(""+m,v.mode,x),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ba:return x=Fo(m.type,m.key,m.props,null,v.mode,x),x.ref=ai(v,null,m),x.return=v,x;case cr:return m=Jc(m,v.mode,x),m.return=v,m;case Ln:var w=m._init;return h(v,w(m._payload),x)}if(wi(m)||ti(m))return m=Is(m,v.mode,x,null),m.return=v,m;Qa(v,m)}return null}function f(v,m,x,w){var S=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:o(v,m,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ba:return x.key===S?l(v,m,x,w):null;case cr:return x.key===S?c(v,m,x,w):null;case Ln:return S=x._init,f(v,m,S(x._payload),w)}if(wi(x)||ti(x))return S!==null?null:d(v,m,x,w,null);Qa(v,x)}return null}function p(v,m,x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(x)||null,o(m,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ba:return v=v.get(w.key===null?x:w.key)||null,l(m,v,w,S);case cr:return v=v.get(w.key===null?x:w.key)||null,c(m,v,w,S);case Ln:var _=w._init;return p(v,m,x,_(w._payload),S)}if(wi(w)||ti(w))return v=v.get(x)||null,d(m,v,w,S,null);Qa(m,w)}return null}function y(v,m,x,w){for(var S=null,_=null,k=m,j=m=0,C=null;k!==null&&j<x.length;j++){k.index>j?(C=k,k=null):C=k.sibling;var A=f(v,k,x[j],w);if(A===null){k===null&&(k=C);break}e&&k&&A.alternate===null&&t(v,k),m=i(A,m,j),_===null?S=A:_.sibling=A,_=A,k=C}if(j===x.length)return n(v,k),ye&&ws(v,j),S;if(k===null){for(;j<x.length;j++)k=h(v,x[j],w),k!==null&&(m=i(k,m,j),_===null?S=k:_.sibling=k,_=k);return ye&&ws(v,j),S}for(k=s(v,k);j<x.length;j++)C=p(k,v,j,x[j],w),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?j:C.key),m=i(C,m,j),_===null?S=C:_.sibling=C,_=C);return e&&k.forEach(function(L){return t(v,L)}),ye&&ws(v,j),S}function g(v,m,x,w){var S=ti(x);if(typeof S!="function")throw Error(F(150));if(x=S.call(x),x==null)throw Error(F(151));for(var _=S=null,k=m,j=m=0,C=null,A=x.next();k!==null&&!A.done;j++,A=x.next()){k.index>j?(C=k,k=null):C=k.sibling;var L=f(v,k,A.value,w);if(L===null){k===null&&(k=C);break}e&&k&&L.alternate===null&&t(v,k),m=i(L,m,j),_===null?S=L:_.sibling=L,_=L,k=C}if(A.done)return n(v,k),ye&&ws(v,j),S;if(k===null){for(;!A.done;j++,A=x.next())A=h(v,A.value,w),A!==null&&(m=i(A,m,j),_===null?S=A:_.sibling=A,_=A);return ye&&ws(v,j),S}for(k=s(v,k);!A.done;j++,A=x.next())A=p(k,v,j,A.value,w),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?j:A.key),m=i(A,m,j),_===null?S=A:_.sibling=A,_=A);return e&&k.forEach(function($){return t(v,$)}),ye&&ws(v,j),S}function b(v,m,x,w){if(typeof x=="object"&&x!==null&&x.type===ur&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ba:e:{for(var S=x.key,_=m;_!==null;){if(_.key===S){if(S=x.type,S===ur){if(_.tag===7){n(v,_.sibling),m=r(_,x.props.children),m.return=v,v=m;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ln&&Fp(S)===_.type){n(v,_.sibling),m=r(_,x.props),m.ref=ai(v,_,x),m.return=v,v=m;break e}n(v,_);break}else t(v,_);_=_.sibling}x.type===ur?(m=Is(x.props.children,v.mode,w,x.key),m.return=v,v=m):(w=Fo(x.type,x.key,x.props,null,v.mode,w),w.ref=ai(v,m,x),w.return=v,v=w)}return a(v);case cr:e:{for(_=x.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(v,m.sibling),m=r(m,x.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=Jc(x,v.mode,w),m.return=v,v=m}return a(v);case Ln:return _=x._init,b(v,m,_(x._payload),w)}if(wi(x))return y(v,m,x,w);if(ti(x))return g(v,m,x,w);Qa(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(v,m.sibling),m=r(m,x),m.return=v,v=m):(n(v,m),m=Qc(x,v.mode,w),m.return=v,v=m),a(v)):n(v,m)}return b}var Fr=Ox(!0),Fx=Ox(!1),al=ds(null),ol=null,xr=null,Lh=null;function Oh(){Lh=xr=ol=null}function Fh(e){var t=al.current;ge(al),e._currentValue=t}function pd(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t){ol=e,Lh=xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if(Lh!==e)if(e={context:e,memoizedValue:t,next:null},xr===null){if(ol===null)throw Error(F(308));xr=e,ol.dependencies={lanes:0,firstContext:e}}else xr=xr.next=e;return t}var Es=null;function zh(e){Es===null?Es=[e]:Es.push(e)}function zx(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,zh(t)):(n.next=r.next,r.next=n),t.interleaved=n,Pn(e,s)}function Pn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var On=!1;function Bh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,se&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,Pn(e,n)}return r=s.interleaved,r===null?(t.next=t,zh(s)):(t.next=r.next,r.next=t),s.interleaved=t,Pn(e,n)}function Mo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Nh(e,n)}}function zp(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ll(e,t,n,s){var r=e.updateQueue;On=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=r.baseState;a=0,d=c=l=null,o=i;do{var f=o.lane,p=o.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,g=o;switch(f=t,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=Se({},h,f);break e;case 2:On=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;f=o,o=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(d===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,t=r.shared.interleaved,t!==null){r=t;do a|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);Ws|=a,e.lanes=a,e.memoizedState=h}}function Bp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(F(191,r));r.call(s)}}}var Ma={},on=ds(Ma),ia=ds(Ma),aa=ds(Ma);function As(e){if(e===Ma)throw Error(F(174));return e}function Vh(e,t){switch(ue(aa,t),ue(ia,e),ue(on,Ma),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yu(t,e)}ge(on),ue(on,t)}function zr(){ge(on),ge(ia),ge(aa)}function Vx(e){As(aa.current);var t=As(on.current),n=Yu(t,e.type);t!==n&&(ue(ia,e),ue(on,n))}function $h(e){ia.current===e&&(ge(on),ge(ia))}var xe=ds(0);function cl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hc=[];function Wh(){for(var e=0;e<Hc.length;e++)Hc[e]._workInProgressVersionPrimary=null;Hc.length=0}var Do=An.ReactCurrentDispatcher,Gc=An.ReactCurrentBatchConfig,$s=0,we=null,Me=null,Oe=null,ul=!1,Ii=!1,oa=0,YS=0;function Ge(){throw Error(F(321))}function Uh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qt(e[n],t[n]))return!1;return!0}function Hh(e,t,n,s,r,i){if($s=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Do.current=e===null||e.memoizedState===null?JS:ZS,e=n(s,r),Ii){i=0;do{if(Ii=!1,oa=0,25<=i)throw Error(F(301));i+=1,Oe=Me=null,t.updateQueue=null,Do.current=e2,e=n(s,r)}while(Ii)}if(Do.current=dl,t=Me!==null&&Me.next!==null,$s=0,Oe=Me=we=null,ul=!1,t)throw Error(F(300));return e}function Gh(){var e=oa!==0;return oa=0,e}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?we.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function zt(){if(Me===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Oe===null?we.memoizedState:Oe.next;if(t!==null)Oe=t,Me=e;else{if(e===null)throw Error(F(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Oe===null?we.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function la(e,t){return typeof t=="function"?t(e):t}function Kc(e){var t=zt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var s=Me,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var o=a=null,l=null,c=i;do{var d=c.lane;if(($s&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=s):l=l.next=h,we.lanes|=d,Ws|=d}c=c.next}while(c!==null&&c!==i);l===null?a=s:l.next=o,qt(s,t.memoizedState)||(ft=!0),t.memoizedState=s,t.baseState=a,t.baseQueue=l,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do i=r.lane,we.lanes|=i,Ws|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yc(e){var t=zt(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=e(i,a.action),a=a.next;while(a!==r);qt(i,t.memoizedState)||(ft=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function $x(){}function Wx(e,t){var n=we,s=zt(),r=t(),i=!qt(s.memoizedState,r);if(i&&(s.memoizedState=r,ft=!0),s=s.queue,Kh(Gx.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,ca(9,Hx.bind(null,n,s,r,t),void 0,null),ze===null)throw Error(F(349));$s&30||Ux(n,t,r)}return r}function Ux(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hx(e,t,n,s){t.value=n,t.getSnapshot=s,Kx(t)&&Yx(e)}function Gx(e,t,n){return n(function(){Kx(t)&&Yx(e)})}function Kx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qt(e,n)}catch{return!0}}function Yx(e){var t=Pn(e,1);t!==null&&Kt(t,e,1,-1)}function Vp(e){var t=en();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t.queue=e,e=e.dispatch=QS.bind(null,we,e),[t.memoizedState,e]}function ca(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function qx(){return zt().memoizedState}function Ro(e,t,n,s){var r=en();we.flags|=e,r.memoizedState=ca(1|t,n,void 0,s===void 0?null:s)}function Xl(e,t,n,s){var r=zt();s=s===void 0?null:s;var i=void 0;if(Me!==null){var a=Me.memoizedState;if(i=a.destroy,s!==null&&Uh(s,a.deps)){r.memoizedState=ca(t,n,i,s);return}}we.flags|=e,r.memoizedState=ca(1|t,n,i,s)}function $p(e,t){return Ro(8390656,8,e,t)}function Kh(e,t){return Xl(2048,8,e,t)}function Xx(e,t){return Xl(4,2,e,t)}function Qx(e,t){return Xl(4,4,e,t)}function Jx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zx(e,t,n){return n=n!=null?n.concat([e]):null,Xl(4,4,Jx.bind(null,t,e),n)}function Yh(){}function ev(e,t){var n=zt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Uh(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function tv(e,t){var n=zt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Uh(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function nv(e,t,n){return $s&21?(qt(n,t)||(n=ox(),we.lanes|=n,Ws|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=n)}function qS(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var s=Gc.transition;Gc.transition={};try{e(!1),t()}finally{ce=n,Gc.transition=s}}function sv(){return zt().memoizedState}function XS(e,t,n){var s=Zn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},rv(e))iv(t,n);else if(n=zx(e,t,n,s),n!==null){var r=it();Kt(n,e,s,r),av(n,t,s)}}function QS(e,t,n){var s=Zn(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(rv(e))iv(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(r.hasEagerState=!0,r.eagerState=o,qt(o,a)){var l=t.interleaved;l===null?(r.next=r,zh(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=zx(e,t,r,s),n!==null&&(r=it(),Kt(n,e,s,r),av(n,t,s))}}function rv(e){var t=e.alternate;return e===we||t!==null&&t===we}function iv(e,t){Ii=ul=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function av(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Nh(e,n)}}var dl={readContext:Ft,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},JS={readContext:Ft,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:$p,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ro(4194308,4,Jx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=en();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=en();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=XS.bind(null,we,e),[s.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:Vp,useDebugValue:Yh,useDeferredValue:function(e){return en().memoizedState=e},useTransition:function(){var e=Vp(!1),t=e[0];return e=qS.bind(null,e[1]),en().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=we,r=en();if(ye){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),ze===null)throw Error(F(349));$s&30||Ux(s,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,$p(Gx.bind(null,s,i,e),[e]),s.flags|=2048,ca(9,Hx.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=en(),t=ze.identifierPrefix;if(ye){var n=yn,s=gn;n=(s&~(1<<32-Gt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=oa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=YS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ZS={readContext:Ft,useCallback:ev,useContext:Ft,useEffect:Kh,useImperativeHandle:Zx,useInsertionEffect:Xx,useLayoutEffect:Qx,useMemo:tv,useReducer:Kc,useRef:qx,useState:function(){return Kc(la)},useDebugValue:Yh,useDeferredValue:function(e){var t=zt();return nv(t,Me.memoizedState,e)},useTransition:function(){var e=Kc(la)[0],t=zt().memoizedState;return[e,t]},useMutableSource:$x,useSyncExternalStore:Wx,useId:sv,unstable_isNewReconciler:!1},e2={readContext:Ft,useCallback:ev,useContext:Ft,useEffect:Kh,useImperativeHandle:Zx,useInsertionEffect:Xx,useLayoutEffect:Qx,useMemo:tv,useReducer:Yc,useRef:qx,useState:function(){return Yc(la)},useDebugValue:Yh,useDeferredValue:function(e){var t=zt();return Me===null?t.memoizedState=e:nv(t,Me.memoizedState,e)},useTransition:function(){var e=Yc(la)[0],t=zt().memoizedState;return[e,t]},useMutableSource:$x,useSyncExternalStore:Wx,useId:sv,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function md(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ql={isMounted:function(e){return(e=e._reactInternals)?Qs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=it(),r=Zn(e),i=wn(s,r);i.payload=t,n!=null&&(i.callback=n),t=Qn(e,i,r),t!==null&&(Kt(t,e,r,s),Mo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=it(),r=Zn(e),i=wn(s,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Qn(e,i,r),t!==null&&(Kt(t,e,r,s),Mo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),s=Zn(e),r=wn(n,s);r.tag=2,t!=null&&(r.callback=t),t=Qn(e,r,s),t!==null&&(Kt(t,e,s,n),Mo(t,e,s))}};function Wp(e,t,n,s,r,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,a):t.prototype&&t.prototype.isPureReactComponent?!ta(n,s)||!ta(r,i):!0}function ov(e,t,n){var s=!1,r=as,i=t.contextType;return typeof i=="object"&&i!==null?i=Ft(i):(r=mt(t)?Bs:Ze.current,s=t.contextTypes,i=(s=s!=null)?Lr(e,r):as),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ql,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function Up(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Ql.enqueueReplaceState(t,t.state,null)}function gd(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Bh(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=Ft(i):(i=mt(t)?Bs:Ze.current,r.context=Lr(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(md(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Ql.enqueueReplaceState(r,r.state,null),ll(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Br(e,t){try{var n="",s=t;do n+=_k(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function qc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var t2=typeof WeakMap=="function"?WeakMap:Map;function lv(e,t,n){n=wn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){fl||(fl=!0,Pd=s),yd(e,t)},n}function cv(e,t,n){n=wn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){yd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){yd(e,t),typeof s!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Hp(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new t2;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=m2.bind(null,e,t,n),t.then(e,e))}function Gp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kp(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wn(-1,1),t.tag=2,Qn(n,t,1))),n.lanes|=1),e)}var n2=An.ReactCurrentOwner,ft=!1;function st(e,t,n,s){t.child=e===null?Fx(t,null,n,s):Fr(t,e.child,n,s)}function Yp(e,t,n,s,r){n=n.render;var i=t.ref;return Ar(t,r),s=Hh(e,t,n,s,i,r),n=Gh(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,_n(e,t,r)):(ye&&n&&Dh(t),t.flags|=1,st(e,t,s,r),t.child)}function qp(e,t,n,s,r){if(e===null){var i=n.type;return typeof i=="function"&&!nf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,uv(e,t,i,s,r)):(e=Fo(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ta,n(a,s)&&e.ref===t.ref)return _n(e,t,r)}return t.flags|=1,e=es(i,s),e.ref=t.ref,e.return=t,t.child=e}function uv(e,t,n,s,r){if(e!==null){var i=e.memoizedProps;if(ta(i,s)&&e.ref===t.ref)if(ft=!1,t.pendingProps=s=i,(e.lanes&r)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,_n(e,t,r)}return xd(e,t,n,s,r)}function dv(e,t,n){var s=t.pendingProps,r=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(br,vt),vt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(br,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,ue(br,vt),vt|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,ue(br,vt),vt|=s;return st(e,t,r,n),t.child}function hv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xd(e,t,n,s,r){var i=mt(n)?Bs:Ze.current;return i=Lr(t,i),Ar(t,r),n=Hh(e,t,n,s,i,r),s=Gh(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,_n(e,t,r)):(ye&&s&&Dh(t),t.flags|=1,st(e,t,n,r),t.child)}function Xp(e,t,n,s,r){if(mt(n)){var i=!0;sl(t)}else i=!1;if(Ar(t,r),t.stateNode===null)Io(e,t),ov(t,n,s),gd(t,n,s,r),s=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ft(c):(c=mt(n)?Bs:Ze.current,c=Lr(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==s||l!==c)&&Up(t,a,s,c),On=!1;var f=t.memoizedState;a.state=f,ll(t,s,a,r),l=t.memoizedState,o!==s||f!==l||pt.current||On?(typeof d=="function"&&(md(t,n,d,s),l=t.memoizedState),(o=On||Wp(t,n,o,s,f,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),a.props=s,a.state=l,a.context=c,s=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,Bx(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Wt(t.type,o),a.props=c,h=t.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ft(l):(l=mt(n)?Bs:Ze.current,l=Lr(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&Up(t,a,s,l),On=!1,f=t.memoizedState,a.state=f,ll(t,s,a,r);var y=t.memoizedState;o!==h||f!==y||pt.current||On?(typeof p=="function"&&(md(t,n,p,s),y=t.memoizedState),(c=On||Wp(t,n,c,s,f,y,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,y,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=y),a.props=s,a.state=y,a.context=l,s=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return vd(e,t,n,s,i,r)}function vd(e,t,n,s,r,i){hv(e,t);var a=(t.flags&128)!==0;if(!s&&!a)return r&&Ip(t,n,!1),_n(e,t,i);s=t.stateNode,n2.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&a?(t.child=Fr(t,e.child,null,i),t.child=Fr(t,null,o,i)):st(e,t,o,i),t.memoizedState=s.state,r&&Ip(t,n,!0),t.child}function fv(e){var t=e.stateNode;t.pendingContext?Rp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rp(e,t.context,!1),Vh(e,t.containerInfo)}function Qp(e,t,n,s,r){return Or(),Ih(r),t.flags|=256,st(e,t,n,s),t.child}var bd={dehydrated:null,treeContext:null,retryLane:0};function wd(e){return{baseLanes:e,cachePool:null,transitions:null}}function pv(e,t,n){var s=t.pendingProps,r=xe.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(r&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),ue(xe,r&1),e===null)return fd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=s.children,e=s.fallback,i?(s=t.mode,i=t.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ec(a,s,0,null),e=Is(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=wd(n),t.memoizedState=bd,e):qh(t,a));if(r=e.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return s2(e,t,a,s,o,r,n);if(i){i=s.fallback,a=t.mode,r=e.child,o=r.sibling;var l={mode:"hidden",children:s.children};return!(a&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=l,t.deletions=null):(s=es(r,l),s.subtreeFlags=r.subtreeFlags&14680064),o!==null?i=es(o,i):(i=Is(i,a,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,a=e.child.memoizedState,a=a===null?wd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=bd,s}return i=e.child,e=i.sibling,s=es(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function qh(e,t){return t=ec({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ja(e,t,n,s){return s!==null&&Ih(s),Fr(t,e.child,null,n),e=qh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function s2(e,t,n,s,r,i,a){if(n)return t.flags&256?(t.flags&=-257,s=qc(Error(F(422))),Ja(e,t,a,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,r=t.mode,s=ec({mode:"visible",children:s.children},r,0,null),i=Is(i,r,a,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Fr(t,e.child,null,a),t.child.memoizedState=wd(a),t.memoizedState=bd,i);if(!(t.mode&1))return Ja(e,t,a,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(F(419)),s=qc(i,s,void 0),Ja(e,t,a,s)}if(o=(a&e.childLanes)!==0,ft||o){if(s=ze,s!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|a)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Pn(e,r),Kt(s,e,r,-1))}return tf(),s=qc(Error(F(421))),Ja(e,t,a,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=g2.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,wt=Xn(r.nextSibling),kt=t,ye=!0,Ht=null,e!==null&&(Dt[Rt++]=gn,Dt[Rt++]=yn,Dt[Rt++]=Vs,gn=e.id,yn=e.overflow,Vs=t),t=qh(t,s.children),t.flags|=4096,t)}function Jp(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),pd(e.return,t,n)}function Xc(e,t,n,s,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function mv(e,t,n){var s=t.pendingProps,r=s.revealOrder,i=s.tail;if(st(e,t,s.children,n),s=xe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jp(e,n,t);else if(e.tag===19)Jp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ue(xe,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&cl(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Xc(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&cl(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Xc(t,!0,n,null,i);break;case"together":Xc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Io(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _n(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ws|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=es(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=es(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function r2(e,t,n){switch(t.tag){case 3:fv(t),Or();break;case 5:Vx(t);break;case 1:mt(t.type)&&sl(t);break;case 4:Vh(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;ue(al,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ue(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?pv(e,t,n):(ue(xe,xe.current&1),e=_n(e,t,n),e!==null?e.sibling:null);ue(xe,xe.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return mv(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ue(xe,xe.current),s)break;return null;case 22:case 23:return t.lanes=0,dv(e,t,n)}return _n(e,t,n)}var gv,kd,yv,xv;gv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kd=function(){};yv=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,As(on.current);var i=null;switch(n){case"input":r=Uu(e,r),s=Uu(e,s),i=[];break;case"select":r=Se({},r,{value:void 0}),s=Se({},s,{value:void 0}),i=[];break;case"textarea":r=Ku(e,r),s=Ku(e,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=tl)}qu(n,s);var a;n=null;for(c in r)if(!s.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var o=r[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in s){var l=s[c];if(o=r!=null?r[c]:void 0,s.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pe("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};xv=function(e,t,n,s){n!==s&&(t.flags|=4)};function oi(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function i2(e,t,n){var s=t.pendingProps;switch(Rh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return mt(t.type)&&nl(),Ke(t),null;case 3:return s=t.stateNode,zr(),ge(pt),ge(Ze),Wh(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Xa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ht!==null&&(Ad(Ht),Ht=null))),kd(e,t),Ke(t),null;case 5:$h(t);var r=As(aa.current);if(n=t.type,e!==null&&t.stateNode!=null)yv(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(F(166));return Ke(t),null}if(e=As(on.current),Xa(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[nn]=t,s[ra]=i,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",s),pe("close",s);break;case"iframe":case"object":case"embed":pe("load",s);break;case"video":case"audio":for(r=0;r<Si.length;r++)pe(Si[r],s);break;case"source":pe("error",s);break;case"img":case"image":case"link":pe("error",s),pe("load",s);break;case"details":pe("toggle",s);break;case"input":op(s,i),pe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},pe("invalid",s);break;case"textarea":cp(s,i),pe("invalid",s)}qu(n,i),r=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&qa(s.textContent,o,e),r=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&qa(s.textContent,o,e),r=["children",""+o]):Yi.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&pe("scroll",s)}switch(n){case"input":Va(s),lp(s,i,!0);break;case"textarea":Va(s),up(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=tl)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=a.createElement(n,{is:s.is}):(e=a.createElement(n),n==="select"&&(a=e,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):e=a.createElementNS(e,n),e[nn]=t,e[ra]=s,gv(e,t,!1,!1),t.stateNode=e;e:{switch(a=Xu(n,s),n){case"dialog":pe("cancel",e),pe("close",e),r=s;break;case"iframe":case"object":case"embed":pe("load",e),r=s;break;case"video":case"audio":for(r=0;r<Si.length;r++)pe(Si[r],e);r=s;break;case"source":pe("error",e),r=s;break;case"img":case"image":case"link":pe("error",e),pe("load",e),r=s;break;case"details":pe("toggle",e),r=s;break;case"input":op(e,s),r=Uu(e,s),pe("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=Se({},s,{value:void 0}),pe("invalid",e);break;case"textarea":cp(e,s),r=Ku(e,s),pe("invalid",e);break;default:r=s}qu(n,r),o=r;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?qy(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ky(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qi(e,l):typeof l=="number"&&qi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&pe("scroll",e):l!=null&&vh(e,i,l,a))}switch(n){case"input":Va(e),lp(e,s,!1);break;case"textarea":Va(e),up(e);break;case"option":s.value!=null&&e.setAttribute("value",""+is(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Cr(e,!!s.multiple,i,!1):s.defaultValue!=null&&Cr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=tl)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)xv(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(F(166));if(n=As(aa.current),As(on.current),Xa(t)){if(s=t.stateNode,n=t.memoizedProps,s[nn]=t,(i=s.nodeValue!==n)&&(e=kt,e!==null))switch(e.tag){case 3:qa(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qa(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[nn]=t,t.stateNode=s}return Ke(t),null;case 13:if(ge(xe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&wt!==null&&t.mode&1&&!(t.flags&128))Lx(),Or(),t.flags|=98560,i=!1;else if(i=Xa(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(F(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[nn]=t}else Or(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),i=!1}else Ht!==null&&(Ad(Ht),Ht=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?De===0&&(De=3):tf())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return zr(),kd(e,t),e===null&&na(t.stateNode.containerInfo),Ke(t),null;case 10:return Fh(t.type._context),Ke(t),null;case 17:return mt(t.type)&&nl(),Ke(t),null;case 19:if(ge(xe),i=t.memoizedState,i===null)return Ke(t),null;if(s=(t.flags&128)!==0,a=i.rendering,a===null)if(s)oi(i,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=cl(e),a!==null){for(t.flags|=128,oi(i,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(xe,xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ce()>Vr&&(t.flags|=128,s=!0,oi(i,!1),t.lanes=4194304)}else{if(!s)if(e=cl(a),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),oi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ye)return Ke(t),null}else 2*Ce()-i.renderingStartTime>Vr&&n!==1073741824&&(t.flags|=128,s=!0,oi(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ce(),t.sibling=null,n=xe.current,ue(xe,s?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return ef(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?vt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function a2(e,t){switch(Rh(t),t.tag){case 1:return mt(t.type)&&nl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zr(),ge(pt),ge(Ze),Wh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $h(t),null;case 13:if(ge(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(xe),null;case 4:return zr(),null;case 10:return Fh(t.type._context),null;case 22:case 23:return ef(),null;case 24:return null;default:return null}}var Za=!1,Xe=!1,o2=typeof WeakSet=="function"?WeakSet:Set,H=null;function vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){je(e,t,s)}else n.current=null}function Sd(e,t,n){try{n()}catch(s){je(e,t,s)}}var Zp=!1;function l2(e,t){if(ad=Jo,e=Sx(),Mh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||r!==0&&h.nodeType!==3||(o=a+r),h!==i||s!==0&&h.nodeType!==3||(l=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===r&&(o=a),f===i&&++d===s&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(od={focusedElem:e,selectionRange:n},Jo=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,b=y.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Wt(t.type,g),b);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(w){je(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return y=Zp,Zp=!1,y}function Li(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&Sd(t,n,i)}r=r.next}while(r!==s)}}function Jl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function jd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vv(e){var t=e.alternate;t!==null&&(e.alternate=null,vv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nn],delete t[ra],delete t[ud],delete t[US],delete t[HS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bv(e){return e.tag===5||e.tag===3||e.tag===4}function em(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nd(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tl));else if(s!==4&&(e=e.child,e!==null))for(Nd(e,t,n),e=e.sibling;e!==null;)Nd(e,t,n),e=e.sibling}function Cd(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Cd(e,t,n),e=e.sibling;e!==null;)Cd(e,t,n),e=e.sibling}var $e=null,Ut=!1;function Mn(e,t,n){for(n=n.child;n!==null;)wv(e,t,n),n=n.sibling}function wv(e,t,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Ul,n)}catch{}switch(n.tag){case 5:Xe||vr(n,t);case 6:var s=$e,r=Ut;$e=null,Mn(e,t,n),$e=s,Ut=r,$e!==null&&(Ut?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Ut?(e=$e,n=n.stateNode,e.nodeType===8?Wc(e.parentNode,n):e.nodeType===1&&Wc(e,n),Zi(e)):Wc($e,n.stateNode));break;case 4:s=$e,r=Ut,$e=n.stateNode.containerInfo,Ut=!0,Mn(e,t,n),$e=s,Ut=r;break;case 0:case 11:case 14:case 15:if(!Xe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Sd(n,t,a),r=r.next}while(r!==s)}Mn(e,t,n);break;case 1:if(!Xe&&(vr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){je(n,t,o)}Mn(e,t,n);break;case 21:Mn(e,t,n);break;case 22:n.mode&1?(Xe=(s=Xe)||n.memoizedState!==null,Mn(e,t,n),Xe=s):Mn(e,t,n);break;default:Mn(e,t,n)}}function tm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new o2),t.forEach(function(s){var r=y2.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Vt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:$e=o.stateNode,Ut=!1;break e;case 3:$e=o.stateNode.containerInfo,Ut=!0;break e;case 4:$e=o.stateNode.containerInfo,Ut=!0;break e}o=o.return}if($e===null)throw Error(F(160));wv(i,a,r),$e=null,Ut=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){je(r,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kv(t,e),t=t.sibling}function kv(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vt(t,e),Qt(e),s&4){try{Li(3,e,e.return),Jl(3,e)}catch(g){je(e,e.return,g)}try{Li(5,e,e.return)}catch(g){je(e,e.return,g)}}break;case 1:Vt(t,e),Qt(e),s&512&&n!==null&&vr(n,n.return);break;case 5:if(Vt(t,e),Qt(e),s&512&&n!==null&&vr(n,n.return),e.flags&32){var r=e.stateNode;try{qi(r,"")}catch(g){je(e,e.return,g)}}if(s&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Uy(r,i),Xu(o,a);var c=Xu(o,i);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?qy(r,h):d==="dangerouslySetInnerHTML"?Ky(r,h):d==="children"?qi(r,h):vh(r,d,h,c)}switch(o){case"input":Hu(r,i);break;case"textarea":Hy(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Cr(r,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Cr(r,!!i.multiple,i.defaultValue,!0):Cr(r,!!i.multiple,i.multiple?[]:"",!1))}r[ra]=i}catch(g){je(e,e.return,g)}}break;case 6:if(Vt(t,e),Qt(e),s&4){if(e.stateNode===null)throw Error(F(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(g){je(e,e.return,g)}}break;case 3:if(Vt(t,e),Qt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Zi(t.containerInfo)}catch(g){je(e,e.return,g)}break;case 4:Vt(t,e),Qt(e);break;case 13:Vt(t,e),Qt(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Jh=Ce())),s&4&&tm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Xe=(c=Xe)||d,Vt(t,e),Xe=c):Vt(t,e),Qt(e),s&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(h=H=d;H!==null;){switch(f=H,p=f.child,f.tag){case 0:case 11:case 14:case 15:Li(4,f,f.return);break;case 1:vr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){je(s,n,g)}}break;case 5:vr(f,f.return);break;case 22:if(f.memoizedState!==null){sm(h);continue}}p!==null?(p.return=f,H=p):sm(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Yy("display",a))}catch(g){je(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){je(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vt(t,e),Qt(e),s&4&&tm(e);break;case 21:break;default:Vt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bv(n)){var s=n;break e}n=n.return}throw Error(F(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(qi(r,""),s.flags&=-33);var i=em(e);Cd(e,i,r);break;case 3:case 4:var a=s.stateNode.containerInfo,o=em(e);Nd(e,o,a);break;default:throw Error(F(161))}}catch(l){je(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function c2(e,t,n){H=e,Sv(e)}function Sv(e,t,n){for(var s=(e.mode&1)!==0;H!==null;){var r=H,i=r.child;if(r.tag===22&&s){var a=r.memoizedState!==null||Za;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||Xe;o=Za;var c=Xe;if(Za=a,(Xe=l)&&!c)for(H=r;H!==null;)a=H,l=a.child,a.tag===22&&a.memoizedState!==null?rm(r):l!==null?(l.return=a,H=l):rm(r);for(;i!==null;)H=i,Sv(i),i=i.sibling;H=r,Za=o,Xe=c}nm(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,H=i):nm(e)}}function nm(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||Jl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Xe)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Wt(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Bp(t,i,s);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bp(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Zi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Xe||t.flags&512&&jd(t)}catch(f){je(t,t.return,f)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function sm(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function rm(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Jl(4,t)}catch(l){je(t,n,l)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(l){je(t,r,l)}}var i=t.return;try{jd(t)}catch(l){je(t,i,l)}break;case 5:var a=t.return;try{jd(t)}catch(l){je(t,a,l)}}}catch(l){je(t,t.return,l)}if(t===e){H=null;break}var o=t.sibling;if(o!==null){o.return=t.return,H=o;break}H=t.return}}var u2=Math.ceil,hl=An.ReactCurrentDispatcher,Xh=An.ReactCurrentOwner,Ot=An.ReactCurrentBatchConfig,se=0,ze=null,Ae=null,Ue=0,vt=0,br=ds(0),De=0,ua=null,Ws=0,Zl=0,Qh=0,Oi=null,ut=null,Jh=0,Vr=1/0,fn=null,fl=!1,Pd=null,Jn=null,eo=!1,$n=null,pl=0,Fi=0,_d=null,Lo=-1,Oo=0;function it(){return se&6?Ce():Lo!==-1?Lo:Lo=Ce()}function Zn(e){return e.mode&1?se&2&&Ue!==0?Ue&-Ue:KS.transition!==null?(Oo===0&&(Oo=ox()),Oo):(e=ce,e!==0||(e=window.event,e=e===void 0?16:px(e.type)),e):1}function Kt(e,t,n,s){if(50<Fi)throw Fi=0,_d=null,Error(F(185));Ea(e,n,s),(!(se&2)||e!==ze)&&(e===ze&&(!(se&2)&&(Zl|=n),De===4&&Bn(e,Ue)),gt(e,s),n===1&&se===0&&!(t.mode&1)&&(Vr=Ce()+500,ql&&hs()))}function gt(e,t){var n=e.callbackNode;Kk(e,t);var s=Qo(e,e===ze?Ue:0);if(s===0)n!==null&&fp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&fp(n),t===1)e.tag===0?GS(im.bind(null,e)):Dx(im.bind(null,e)),$S(function(){!(se&6)&&hs()}),n=null;else{switch(lx(s)){case 1:n=jh;break;case 4:n=ix;break;case 16:n=Xo;break;case 536870912:n=ax;break;default:n=Xo}n=Tv(n,jv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jv(e,t){if(Lo=-1,Oo=0,se&6)throw Error(F(327));var n=e.callbackNode;if(Tr()&&e.callbackNode!==n)return null;var s=Qo(e,e===ze?Ue:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ml(e,s);else{t=s;var r=se;se|=2;var i=Cv();(ze!==e||Ue!==t)&&(fn=null,Vr=Ce()+500,Rs(e,t));do try{f2();break}catch(o){Nv(e,o)}while(!0);Oh(),hl.current=i,se=r,Ae!==null?t=0:(ze=null,Ue=0,t=De)}if(t!==0){if(t===2&&(r=td(e),r!==0&&(s=r,t=Ed(e,r))),t===1)throw n=ua,Rs(e,0),Bn(e,s),gt(e,Ce()),n;if(t===6)Bn(e,s);else{if(r=e.current.alternate,!(s&30)&&!d2(r)&&(t=ml(e,s),t===2&&(i=td(e),i!==0&&(s=i,t=Ed(e,i))),t===1))throw n=ua,Rs(e,0),Bn(e,s),gt(e,Ce()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(F(345));case 2:ks(e,ut,fn);break;case 3:if(Bn(e,s),(s&130023424)===s&&(t=Jh+500-Ce(),10<t)){if(Qo(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){it(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=cd(ks.bind(null,e,ut,fn),t);break}ks(e,ut,fn);break;case 4:if(Bn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var a=31-Gt(s);i=1<<a,a=t[a],a>r&&(r=a),s&=~i}if(s=r,s=Ce()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*u2(s/1960))-s,10<s){e.timeoutHandle=cd(ks.bind(null,e,ut,fn),s);break}ks(e,ut,fn);break;case 5:ks(e,ut,fn);break;default:throw Error(F(329))}}}return gt(e,Ce()),e.callbackNode===n?jv.bind(null,e):null}function Ed(e,t){var n=Oi;return e.current.memoizedState.isDehydrated&&(Rs(e,t).flags|=256),e=ml(e,t),e!==2&&(t=ut,ut=n,t!==null&&Ad(t)),e}function Ad(e){ut===null?ut=e:ut.push.apply(ut,e)}function d2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!qt(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bn(e,t){for(t&=~Qh,t&=~Zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),s=1<<n;e[n]=-1,t&=~s}}function im(e){if(se&6)throw Error(F(327));Tr();var t=Qo(e,0);if(!(t&1))return gt(e,Ce()),null;var n=ml(e,t);if(e.tag!==0&&n===2){var s=td(e);s!==0&&(t=s,n=Ed(e,s))}if(n===1)throw n=ua,Rs(e,0),Bn(e,t),gt(e,Ce()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ks(e,ut,fn),gt(e,Ce()),null}function Zh(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Vr=Ce()+500,ql&&hs())}}function Us(e){$n!==null&&$n.tag===0&&!(se&6)&&Tr();var t=se;se|=1;var n=Ot.transition,s=ce;try{if(Ot.transition=null,ce=1,e)return e()}finally{ce=s,Ot.transition=n,se=t,!(se&6)&&hs()}}function ef(){vt=br.current,ge(br)}function Rs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,VS(n)),Ae!==null)for(n=Ae.return;n!==null;){var s=n;switch(Rh(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&nl();break;case 3:zr(),ge(pt),ge(Ze),Wh();break;case 5:$h(s);break;case 4:zr();break;case 13:ge(xe);break;case 19:ge(xe);break;case 10:Fh(s.type._context);break;case 22:case 23:ef()}n=n.return}if(ze=e,Ae=e=es(e.current,null),Ue=vt=t,De=0,ua=null,Qh=Zl=Ws=0,ut=Oi=null,Es!==null){for(t=0;t<Es.length;t++)if(n=Es[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var a=i.next;i.next=r,s.next=a}n.pending=s}Es=null}return e}function Nv(e,t){do{var n=Ae;try{if(Oh(),Do.current=dl,ul){for(var s=we.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}ul=!1}if($s=0,Oe=Me=we=null,Ii=!1,oa=0,Xh.current=null,n===null||n.return===null){De=1,ua=t,Ae=null;break}e:{var i=e,a=n.return,o=n,l=t;if(t=Ue,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Gp(a);if(p!==null){p.flags&=-257,Kp(p,a,o,i,t),p.mode&1&&Hp(i,c,t),t=p,l=c;var y=t.updateQueue;if(y===null){var g=new Set;g.add(l),t.updateQueue=g}else y.add(l);break e}else{if(!(t&1)){Hp(i,c,t),tf();break e}l=Error(F(426))}}else if(ye&&o.mode&1){var b=Gp(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Kp(b,a,o,i,t),Ih(Br(l,o));break e}}i=l=Br(l,o),De!==4&&(De=2),Oi===null?Oi=[i]:Oi.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=lv(i,l,t);zp(i,v);break e;case 1:o=l;var m=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Jn===null||!Jn.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=cv(i,o,t);zp(i,w);break e}}i=i.return}while(i!==null)}_v(n)}catch(S){t=S,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function Cv(){var e=hl.current;return hl.current=dl,e===null?dl:e}function tf(){(De===0||De===3||De===2)&&(De=4),ze===null||!(Ws&268435455)&&!(Zl&268435455)||Bn(ze,Ue)}function ml(e,t){var n=se;se|=2;var s=Cv();(ze!==e||Ue!==t)&&(fn=null,Rs(e,t));do try{h2();break}catch(r){Nv(e,r)}while(!0);if(Oh(),se=n,hl.current=s,Ae!==null)throw Error(F(261));return ze=null,Ue=0,De}function h2(){for(;Ae!==null;)Pv(Ae)}function f2(){for(;Ae!==null&&!Fk();)Pv(Ae)}function Pv(e){var t=Av(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?_v(e):Ae=t,Xh.current=null}function _v(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=a2(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Ae=null;return}}else if(n=i2(n,t,vt),n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);De===0&&(De=5)}function ks(e,t,n){var s=ce,r=Ot.transition;try{Ot.transition=null,ce=1,p2(e,t,n,s)}finally{Ot.transition=r,ce=s}return null}function p2(e,t,n,s){do Tr();while($n!==null);if(se&6)throw Error(F(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Yk(e,i),e===ze&&(Ae=ze=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||eo||(eo=!0,Tv(Xo,function(){return Tr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ot.transition,Ot.transition=null;var a=ce;ce=1;var o=se;se|=4,Xh.current=null,l2(e,n),kv(n,e),RS(od),Jo=!!ad,od=ad=null,e.current=n,c2(n),zk(),se=o,ce=a,Ot.transition=i}else e.current=n;if(eo&&(eo=!1,$n=e,pl=r),i=e.pendingLanes,i===0&&(Jn=null),$k(n.stateNode),gt(e,Ce()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(fl)throw fl=!1,e=Pd,Pd=null,e;return pl&1&&e.tag!==0&&Tr(),i=e.pendingLanes,i&1?e===_d?Fi++:(Fi=0,_d=e):Fi=0,hs(),null}function Tr(){if($n!==null){var e=lx(pl),t=Ot.transition,n=ce;try{if(Ot.transition=null,ce=16>e?16:e,$n===null)var s=!1;else{if(e=$n,$n=null,pl=0,se&6)throw Error(F(331));var r=se;for(se|=4,H=e.current;H!==null;){var i=H,a=i.child;if(H.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(H=c;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:Li(8,d,i)}var h=d.child;if(h!==null)h.return=d,H=h;else for(;H!==null;){d=H;var f=d.sibling,p=d.return;if(vv(d),d===c){H=null;break}if(f!==null){f.return=p,H=f;break}H=p}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}H=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,H=a;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Li(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,H=v;break e}H=i.return}}var m=e.current;for(H=m;H!==null;){a=H;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,H=x;else e:for(a=m;H!==null;){if(o=H,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Jl(9,o)}}catch(S){je(o,o.return,S)}if(o===a){H=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,H=w;break e}H=o.return}}if(se=r,hs(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Ul,e)}catch{}s=!0}return s}finally{ce=n,Ot.transition=t}}return!1}function am(e,t,n){t=Br(n,t),t=lv(e,t,1),e=Qn(e,t,1),t=it(),e!==null&&(Ea(e,1,t),gt(e,t))}function je(e,t,n){if(e.tag===3)am(e,e,n);else for(;t!==null;){if(t.tag===3){am(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Jn===null||!Jn.has(s))){e=Br(n,e),e=cv(t,e,1),t=Qn(t,e,1),e=it(),t!==null&&(Ea(t,1,e),gt(t,e));break}}t=t.return}}function m2(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(Ue&n)===n&&(De===4||De===3&&(Ue&130023424)===Ue&&500>Ce()-Jh?Rs(e,0):Qh|=n),gt(e,t)}function Ev(e,t){t===0&&(e.mode&1?(t=Ua,Ua<<=1,!(Ua&130023424)&&(Ua=4194304)):t=1);var n=it();e=Pn(e,t),e!==null&&(Ea(e,t,n),gt(e,n))}function g2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ev(e,n)}function y2(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(F(314))}s!==null&&s.delete(t),Ev(e,n)}var Av;Av=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)ft=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ft=!1,r2(e,t,n);ft=!!(e.flags&131072)}else ft=!1,ye&&t.flags&1048576&&Rx(t,il,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Io(e,t),e=t.pendingProps;var r=Lr(t,Ze.current);Ar(t,n),r=Hh(null,t,s,e,r,n);var i=Gh();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(s)?(i=!0,sl(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Bh(t),r.updater=Ql,t.stateNode=r,r._reactInternals=t,gd(t,s,e,n),t=vd(null,t,s,!0,i,n)):(t.tag=0,ye&&i&&Dh(t),st(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Io(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=v2(s),e=Wt(s,e),r){case 0:t=xd(null,t,s,e,n);break e;case 1:t=Xp(null,t,s,e,n);break e;case 11:t=Yp(null,t,s,e,n);break e;case 14:t=qp(null,t,s,Wt(s.type,e),n);break e}throw Error(F(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Wt(s,r),xd(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Wt(s,r),Xp(e,t,s,r,n);case 3:e:{if(fv(t),e===null)throw Error(F(387));s=t.pendingProps,i=t.memoizedState,r=i.element,Bx(e,t),ll(t,s,null,n);var a=t.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=Br(Error(F(423)),t),t=Qp(e,t,s,n,r);break e}else if(s!==r){r=Br(Error(F(424)),t),t=Qp(e,t,s,n,r);break e}else for(wt=Xn(t.stateNode.containerInfo.firstChild),kt=t,ye=!0,Ht=null,n=Fx(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Or(),s===r){t=_n(e,t,n);break e}st(e,t,s,n)}t=t.child}return t;case 5:return Vx(t),e===null&&fd(t),s=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,a=r.children,ld(s,r)?a=null:i!==null&&ld(s,i)&&(t.flags|=32),hv(e,t),st(e,t,a,n),t.child;case 6:return e===null&&fd(t),null;case 13:return pv(e,t,n);case 4:return Vh(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Fr(t,null,s,n):st(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Wt(s,r),Yp(e,t,s,r,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,i=t.memoizedProps,a=r.value,ue(al,s._currentValue),s._currentValue=a,i!==null)if(qt(i.value,a)){if(i.children===r.children&&!pt.current){t=_n(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=wn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),pd(i.return,n,t),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(F(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),pd(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}st(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,Ar(t,n),r=Ft(r),s=s(r),t.flags|=1,st(e,t,s,n),t.child;case 14:return s=t.type,r=Wt(s,t.pendingProps),r=Wt(s.type,r),qp(e,t,s,r,n);case 15:return uv(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Wt(s,r),Io(e,t),t.tag=1,mt(s)?(e=!0,sl(t)):e=!1,Ar(t,n),ov(t,s,r),gd(t,s,r,n),vd(null,t,s,!0,e,n);case 19:return mv(e,t,n);case 22:return dv(e,t,n)}throw Error(F(156,t.tag))};function Tv(e,t){return rx(e,t)}function x2(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,s){return new x2(e,t,n,s)}function nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v2(e){if(typeof e=="function")return nf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wh)return 11;if(e===kh)return 14}return 2}function es(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fo(e,t,n,s,r,i){var a=2;if(s=e,typeof e=="function")nf(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ur:return Is(n.children,r,i,t);case bh:a=8,r|=8;break;case Bu:return e=It(12,n,t,r|2),e.elementType=Bu,e.lanes=i,e;case Vu:return e=It(13,n,t,r),e.elementType=Vu,e.lanes=i,e;case $u:return e=It(19,n,t,r),e.elementType=$u,e.lanes=i,e;case Vy:return ec(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zy:a=10;break e;case By:a=9;break e;case wh:a=11;break e;case kh:a=14;break e;case Ln:a=16,s=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=It(a,n,t,r),t.elementType=e,t.type=s,t.lanes=i,t}function Is(e,t,n,s){return e=It(7,e,s,t),e.lanes=n,e}function ec(e,t,n,s){return e=It(22,e,s,t),e.elementType=Vy,e.lanes=n,e.stateNode={isHidden:!1},e}function Qc(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function Jc(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function b2(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mc(0),this.expirationTimes=Mc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mc(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function sf(e,t,n,s,r,i,a,o,l){return e=new b2(e,t,n,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=It(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bh(i),e}function w2(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Mv(e){if(!e)return as;e=e._reactInternals;e:{if(Qs(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(mt(n))return Mx(e,n,t)}return t}function Dv(e,t,n,s,r,i,a,o,l){return e=sf(n,s,!0,e,r,i,a,o,l),e.context=Mv(null),n=e.current,s=it(),r=Zn(n),i=wn(s,r),i.callback=t??null,Qn(n,i,r),e.current.lanes=r,Ea(e,r,s),gt(e,s),e}function tc(e,t,n,s){var r=t.current,i=it(),a=Zn(r);return n=Mv(n),t.context===null?t.context=n:t.pendingContext=n,t=wn(i,a),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Qn(r,t,a),e!==null&&(Kt(e,r,a,i),Mo(e,r,a)),a}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function om(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rf(e,t){om(e,t),(e=e.alternate)&&om(e,t)}function k2(){return null}var Rv=typeof reportError=="function"?reportError:function(e){console.error(e)};function af(e){this._internalRoot=e}nc.prototype.render=af.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));tc(e,t,null,null)};nc.prototype.unmount=af.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Us(function(){tc(null,e,null,null)}),t[Cn]=null}};function nc(e){this._internalRoot=e}nc.prototype.unstable_scheduleHydration=function(e){if(e){var t=dx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zn.length&&t!==0&&t<zn[n].priority;n++);zn.splice(n,0,e),n===0&&fx(e)}};function of(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lm(){}function S2(e,t,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var c=gl(a);i.call(c)}}var a=Dv(t,s,e,0,null,!1,!1,"",lm);return e._reactRootContainer=a,e[Cn]=a.current,na(e.nodeType===8?e.parentNode:e),Us(),a}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var o=s;s=function(){var c=gl(l);o.call(c)}}var l=sf(e,0,!1,null,null,!1,!1,"",lm);return e._reactRootContainer=l,e[Cn]=l.current,na(e.nodeType===8?e.parentNode:e),Us(function(){tc(t,l,n,s)}),l}function rc(e,t,n,s,r){var i=n._reactRootContainer;if(i){var a=i;if(typeof r=="function"){var o=r;r=function(){var l=gl(a);o.call(l)}}tc(t,a,e,r)}else a=S2(n,t,e,r,s);return gl(a)}cx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ki(t.pendingLanes);n!==0&&(Nh(t,n|1),gt(t,Ce()),!(se&6)&&(Vr=Ce()+500,hs()))}break;case 13:Us(function(){var s=Pn(e,1);if(s!==null){var r=it();Kt(s,e,1,r)}}),rf(e,1)}};Ch=function(e){if(e.tag===13){var t=Pn(e,134217728);if(t!==null){var n=it();Kt(t,e,134217728,n)}rf(e,134217728)}};ux=function(e){if(e.tag===13){var t=Zn(e),n=Pn(e,t);if(n!==null){var s=it();Kt(n,e,t,s)}rf(e,t)}};dx=function(){return ce};hx=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};Ju=function(e,t,n){switch(t){case"input":if(Hu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=Yl(s);if(!r)throw Error(F(90));Wy(s),Hu(s,r)}}}break;case"textarea":Hy(e,n);break;case"select":t=n.value,t!=null&&Cr(e,!!n.multiple,t,!1)}};Jy=Zh;Zy=Us;var j2={usingClientEntryPoint:!1,Events:[Ta,pr,Yl,Xy,Qy,Zh]},li={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N2={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nx(e),e===null?null:e.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||k2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{Ul=to.inject(N2),an=to}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j2;Pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!of(t))throw Error(F(200));return w2(e,t,null,n)};Pt.createRoot=function(e,t){if(!of(e))throw Error(F(299));var n=!1,s="",r=Rv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=sf(e,1,!1,null,null,n,!1,s,r),e[Cn]=t.current,na(e.nodeType===8?e.parentNode:e),new af(t)};Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=nx(t),e=e===null?null:e.stateNode,e};Pt.flushSync=function(e){return Us(e)};Pt.hydrate=function(e,t,n){if(!sc(t))throw Error(F(200));return rc(null,e,t,!0,n)};Pt.hydrateRoot=function(e,t,n){if(!of(e))throw Error(F(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",a=Rv;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Dv(t,null,e,1,n??null,r,!1,i,a),e[Cn]=t.current,na(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new nc(t)};Pt.render=function(e,t,n){if(!sc(t))throw Error(F(200));return rc(null,e,t,!1,n)};Pt.unmountComponentAtNode=function(e){if(!sc(e))throw Error(F(40));return e._reactRootContainer?(Us(function(){rc(null,null,e,!1,function(){e._reactRootContainer=null,e[Cn]=null})}),!0):!1};Pt.unstable_batchedUpdates=Zh;Pt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!sc(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return rc(e,t,n,!1,s)};Pt.version="18.3.1-next-f1338f8080-20240426";function Iv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iv)}catch(e){console.error(e)}}Iv(),Iy.exports=Pt;var Lv=Iy.exports,cm=Lv;Fu.createRoot=cm.createRoot,Fu.hydrateRoot=cm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function da(){return da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},da.apply(this,arguments)}var Wn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wn||(Wn={}));const um="popstate";function C2(e){e===void 0&&(e={});function t(s,r){let{pathname:i,search:a,hash:o}=s.location;return Td("",{pathname:i,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:yl(r)}return _2(t,n,null,e)}function Ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ov(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function P2(){return Math.random().toString(36).substr(2,8)}function dm(e,t){return{usr:e.state,key:e.key,idx:t}}function Td(e,t,n,s){return n===void 0&&(n=null),da({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qr(t):t,{state:n,key:t&&t.key||s||P2()})}function yl(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Qr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function _2(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,a=r.history,o=Wn.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(da({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Wn.Pop;let b=d(),v=b==null?null:b-c;c=b,l&&l({action:o,location:g.location,delta:v})}function f(b,v){o=Wn.Push;let m=Td(g.location,b,v);c=d()+1;let x=dm(m,c),w=g.createHref(m);try{a.pushState(x,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(w)}i&&l&&l({action:o,location:g.location,delta:1})}function p(b,v){o=Wn.Replace;let m=Td(g.location,b,v);c=d();let x=dm(m,c),w=g.createHref(m);a.replaceState(x,"",w),i&&l&&l({action:o,location:g.location,delta:0})}function y(b){let v=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof b=="string"?b:yl(b);return m=m.replace(/ $/,"%20"),Ne(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let g={get action(){return o},get location(){return e(r,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(um,h),l=b,()=>{r.removeEventListener(um,h),l=null}},createHref(b){return t(r,b)},createURL:y,encodeLocation(b){let v=y(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(b){return a.go(b)}};return g}var hm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hm||(hm={}));function E2(e,t,n){return n===void 0&&(n="/"),A2(e,t,n)}function A2(e,t,n,s){let r=typeof t=="string"?Qr(t):t,i=$r(r.pathname||"/",n);if(i==null)return null;let a=Fv(e);T2(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=$2(i);o=B2(a[l],c)}return o}function Fv(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Ne(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=ts([s,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Ne(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Fv(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:F2(c,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))r(i,a);else for(let l of zv(i.path))r(i,a,l)}),t}function zv(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let a=zv(s.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),r&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function T2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:z2(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const M2=/^:[\w-]+$/,D2=3,R2=2,I2=1,L2=10,O2=-2,fm=e=>e==="*";function F2(e,t){let n=e.split("/"),s=n.length;return n.some(fm)&&(s+=O2),t&&(s+=R2),n.filter(r=>!fm(r)).reduce((r,i)=>r+(M2.test(i)?D2:i===""?I2:L2),s)}function z2(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function B2(e,t,n){let{routesMeta:s}=e,r={},i="/",a=[];for(let o=0;o<s.length;++o){let l=s[o],c=o===s.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Md({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:ts([i,h.pathname]),pathnameBase:G2(ts([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=ts([i,h.pathnameBase]))}return a}function Md(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=V2(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:s.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=o[h]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=o[h];return p&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function V2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ov(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(s.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function $2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ov(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $r(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function W2(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?Qr(e):e;return{pathname:n?n.startsWith("/")?n:U2(n,t):t,search:K2(s),hash:Y2(r)}}function U2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Zc(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function H2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Bv(e,t){let n=H2(e);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Vv(e,t,n,s){s===void 0&&(s=!1);let r;typeof e=="string"?r=Qr(e):(r=da({},e),Ne(!r.pathname||!r.pathname.includes("?"),Zc("?","pathname","search",r)),Ne(!r.pathname||!r.pathname.includes("#"),Zc("#","pathname","hash",r)),Ne(!r.search||!r.search.includes("#"),Zc("#","search","hash",r)));let i=e===""||r.pathname==="",a=i?"/":r.pathname,o;if(a==null)o=n;else{let h=t.length-1;if(!s&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}o=h>=0?t[h]:"/"}let l=W2(r,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ts=e=>e.join("/").replace(/\/\/+/g,"/"),G2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Y2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function q2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $v=["post","put","patch","delete"];new Set($v);const X2=["get",...$v];new Set(X2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ha.apply(this,arguments)}const ic=N.createContext(null),Wv=N.createContext(null),fs=N.createContext(null),ac=N.createContext(null),Js=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Uv=N.createContext(null);function Q2(e,t){let{relative:n}=t===void 0?{}:t;Da()||Ne(!1);let{basename:s,navigator:r}=N.useContext(fs),{hash:i,pathname:a,search:o}=oc(e,{relative:n}),l=a;return s!=="/"&&(l=a==="/"?s:ts([s,a])),r.createHref({pathname:l,search:o,hash:i})}function Da(){return N.useContext(ac)!=null}function Jr(){return Da()||Ne(!1),N.useContext(ac).location}function Hv(e){N.useContext(fs).static||N.useLayoutEffect(e)}function ps(){let{isDataRoute:e}=N.useContext(Js);return e?uj():J2()}function J2(){Da()||Ne(!1);let e=N.useContext(ic),{basename:t,future:n,navigator:s}=N.useContext(fs),{matches:r}=N.useContext(Js),{pathname:i}=Jr(),a=JSON.stringify(Bv(r,n.v7_relativeSplatPath)),o=N.useRef(!1);return Hv(()=>{o.current=!0}),N.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){s.go(c);return}let h=Vv(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ts([t,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[t,s,a,i,e])}function oc(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=N.useContext(fs),{matches:r}=N.useContext(Js),{pathname:i}=Jr(),a=JSON.stringify(Bv(r,s.v7_relativeSplatPath));return N.useMemo(()=>Vv(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function Z2(e,t){return ej(e,t)}function ej(e,t,n,s){Da()||Ne(!1);let{navigator:r}=N.useContext(fs),{matches:i}=N.useContext(Js),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Jr(),d;if(t){var h;let b=typeof t=="string"?Qr(t):t;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||Ne(!1),d=b}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=E2(e,{pathname:p}),g=ij(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:ts([l,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:ts([l,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,s);return t&&g?N.createElement(ac.Provider,{value:{location:ha({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Wn.Pop}},g):g}function tj(){let e=cj(),t=q2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:r},n):null,null)}const nj=N.createElement(tj,null);class sj extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?N.createElement(Js.Provider,{value:this.props.routeContext},N.createElement(Uv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rj(e){let{routeContext:t,match:n,children:s}=e,r=N.useContext(ic);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Js.Provider,{value:t},s)}function ij(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Ne(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,y=!1,g=null,b=null;n&&(p=o&&h.route.id?o[h.route.id]:void 0,g=h.route.errorElement||nj,l&&(c<0&&f===0?(dj("route-fallback"),y=!0,b=null):c===f&&(y=!0,b=h.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,f+1)),m=()=>{let x;return p?x=g:y?x=b:h.route.Component?x=N.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,N.createElement(rj,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(sj,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var Gv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gv||{}),Kv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kv||{});function aj(e){let t=N.useContext(ic);return t||Ne(!1),t}function oj(e){let t=N.useContext(Wv);return t||Ne(!1),t}function lj(e){let t=N.useContext(Js);return t||Ne(!1),t}function Yv(e){let t=lj(),n=t.matches[t.matches.length-1];return n.route.id||Ne(!1),n.route.id}function cj(){var e;let t=N.useContext(Uv),n=oj(),s=Yv();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function uj(){let{router:e}=aj(Gv.UseNavigateStable),t=Yv(Kv.UseNavigateStable),n=N.useRef(!1);return Hv(()=>{n.current=!0}),N.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,ha({fromRouteId:t},i)))},[e,t])}const pm={};function dj(e,t,n){pm[e]||(pm[e]=!0)}function hj(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Rn(e){Ne(!1)}function fj(e){let{basename:t="/",children:n=null,location:s,navigationType:r=Wn.Pop,navigator:i,static:a=!1,future:o}=e;Da()&&Ne(!1);let l=t.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:i,static:a,future:ha({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof s=="string"&&(s=Qr(s));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:y="default"}=s,g=N.useMemo(()=>{let b=$r(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:y},navigationType:r}},[l,d,h,f,p,y,r]);return g==null?null:N.createElement(fs.Provider,{value:c},N.createElement(ac.Provider,{children:n,value:g}))}function pj(e){let{children:t,location:n}=e;return Z2(Dd(t),n)}new Promise(()=>{});function Dd(e,t){t===void 0&&(t=[]);let n=[];return N.Children.forEach(e,(s,r)=>{if(!N.isValidElement(s))return;let i=[...t,r];if(s.type===N.Fragment){n.push.apply(n,Dd(s.props.children,i));return}s.type!==Rn&&Ne(!1),!s.props.index||!s.props.children||Ne(!1);let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=Dd(s.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xl.apply(this,arguments)}function qv(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,i;for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function mj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gj(e,t){return e.button===0&&(!t||t==="_self")&&!mj(e)}const yj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xj=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],vj="6";try{window.__reactRouterVersion=vj}catch{}const bj=N.createContext({isTransitioning:!1}),wj="startTransition",mm=mk[wj];function kj(e){let{basename:t,children:n,future:s,window:r}=e,i=N.useRef();i.current==null&&(i.current=C2({window:r,v5Compat:!0}));let a=i.current,[o,l]=N.useState({action:a.action,location:a.location}),{v7_startTransition:c}=s||{},d=N.useCallback(h=>{c&&mm?mm(()=>l(h)):l(h)},[l,c]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.useEffect(()=>hj(s),[s]),N.createElement(fj,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:s})}const Sj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nj=N.forwardRef(function(t,n){let{onClick:s,relative:r,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h}=t,f=qv(t,yj),{basename:p}=N.useContext(fs),y,g=!1;if(typeof c=="string"&&jj.test(c)&&(y=c,Sj))try{let x=new URL(window.location.href),w=c.startsWith("//")?new URL(x.protocol+c):new URL(c),S=$r(w.pathname,p);w.origin===x.origin&&S!=null?c=S+w.search+w.hash:g=!0}catch{}let b=Q2(c,{relative:r}),v=Pj(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:r,viewTransition:h});function m(x){s&&s(x),x.defaultPrevented||v(x)}return N.createElement("a",xl({},f,{href:y||b,onClick:g||i?s:m,ref:n,target:l}))}),Xv=N.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:r=!1,className:i="",end:a=!1,style:o,to:l,viewTransition:c,children:d}=t,h=qv(t,xj),f=oc(l,{relative:h.relative}),p=Jr(),y=N.useContext(Wv),{navigator:g,basename:b}=N.useContext(fs),v=y!=null&&_j(f)&&c===!0,m=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(x=x.toLowerCase(),w=w?w.toLowerCase():null,m=m.toLowerCase()),w&&b&&(w=$r(w,b)||w);const S=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let _=x===m||!a&&x.startsWith(m)&&x.charAt(S)==="/",k=w!=null&&(w===m||!a&&w.startsWith(m)&&w.charAt(m.length)==="/"),j={isActive:_,isPending:k,isTransitioning:v},C=_?s:void 0,A;typeof i=="function"?A=i(j):A=[i,_?"active":null,k?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(j):o;return N.createElement(Nj,xl({},h,{"aria-current":C,className:A,ref:n,style:L,to:l,viewTransition:c}),typeof d=="function"?d(j):d)});var Rd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rd||(Rd={}));var gm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gm||(gm={}));function Cj(e){let t=N.useContext(ic);return t||Ne(!1),t}function Pj(e,t){let{target:n,replace:s,state:r,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=ps(),c=Jr(),d=oc(e,{relative:a});return N.useCallback(h=>{if(gj(h,n)){h.preventDefault();let f=s!==void 0?s:yl(c)===yl(d);l(e,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,d,s,r,n,e,i,a,o])}function _j(e,t){t===void 0&&(t={});let n=N.useContext(bj);n==null&&Ne(!1);let{basename:s}=Cj(Rd.useViewTransitionState),r=oc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=$r(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=$r(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Md(r.pathname,a)!=null||Md(r.pathname,i)!=null}function Ej(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const ym={};function Id(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&ym[t[0]]||(typeof t[0]=="string"&&(ym[t[0]]=new Date),Ej(...t))}const Qv=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function xm(e,t,n){e.loadNamespaces(t,Qv(e,n))}function vm(e,t,n,s){typeof n=="string"&&(n=[n]),n.forEach(r=>{e.options.ns.indexOf(r)<0&&e.options.ns.push(r)}),e.loadLanguages(t,Qv(e,s))}function Aj(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=t.languages[0],r=t.options?t.options.fallbackLng:!1,i=t.languages[t.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const c=t.services.backendConnector.state[`${o}|${l}`];return c===-1||c===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(s,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||a(s,e)&&(!r||a(i,e)))}function Tj(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(Id("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,e))return!1}}):Aj(e,t,n)}const Mj=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Dj={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Rj=e=>Dj[e],Ij=e=>e.replace(Mj,Rj);let Ld={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ij};function Lj(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ld={...Ld,...e}}function Oj(){return Ld}let Jv;function Fj(e){Jv=e}function zj(){return Jv}const Bj={type:"3rdParty",init(e){Lj(e.options.react),Fj(e)}},Vj=N.createContext();class $j{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Wj=(e,t)=>{const n=N.useRef();return N.useEffect(()=>{n.current=e},[e,t]),n.current};function Ve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:s,defaultNS:r}=N.useContext(Vj)||{},i=n||s||zj();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new $j),!i){Id("You will need to pass in an i18next instance by using initReactI18next");const x=(S,_)=>typeof _=="string"?_:_&&typeof _=="object"&&typeof _.defaultValue=="string"?_.defaultValue:Array.isArray(S)?S[S.length-1]:S,w=[x,{},!1];return w.t=x,w.i18n={},w.ready=!1,w}i.options.react&&i.options.react.wait!==void 0&&Id("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...Oj(),...i.options.react,...t},{useSuspense:o,keyPrefix:l}=a;let c=r||i.options&&i.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(c);const d=(i.isInitialized||i.initializedStoreOnce)&&c.every(x=>Tj(x,i,a));function h(){return i.getFixedT(t.lng||null,a.nsMode==="fallback"?c:c[0],l)}const[f,p]=N.useState(h);let y=c.join();t.lng&&(y=`${t.lng}${y}`);const g=Wj(y),b=N.useRef(!0);N.useEffect(()=>{const{bindI18n:x,bindI18nStore:w}=a;b.current=!0,!d&&!o&&(t.lng?vm(i,t.lng,c,()=>{b.current&&p(h)}):xm(i,c,()=>{b.current&&p(h)})),d&&g&&g!==y&&b.current&&p(h);function S(){b.current&&p(h)}return x&&i&&i.on(x,S),w&&i&&i.store.on(w,S),()=>{b.current=!1,x&&i&&x.split(" ").forEach(_=>i.off(_,S)),w&&i&&w.split(" ").forEach(_=>i.store.off(_,S))}},[i,y]);const v=N.useRef(!0);N.useEffect(()=>{b.current&&!v.current&&p(h),v.current=!1},[i,l]);const m=[f,i,d];if(m.t=f,m.i18n=i,m.ready=d,d||!d&&!o)return m;throw new Promise(x=>{t.lng?vm(i,t.lng,c,()=>x()):xm(i,c,()=>x())})}const Zv=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),lc=N.createContext({}),cc=N.createContext(null),uc=typeof document<"u",lf=uc?N.useLayoutEffect:N.useEffect,e1=N.createContext({strict:!1}),cf=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Uj="framerAppearId",t1="data-"+cf(Uj);function Hj(e,t,n,s){const{visualElement:r}=N.useContext(lc),i=N.useContext(e1),a=N.useContext(cc),o=N.useContext(Zv).reducedMotion,l=N.useRef();s=s||i.renderer,!l.current&&s&&(l.current=s(e,{visualState:t,parent:r,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;N.useInsertionEffect(()=>{c&&c.update(n,a)});const d=N.useRef(!!(n[t1]&&!window.HandoffComplete));return lf(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),N.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function wr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Gj(e,t,n){return N.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):wr(n)&&(n.current=s))},[t])}function fa(e){return typeof e=="string"||Array.isArray(e)}function dc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const uf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],df=["initial",...uf];function hc(e){return dc(e.animate)||df.some(t=>fa(e[t]))}function n1(e){return!!(hc(e)||e.variants)}function Kj(e,t){if(hc(e)){const{initial:n,animate:s}=e;return{initial:n===!1||fa(n)?n:void 0,animate:fa(s)?s:void 0}}return e.inherit!==!1?t:{}}function Yj(e){const{initial:t,animate:n}=Kj(e,N.useContext(lc));return N.useMemo(()=>({initial:t,animate:n}),[bm(t),bm(n)])}function bm(e){return Array.isArray(e)?e.join(" "):e}const wm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pa={};for(const e in wm)pa[e]={isEnabled:t=>wm[e].some(n=>!!t[n])};function qj(e){for(const t in e)pa[t]={...pa[t],...e[t]}}const hf=N.createContext({}),s1=N.createContext({}),Xj=Symbol.for("motionComponentSymbol");function Qj({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:r}){e&&qj(e);function i(o,l){let c;const d={...N.useContext(Zv),...o,layoutId:Jj(o)},{isStatic:h}=d,f=Yj(o),p=s(o,h);if(!h&&uc){f.visualElement=Hj(r,p,d,t);const y=N.useContext(s1),g=N.useContext(e1).strict;f.visualElement&&(c=f.visualElement.loadFeatures(d,g,e,y))}return N.createElement(lc.Provider,{value:f},c&&f.visualElement?N.createElement(c,{visualElement:f.visualElement,...d}):null,n(r,o,Gj(p,f.visualElement,l),p,h,f.visualElement))}const a=N.forwardRef(i);return a[Xj]=r,a}function Jj({layoutId:e}){const t=N.useContext(hf).id;return t&&e!==void 0?t+"-"+e:e}function Zj(e){function t(s,r={}){return Qj(e(s,r))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(s,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const eN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ff(e){return typeof e!="string"||e.includes("-")?!1:!!(eN.indexOf(e)>-1||/[A-Z]/.test(e))}const vl={};function tN(e){Object.assign(vl,e)}const Ra=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zs=new Set(Ra);function r1(e,{layout:t,layoutId:n}){return Zs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!vl[e]||e==="opacity")}const yt=e=>!!(e&&e.getVelocity),nN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sN=Ra.length;function rN(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},s,r){let i="";for(let a=0;a<sN;a++){const o=Ra[a];if(e[o]!==void 0){const l=nN[o]||o;i+=`${l}(${e[o]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),r?i=r(e,s?"":i):n&&s&&(i="none"),i}const i1=e=>t=>typeof t=="string"&&t.startsWith(e),a1=i1("--"),Od=i1("var(--"),iN=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,aN=(e,t)=>t&&typeof e=="number"?t.transform(e):e,os=(e,t,n)=>Math.min(Math.max(n,e),t),er={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zi={...er,transform:e=>os(0,1,e)},no={...er,default:1},Bi=e=>Math.round(e*1e5)/1e5,fc=/(-)?([\d]*\.?[\d])+/g,o1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,oN=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ia(e){return typeof e=="string"}const La=e=>({test:t=>Ia(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),In=La("deg"),ln=La("%"),Q=La("px"),lN=La("vh"),cN=La("vw"),km={...ln,parse:e=>ln.parse(e)/100,transform:e=>ln.transform(e*100)},Sm={...er,transform:Math.round},l1={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,size:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,rotate:In,rotateX:In,rotateY:In,rotateZ:In,scale:no,scaleX:no,scaleY:no,scaleZ:no,skew:In,skewX:In,skewY:In,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:zi,originX:km,originY:km,originZ:Q,zIndex:Sm,fillOpacity:zi,strokeOpacity:zi,numOctaves:Sm};function pf(e,t,n,s){const{style:r,vars:i,transform:a,transformOrigin:o}=e;let l=!1,c=!1,d=!0;for(const h in t){const f=t[h];if(a1(h)){i[h]=f;continue}const p=l1[h],y=aN(f,p);if(Zs.has(h)){if(l=!0,a[h]=y,!d)continue;f!==(p.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,o[h]=y):r[h]=y}if(t.transform||(l||s?r.transform=rN(e.transform,n,d,s):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:p=0}=o;r.transformOrigin=`${h} ${f} ${p}`}}const mf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function c1(e,t,n){for(const s in t)!yt(t[s])&&!r1(s,n)&&(e[s]=t[s])}function uN({transformTemplate:e},t,n){return N.useMemo(()=>{const s=mf();return pf(s,t,{enableHardwareAcceleration:!n},e),Object.assign({},s.vars,s.style)},[t])}function dN(e,t,n){const s=e.style||{},r={};return c1(r,s,e),Object.assign(r,uN(e,t,n)),e.transformValues?e.transformValues(r):r}function hN(e,t,n){const s={},r=dN(e,t,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const fN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||fN.has(e)}let u1=e=>!bl(e);function pN(e){e&&(u1=t=>t.startsWith("on")?!bl(t):e(t))}try{pN(require("@emotion/is-prop-valid").default)}catch{}function mN(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(u1(r)||n===!0&&bl(r)||!t&&!bl(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}function jm(e,t,n){return typeof e=="string"?e:Q.transform(t+n*e)}function gN(e,t,n){const s=jm(t,e.x,e.width),r=jm(n,e.y,e.height);return`${s} ${r}`}const yN={offset:"stroke-dashoffset",array:"stroke-dasharray"},xN={offset:"strokeDashoffset",array:"strokeDasharray"};function vN(e,t,n=1,s=0,r=!0){e.pathLength=1;const i=r?yN:xN;e[i.offset]=Q.transform(-s);const a=Q.transform(t),o=Q.transform(n);e[i.array]=`${a} ${o}`}function gf(e,{attrX:t,attrY:n,attrScale:s,originX:r,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},d,h,f){if(pf(e,c,d,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:y,dimensions:g}=e;p.transform&&(g&&(y.transform=p.transform),delete p.transform),g&&(r!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=gN(g,r!==void 0?r:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),s!==void 0&&(p.scale=s),a!==void 0&&vN(p,a,o,l,!1)}const d1=()=>({...mf(),attrs:{}}),yf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function bN(e,t,n,s){const r=N.useMemo(()=>{const i=d1();return gf(i,t,{enableHardwareAcceleration:!1},yf(s),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};c1(i,e.style,e),r.style={...i,...r.style}}return r}function wN(e=!1){return(n,s,r,{latestValues:i},a)=>{const l=(ff(n)?bN:hN)(s,i,a,n),d={...mN(s,typeof n=="string",e),...l,ref:r},{children:h}=s,f=N.useMemo(()=>yt(h)?h.get():h,[h]);return N.createElement(n,{...d,children:f})}}function h1(e,{style:t,vars:n},s,r){Object.assign(e.style,t,r&&r.getProjectionStyles(s));for(const i in n)e.style.setProperty(i,n[i])}const f1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function p1(e,t,n,s){h1(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(f1.has(r)?r:cf(r),t.attrs[r])}function xf(e,t){const{style:n}=e,s={};for(const r in n)(yt(n[r])||t.style&&yt(t.style[r])||r1(r,e))&&(s[r]=n[r]);return s}function m1(e,t){const n=xf(e,t);for(const s in e)if(yt(e[s])||yt(t[s])){const r=Ra.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=e[s]}return n}function vf(e,t,n,s={},r={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,r)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,r)),t}function g1(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const wl=e=>Array.isArray(e),kN=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),SN=e=>wl(e)?e[e.length-1]||0:e;function zo(e){const t=yt(e)?e.get():e;return kN(t)?t.toValue():t}function jN({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},s,r,i){const a={latestValues:NN(s,r,i,e),renderState:t()};return n&&(a.mount=o=>n(s,o,a)),a}const y1=e=>(t,n)=>{const s=N.useContext(lc),r=N.useContext(cc),i=()=>jN(e,t,s,r);return n?i():g1(i)};function NN(e,t,n,s){const r={},i=s(e,{});for(const f in i)r[f]=zo(i[f]);let{initial:a,animate:o}=e;const l=hc(e),c=n1(e);t&&c&&!l&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?o:a;return h&&typeof h!="boolean"&&!dc(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const y=vf(e,p);if(!y)return;const{transitionEnd:g,transition:b,...v}=y;for(const m in v){let x=v[m];if(Array.isArray(x)){const w=d?x.length-1:0;x=x[w]}x!==null&&(r[m]=x)}for(const m in g)r[m]=g[m]}),r}const Pe=e=>e;class Nm{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function CN(e){let t=new Nm,n=new Nm,s=0,r=!1,i=!1;const a=new WeakSet,o={schedule:(l,c=!1,d=!1)=>{const h=d&&r,f=h?t:n;return c&&a.add(l),f.add(l)&&h&&r&&(s=t.order.length),l},cancel:l=>{n.remove(l),a.delete(l)},process:l=>{if(r){i=!0;return}if(r=!0,[t,n]=[n,t],n.clear(),s=t.order.length,s)for(let c=0;c<s;c++){const d=t.order[c];d(l),a.has(d)&&(o.schedule(d),e())}r=!1,i&&(i=!1,o.process(l))}};return o}const so=["prepare","read","update","preRender","render","postRender"],PN=40;function _N(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=so.reduce((h,f)=>(h[f]=CN(()=>n=!0),h),{}),a=h=>i[h].process(r),o=()=>{const h=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(h-r.timestamp,PN),1),r.timestamp=h,r.isProcessing=!0,so.forEach(a),r.isProcessing=!1,n&&t&&(s=!1,e(o))},l=()=>{n=!0,s=!0,r.isProcessing||e(o)};return{schedule:so.reduce((h,f)=>{const p=i[f];return h[f]=(y,g=!1,b=!1)=>(n||l(),p.schedule(y,g,b)),h},{}),cancel:h=>so.forEach(f=>i[f].cancel(h)),state:r,steps:i}}const{schedule:de,cancel:En,state:Ye,steps:eu}=_N(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pe,!0),EN={useVisualState:y1({scrapeMotionValuesFromProps:m1,createRenderState:d1,onMount:(e,t,{renderState:n,latestValues:s})=>{de.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),de.render(()=>{gf(n,s,{enableHardwareAcceleration:!1},yf(t.tagName),e.transformTemplate),p1(t,n)})}})},AN={useVisualState:y1({scrapeMotionValuesFromProps:xf,createRenderState:mf})};function TN(e,{forwardMotionProps:t=!1},n,s){return{...ff(e)?EN:AN,preloadedFeatures:n,useRender:wN(t),createVisualElement:s,Component:e}}function xn(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const x1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function pc(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const MN=e=>t=>x1(t)&&e(t,pc(t));function kn(e,t,n,s){return xn(e,t,MN(n),s)}const DN=(e,t)=>n=>t(e(n)),ns=(...e)=>e.reduce(DN);function v1(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Cm=v1("dragHorizontal"),Pm=v1("dragVertical");function b1(e){let t=!1;if(e==="y")t=Pm();else if(e==="x")t=Cm();else{const n=Cm(),s=Pm();n&&s?t=()=>{n(),s()}:(n&&n(),s&&s())}return t}function w1(){const e=b1(!0);return e?(e(),!1):!0}class ms{constructor(t){this.isMounted=!1,this.node=t}update(){}}function _m(e,t){const n="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End"),r=(i,a)=>{if(i.pointerType==="touch"||w1())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[s]&&de.update(()=>o[s](i,a))};return kn(e.current,n,r,{passive:!e.getProps()[s]})}class RN extends ms{mount(){this.unmount=ns(_m(this.node,!0),_m(this.node,!1))}unmount(){}}class IN extends ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ns(xn(this.node.current,"focus",()=>this.onFocus()),xn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const k1=(e,t)=>t?e===t?!0:k1(e,t.parentElement):!1;function tu(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,pc(n))}class LN extends ms{constructor(){super(...arguments),this.removeStartListeners=Pe,this.removeEndListeners=Pe,this.removeAccessibleListeners=Pe,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),i=kn(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps();de.update(()=>{!h&&!k1(this.node.current,o.target)?d&&d(o,l):c&&c(o,l)})},{passive:!(s.onTap||s.onPointerUp)}),a=kn(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=ns(i,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||tu("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&de.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=xn(this.node.current,"keyup",a),tu("down",(o,l)=>{this.startPress(o,l)})},n=xn(this.node.current,"keydown",t),s=()=>{this.isPressing&&tu("cancel",(i,a)=>this.cancelPress(i,a))},r=xn(this.node.current,"blur",s);this.removeAccessibleListeners=ns(n,r)}}startPress(t,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&de.update(()=>s(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!w1()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&de.update(()=>s(t,n))}mount(){const t=this.node.getProps(),n=kn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=xn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ns(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Fd=new WeakMap,nu=new WeakMap,ON=e=>{const t=Fd.get(e.target);t&&t(e)},FN=e=>{e.forEach(ON)};function zN({root:e,...t}){const n=e||document;nu.has(n)||nu.set(n,{});const s=nu.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(FN,{root:e,...t})),s[r]}function BN(e,t,n){const s=zN(t);return Fd.set(e,n),s.observe(e),()=>{Fd.delete(e),s.unobserve(e)}}const VN={some:0,all:1};class $N extends ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:VN[r]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return BN(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(WN(t,n))&&this.startObserver()}unmount(){}}function WN({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const UN={inView:{Feature:$N},tap:{Feature:LN},focus:{Feature:IN},hover:{Feature:RN}};function S1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function HN(e){const t={};return e.values.forEach((n,s)=>t[s]=n.get()),t}function GN(e){const t={};return e.values.forEach((n,s)=>t[s]=n.getVelocity()),t}function mc(e,t,n){const s=e.getProps();return vf(s,t,n!==void 0?n:s.custom,HN(e),GN(e))}let bf=Pe;const Ls=e=>e*1e3,Sn=e=>e/1e3,KN={current:!1},j1=e=>Array.isArray(e)&&typeof e[0]=="number";function N1(e){return!!(!e||typeof e=="string"&&C1[e]||j1(e)||Array.isArray(e)&&e.every(N1))}const ji=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,C1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ji([0,.65,.55,1]),circOut:ji([.55,0,1,.45]),backIn:ji([.31,.01,.66,-.59]),backOut:ji([.33,1.53,.69,.99])};function P1(e){if(e)return j1(e)?ji(e):Array.isArray(e)?e.map(P1):C1[e]}function YN(e,t,n,{delay:s=0,duration:r,repeat:i=0,repeatType:a="loop",ease:o,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=P1(o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:s,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function qN(e,{repeat:t,repeatType:n="loop"}){const s=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[s]}const _1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,XN=1e-7,QN=12;function JN(e,t,n,s,r){let i,a,o=0;do a=t+(n-t)/2,i=_1(a,s,r)-e,i>0?n=a:t=a;while(Math.abs(i)>XN&&++o<QN);return a}function Oa(e,t,n,s){if(e===t&&n===s)return Pe;const r=i=>JN(i,0,1,e,n);return i=>i===0||i===1?i:_1(r(i),t,s)}const ZN=Oa(.42,0,1,1),eC=Oa(0,0,.58,1),E1=Oa(.42,0,.58,1),tC=e=>Array.isArray(e)&&typeof e[0]!="number",A1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,T1=e=>t=>1-e(1-t),wf=e=>1-Math.sin(Math.acos(e)),M1=T1(wf),nC=A1(wf),D1=Oa(.33,1.53,.69,.99),kf=T1(D1),sC=A1(kf),rC=e=>(e*=2)<1?.5*kf(e):.5*(2-Math.pow(2,-10*(e-1))),iC={linear:Pe,easeIn:ZN,easeInOut:E1,easeOut:eC,circIn:wf,circInOut:nC,circOut:M1,backIn:kf,backInOut:sC,backOut:D1,anticipate:rC},Em=e=>{if(Array.isArray(e)){bf(e.length===4);const[t,n,s,r]=e;return Oa(t,n,s,r)}else if(typeof e=="string")return iC[e];return e},Sf=(e,t)=>n=>!!(Ia(n)&&oN.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),R1=(e,t,n)=>s=>{if(!Ia(s))return s;const[r,i,a,o]=s.match(fc);return{[e]:parseFloat(r),[t]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},aC=e=>os(0,255,e),su={...er,transform:e=>Math.round(aC(e))},Ts={test:Sf("rgb","red"),parse:R1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+su.transform(e)+", "+su.transform(t)+", "+su.transform(n)+", "+Bi(zi.transform(s))+")"};function oC(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const zd={test:Sf("#"),parse:oC,transform:Ts.transform},kr={test:Sf("hsl","hue"),parse:R1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+ln.transform(Bi(t))+", "+ln.transform(Bi(n))+", "+Bi(zi.transform(s))+")"},nt={test:e=>Ts.test(e)||zd.test(e)||kr.test(e),parse:e=>Ts.test(e)?Ts.parse(e):kr.test(e)?kr.parse(e):zd.parse(e),transform:e=>Ia(e)?e:e.hasOwnProperty("red")?Ts.transform(e):kr.transform(e)},ve=(e,t,n)=>-n*e+n*t+e;function ru(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lC({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,i=0,a=0;if(!t)r=i=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;r=ru(l,o,e+1/3),i=ru(l,o,e),a=ru(l,o,e-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}const iu=(e,t,n)=>{const s=e*e;return Math.sqrt(Math.max(0,n*(t*t-s)+s))},cC=[zd,Ts,kr],uC=e=>cC.find(t=>t.test(e));function Am(e){const t=uC(e);let n=t.parse(e);return t===kr&&(n=lC(n)),n}const I1=(e,t)=>{const n=Am(e),s=Am(t),r={...n};return i=>(r.red=iu(n.red,s.red,i),r.green=iu(n.green,s.green,i),r.blue=iu(n.blue,s.blue,i),r.alpha=ve(n.alpha,s.alpha,i),Ts.transform(r))};function dC(e){var t,n;return isNaN(e)&&Ia(e)&&(((t=e.match(fc))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(o1))===null||n===void 0?void 0:n.length)||0)>0}const L1={regex:iN,countKey:"Vars",token:"${v}",parse:Pe},O1={regex:o1,countKey:"Colors",token:"${c}",parse:nt.parse},F1={regex:fc,countKey:"Numbers",token:"${n}",parse:er.parse};function au(e,{regex:t,countKey:n,token:s,parse:r}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,s),e.values.push(...i.map(r)))}function kl(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&au(n,L1),au(n,O1),au(n,F1),n}function z1(e){return kl(e).values}function B1(e){const{values:t,numColors:n,numVars:s,tokenised:r}=kl(e),i=t.length;return a=>{let o=r;for(let l=0;l<i;l++)l<s?o=o.replace(L1.token,a[l]):l<s+n?o=o.replace(O1.token,nt.transform(a[l])):o=o.replace(F1.token,Bi(a[l]));return o}}const hC=e=>typeof e=="number"?0:e;function fC(e){const t=z1(e);return B1(e)(t.map(hC))}const ls={test:dC,parse:z1,createTransformer:B1,getAnimatableNone:fC},V1=(e,t)=>n=>`${n>0?t:e}`;function $1(e,t){return typeof e=="number"?n=>ve(e,t,n):nt.test(e)?I1(e,t):e.startsWith("var(")?V1(e,t):U1(e,t)}const W1=(e,t)=>{const n=[...e],s=n.length,r=e.map((i,a)=>$1(i,t[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}},pC=(e,t)=>{const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=$1(e[r],t[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}},U1=(e,t)=>{const n=ls.createTransformer(t),s=kl(e),r=kl(t);return s.numVars===r.numVars&&s.numColors===r.numColors&&s.numNumbers>=r.numNumbers?ns(W1(s.values,r.values),n):V1(e,t)},ma=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},Tm=(e,t)=>n=>ve(e,t,n);function mC(e){return typeof e=="number"?Tm:typeof e=="string"?nt.test(e)?I1:U1:Array.isArray(e)?W1:typeof e=="object"?pC:Tm}function gC(e,t,n){const s=[],r=n||mC(e[0]),i=e.length-1;for(let a=0;a<i;a++){let o=r(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||Pe:t;o=ns(l,o)}s.push(o)}return s}function H1(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const i=e.length;if(bf(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=gC(t,s,r),o=a.length,l=c=>{let d=0;if(o>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const h=ma(e[d],e[d+1],c);return a[d](h)};return n?c=>l(os(e[0],e[i-1],c)):l}function yC(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=ma(0,t,s);e.push(ve(n,1,r))}}function xC(e){const t=[0];return yC(t,e.length-1),t}function vC(e,t){return e.map(n=>n*t)}function bC(e,t){return e.map(()=>t||E1).splice(0,e.length-1)}function Sl({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=tC(s)?s.map(Em):Em(s),i={done:!1,value:t[0]},a=vC(n&&n.length===t.length?n:xC(t),e),o=H1(a,t,{ease:Array.isArray(r)?r:bC(t,r)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}function G1(e,t){return t?e*(1e3/t):0}const wC=5;function K1(e,t,n){const s=Math.max(t-wC,0);return G1(n-e(s),t-s)}const ou=.001,kC=.01,SC=10,jC=.05,NC=1;function CC({duration:e=800,bounce:t=.25,velocity:n=0,mass:s=1}){let r,i,a=1-t;a=os(jC,NC,a),e=os(kC,SC,Sn(e)),a<1?(r=c=>{const d=c*a,h=d*e,f=d-n,p=Bd(c,a),y=Math.exp(-h);return ou-f/p*y},i=c=>{const h=c*a*e,f=h*n+n,p=Math.pow(a,2)*Math.pow(c,2)*e,y=Math.exp(-h),g=Bd(Math.pow(c,2),a);return(-r(c)+ou>0?-1:1)*((f-p)*y)/g}):(r=c=>{const d=Math.exp(-c*e),h=(c-n)*e+1;return-ou+d*h},i=c=>{const d=Math.exp(-c*e),h=(n-c)*(e*e);return d*h});const o=5/e,l=_C(r,i,o);if(e=Ls(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*s;return{stiffness:c,damping:a*2*Math.sqrt(s*c),duration:e}}}const PC=12;function _C(e,t,n){let s=n;for(let r=1;r<PC;r++)s=s-e(s)/t(s);return s}function Bd(e,t){return e*Math.sqrt(1-t*t)}const EC=["duration","bounce"],AC=["stiffness","damping","mass"];function Mm(e,t){return t.some(n=>e[n]!==void 0)}function TC(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Mm(e,AC)&&Mm(e,EC)){const n=CC(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Y1({keyframes:e,restDelta:t,restSpeed:n,...s}){const r=e[0],i=e[e.length-1],a={done:!1,value:r},{stiffness:o,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=TC({...s,velocity:-Sn(s.velocity||0)}),p=h||0,y=l/(2*Math.sqrt(o*c)),g=i-r,b=Sn(Math.sqrt(o/c)),v=Math.abs(g)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let m;if(y<1){const x=Bd(b,y);m=w=>{const S=Math.exp(-y*b*w);return i-S*((p+y*b*g)/x*Math.sin(x*w)+g*Math.cos(x*w))}}else if(y===1)m=x=>i-Math.exp(-b*x)*(g+(p+b*g)*x);else{const x=b*Math.sqrt(y*y-1);m=w=>{const S=Math.exp(-y*b*w),_=Math.min(x*w,300);return i-S*((p+y*b*g)*Math.sinh(_)+x*g*Math.cosh(_))/x}}return{calculatedDuration:f&&d||null,next:x=>{const w=m(x);if(f)a.done=x>=d;else{let S=p;x!==0&&(y<1?S=K1(m,x,w):S=0);const _=Math.abs(S)<=n,k=Math.abs(i-w)<=t;a.done=_&&k}return a.value=a.done?i:w,a}}}function Dm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=j=>o!==void 0&&j<o||l!==void 0&&j>l,y=j=>o===void 0?l:l===void 0||Math.abs(o-j)<Math.abs(l-j)?o:l;let g=n*t;const b=h+g,v=a===void 0?b:a(b);v!==b&&(g=v-h);const m=j=>-g*Math.exp(-j/s),x=j=>v+m(j),w=j=>{const C=m(j),A=x(j);f.done=Math.abs(C)<=c,f.value=f.done?v:A};let S,_;const k=j=>{p(f.value)&&(S=j,_=Y1({keyframes:[f.value,y(f.value)],velocity:K1(x,j,f.value),damping:r,stiffness:i,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:j=>{let C=!1;return!_&&S===void 0&&(C=!0,w(j),k(j)),S!==void 0&&j>S?_.next(j-S):(!C&&w(j),f)}}}const MC=e=>{const t=({timestamp:n})=>e(n);return{start:()=>de.update(t,!0),stop:()=>En(t),now:()=>Ye.isProcessing?Ye.timestamp:performance.now()}},Rm=2e4;function Im(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Rm;)t+=n,s=e.next(t);return t>=Rm?1/0:t}const DC={decay:Dm,inertia:Dm,tween:Sl,keyframes:Sl,spring:Y1};function jl({autoplay:e=!0,delay:t=0,driver:n=MC,keyframes:s,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:h,...f}){let p=1,y=!1,g,b;const v=()=>{b=new Promise(M=>{g=M})};v();let m;const x=DC[r]||Sl;let w;x!==Sl&&typeof s[0]!="number"&&(w=H1([0,100],s,{clamp:!1}),s=[0,100]);const S=x({...f,keyframes:s});let _;o==="mirror"&&(_=x({...f,keyframes:[...s].reverse(),velocity:-(f.velocity||0)}));let k="idle",j=null,C=null,A=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=Im(S));const{calculatedDuration:L}=S;let $=1/0,q=1/0;L!==null&&($=L+a,q=$*(i+1)-a);let Y=0;const W=M=>{if(C===null)return;p>0&&(C=Math.min(C,M)),p<0&&(C=Math.min(M-q/p,C)),j!==null?Y=j:Y=Math.round(M-C)*p;const O=Y-t*(p>=0?1:-1),D=p>=0?O<0:O>q;Y=Math.max(O,0),k==="finished"&&j===null&&(Y=q);let I=Y,V=S;if(i){const Le=Math.min(Y,q)/$;let he=Math.floor(Le),fe=Le%1;!fe&&Le>=1&&(fe=1),fe===1&&he--,he=Math.min(he,i+1),!!(he%2)&&(o==="reverse"?(fe=1-fe,a&&(fe-=a/$)):o==="mirror"&&(V=_)),I=os(0,1,fe)*$}const B=D?{done:!1,value:s[0]}:V.next(I);w&&(B.value=w(B.value));let{done:J}=B;!D&&L!==null&&(J=p>=0?Y>=q:Y<=0);const ie=j===null&&(k==="finished"||k==="running"&&J);return h&&h(B.value),ie&&T(),B},U=()=>{m&&m.stop(),m=void 0},X=()=>{k="idle",U(),g(),v(),C=A=null},T=()=>{k="finished",d&&d(),U(),g()},P=()=>{if(y)return;m||(m=n(W));const M=m.now();l&&l(),j!==null?C=M-j:(!C||k==="finished")&&(C=M),k==="finished"&&v(),A=C,j=null,k="running",m.start()};e&&P();const E={then(M,O){return b.then(M,O)},get time(){return Sn(Y)},set time(M){M=Ls(M),Y=M,j!==null||!m||p===0?j=M:C=m.now()-M/p},get duration(){const M=S.calculatedDuration===null?Im(S):S.calculatedDuration;return Sn(M)},get speed(){return p},set speed(M){M===p||!m||(p=M,E.time=Sn(Y))},get state(){return k},play:P,pause:()=>{k="paused",j=Y},stop:()=>{y=!0,k!=="idle"&&(k="idle",c&&c(),X())},cancel:()=>{A!==null&&W(A),X()},complete:()=>{k="finished"},sample:M=>(C=0,W(M))};return E}function RC(e){let t;return()=>(t===void 0&&(t=e()),t)}const IC=RC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),LC=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ro=10,OC=2e4,FC=(e,t)=>t.type==="spring"||e==="backgroundColor"||!N1(t.ease);function zC(e,t,{onUpdate:n,onComplete:s,...r}){if(!(IC()&&LC.has(t)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let a=!1,o,l,c=!1;const d=()=>{l=new Promise(x=>{o=x})};d();let{keyframes:h,duration:f=300,ease:p,times:y}=r;if(FC(t,r)){const x=jl({...r,repeat:0,delay:0});let w={done:!1,value:h[0]};const S=[];let _=0;for(;!w.done&&_<OC;)w=x.sample(_),S.push(w.value),_+=ro;y=void 0,h=S,f=_-ro,p="linear"}const g=YN(e.owner.current,t,h,{...r,duration:f,ease:p,times:y}),b=()=>{c=!1,g.cancel()},v=()=>{c=!0,de.update(b),o(),d()};return g.onfinish=()=>{c||(e.set(qN(h,r)),s&&s(),v())},{then(x,w){return l.then(x,w)},attachTimeline(x){return g.timeline=x,g.onfinish=null,Pe},get time(){return Sn(g.currentTime||0)},set time(x){g.currentTime=Ls(x)},get speed(){return g.playbackRate},set speed(x){g.playbackRate=x},get duration(){return Sn(f)},play:()=>{a||(g.play(),En(b))},pause:()=>g.pause(),stop:()=>{if(a=!0,g.playState==="idle")return;const{currentTime:x}=g;if(x){const w=jl({...r,autoplay:!1});e.setWithVelocity(w.sample(x-ro).value,w.sample(x).value,ro)}v()},complete:()=>{c||g.finish()},cancel:v}}function BC({keyframes:e,delay:t,onUpdate:n,onComplete:s}){const r=()=>(n&&n(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Pe,pause:Pe,stop:Pe,then:i=>(i(),Promise.resolve()),cancel:Pe,complete:Pe});return t?jl({keyframes:[0,1],duration:0,delay:t,onComplete:r}):r()}const VC={type:"spring",stiffness:500,damping:25,restSpeed:10},$C=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),WC={type:"keyframes",duration:.8},UC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HC=(e,{keyframes:t})=>t.length>2?WC:Zs.has(e)?e.startsWith("scale")?$C(t[1]):VC:UC,Vd=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ls.test(t)||t==="0")&&!t.startsWith("url(")),GC=new Set(["brightness","contrast","saturate","opacity"]);function KC(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(fc)||[];if(!s)return e;const r=n.replace(s,"");let i=GC.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+r+")"}const YC=/([a-z-]*)\(.*?\)/g,$d={...ls,getAnimatableNone:e=>{const t=e.match(YC);return t?t.map(KC).join(" "):e}},qC={...l1,color:nt,backgroundColor:nt,outlineColor:nt,fill:nt,stroke:nt,borderColor:nt,borderTopColor:nt,borderRightColor:nt,borderBottomColor:nt,borderLeftColor:nt,filter:$d,WebkitFilter:$d},jf=e=>qC[e];function q1(e,t){let n=jf(e);return n!==$d&&(n=ls),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const X1=e=>/^0[^.\s]+$/.test(e);function XC(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||X1(e)}function QC(e,t,n,s){const r=Vd(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=s.from!==void 0?s.from:e.get();let o;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?a:i[c-1]),XC(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(o=i[c]);if(r&&l.length&&o)for(let c=0;c<l.length;c++){const d=l[c];i[d]=q1(t,o)}return i}function JC({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function Nf(e,t){return e[t]||e.default||e}const ZC={skipAnimations:!1},Cf=(e,t,n,s={})=>r=>{const i=Nf(s,e)||{},a=i.delay||s.delay||0;let{elapsed:o=0}=s;o=o-Ls(a);const l=QC(t,e,n,i),c=l[0],d=l[l.length-1],h=Vd(e,c),f=Vd(e,d);let p={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-o,onUpdate:y=>{t.set(y),i.onUpdate&&i.onUpdate(y)},onComplete:()=>{r(),i.onComplete&&i.onComplete()}};if(JC(i)||(p={...p,...HC(e,p)}),p.duration&&(p.duration=Ls(p.duration)),p.repeatDelay&&(p.repeatDelay=Ls(p.repeatDelay)),!h||!f||KN.current||i.type===!1||ZC.skipAnimations)return BC(p);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=zC(t,e,p);if(y)return y}return jl(p)};function Nl(e){return!!(yt(e)&&e.add)}const Q1=e=>/^\-?\d*\.?\d+$/.test(e);function Pf(e,t){e.indexOf(t)===-1&&e.push(t)}function _f(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ef{constructor(){this.subscriptions=[]}add(t){return Pf(this.subscriptions,t),()=>_f(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const eP=e=>!isNaN(parseFloat(e));class tP{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,r=!0)=>{this.prev=this.current,this.current=s;const{delta:i,timestamp:a}=Ye;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,de.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>de.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=eP(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ef);const s=this.events[t].add(n);return t==="change"?()=>{s(),de.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?G1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wr(e,t){return new tP(e,t)}const J1=e=>t=>t.test(e),nP={test:e=>e==="auto",parse:e=>e},Z1=[er,Q,ln,In,cN,lN,nP],ci=e=>Z1.find(J1(e)),sP=[...Z1,nt,ls],rP=e=>sP.find(J1(e));function iP(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wr(n))}function aP(e,t){const n=mc(e,t);let{transitionEnd:s={},transition:r={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...s};for(const a in i){const o=SN(i[a]);iP(e,a,o)}}function oP(e,t,n){var s,r;const i=Object.keys(t).filter(o=>!e.hasValue(o)),a=i.length;if(a)for(let o=0;o<a;o++){const l=i[o],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(r=(s=n[l])!==null&&s!==void 0?s:e.readValue(l))!==null&&r!==void 0?r:t[l]),d!=null&&(typeof d=="string"&&(Q1(d)||X1(d))?d=parseFloat(d):!rP(d)&&ls.test(c)&&(d=q1(l,c)),e.addValue(l,Wr(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function lP(e,t){return t?(t[e]||t.default||t).from:void 0}function cP(e,t,n){const s={};for(const r in e){const i=lP(r,t);if(i!==void 0)s[r]=i;else{const a=n.getValue(r);a&&(s[r]=a.get())}}return s}function uP({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function dP(e,t){const n=e.get();if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(t[s]!==n)return!0}else return n!==t}function eb(e,t,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");s&&(i=s);const c=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const h in o){const f=e.getValue(h),p=o[h];if(!f||p===void 0||d&&uP(d,h))continue;const y={delay:n,elapsed:0,...Nf(i||{},h)};if(window.HandoffAppearAnimations){const v=e.getProps()[t1];if(v){const m=window.HandoffAppearAnimations(v,h,f,de);m!==null&&(y.elapsed=m,y.isHandoff=!0)}}let g=!y.isHandoff&&!dP(f,p);if(y.type==="spring"&&(f.getVelocity()||y.velocity)&&(g=!1),f.animation&&(g=!1),g)continue;f.start(Cf(h,f,p,e.shouldReduceMotion&&Zs.has(h)?{type:!1}:y));const b=f.animation;Nl(l)&&(l.add(h),b.then(()=>l.remove(h))),c.push(b)}return a&&Promise.all(c).then(()=>{a&&aP(e,a)}),c}function Wd(e,t,n={}){const s=mc(e,t,n.custom);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(eb(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=r;return hP(e,t,c+l,d,h,n)}:()=>Promise.resolve(),{when:o}=r;if(o){const[l,c]=o==="beforeChildren"?[i,a]:[a,i];return l().then(()=>c())}else return Promise.all([i(),a(n.delay)])}function hP(e,t,n=0,s=0,r=1,i){const a=[],o=(e.variantChildren.size-1)*s,l=r===1?(c=0)=>c*s:(c=0)=>o-c*s;return Array.from(e.variantChildren).sort(fP).forEach((c,d)=>{c.notify("AnimationStart",t),a.push(Wd(c,t,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(a)}function fP(e,t){return e.sortNodePosition(t)}function pP(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(i=>Wd(e,i,n));s=Promise.all(r)}else if(typeof t=="string")s=Wd(e,t,n);else{const r=typeof t=="function"?mc(e,t,n.custom):t;s=Promise.all(eb(e,r,n))}return s.then(()=>e.notify("AnimationComplete",t))}const mP=[...uf].reverse(),gP=uf.length;function yP(e){return t=>Promise.all(t.map(({animation:n,options:s})=>pP(e,n,s)))}function xP(e){let t=yP(e);const n=bP();let s=!0;const r=(l,c)=>{const d=mc(e,c);if(d){const{transition:h,transitionEnd:f,...p}=d;l={...l,...p,...f}}return l};function i(l){t=l(e)}function a(l,c){const d=e.getProps(),h=e.getVariantContext(!0)||{},f=[],p=new Set;let y={},g=1/0;for(let v=0;v<gP;v++){const m=mP[v],x=n[m],w=d[m]!==void 0?d[m]:h[m],S=fa(w),_=m===c?x.isActive:null;_===!1&&(g=v);let k=w===h[m]&&w!==d[m]&&S;if(k&&s&&e.manuallyAnimateOnMount&&(k=!1),x.protectedKeys={...y},!x.isActive&&_===null||!w&&!x.prevProp||dc(w)||typeof w=="boolean")continue;let C=vP(x.prevProp,w)||m===c&&x.isActive&&!k&&S||v>g&&S,A=!1;const L=Array.isArray(w)?w:[w];let $=L.reduce(r,{});_===!1&&($={});const{prevResolvedValues:q={}}=x,Y={...q,...$},W=U=>{C=!0,p.has(U)&&(A=!0,p.delete(U)),x.needsAnimating[U]=!0};for(const U in Y){const X=$[U],T=q[U];if(y.hasOwnProperty(U))continue;let P=!1;wl(X)&&wl(T)?P=!S1(X,T):P=X!==T,P?X!==void 0?W(U):p.add(U):X!==void 0&&p.has(U)?W(U):x.protectedKeys[U]=!0}x.prevProp=w,x.prevResolvedValues=$,x.isActive&&(y={...y,...$}),s&&e.blockInitialAnimation&&(C=!1),C&&(!k||A)&&f.push(...L.map(U=>({animation:U,options:{type:m,...l}})))}if(p.size){const v={};p.forEach(m=>{const x=e.getBaseTarget(m);x!==void 0&&(v[m]=x)}),f.push({animation:v})}let b=!!f.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),s=!1,b?t(f):Promise.resolve()}function o(l,c,d){var h;if(n[l].isActive===c)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(p=>{var y;return(y=p.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const f=a(d,l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n}}function vP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!S1(t,e):!1}function gs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bP(){return{animate:gs(!0),whileInView:gs(),whileHover:gs(),whileTap:gs(),whileDrag:gs(),whileFocus:gs(),exit:gs()}}class wP extends ms{constructor(t){super(t),t.animationState||(t.animationState=xP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),dc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let kP=0;class SP extends ms{constructor(){super(...arguments),this.id=kP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t,{custom:s??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const jP={animation:{Feature:wP},exit:{Feature:SP}},Lm=(e,t)=>Math.abs(e-t);function NP(e,t){const n=Lm(e.x,t.x),s=Lm(e.y,t.y);return Math.sqrt(n**2+s**2)}class tb{constructor(t,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=cu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=NP(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:y}=h,{timestamp:g}=Ye;this.history.push({...y,timestamp:g});const{onStart:b,onMove:v}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=lu(f,this.transformPagePoint),de.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=cu(h.type==="pointercancel"?this.lastMoveEventInfo:lu(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,b),y&&y(h,b)},!x1(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const a=pc(t),o=lu(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=Ye;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,cu(o,this.history)),this.removeListeners=ns(kn(this.contextWindow,"pointermove",this.handlePointerMove),kn(this.contextWindow,"pointerup",this.handlePointerUp),kn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),En(this.updatePoint)}}function lu(e,t){return t?{point:t(e.point)}:e}function Om(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cu({point:e},t){return{point:e,delta:Om(e,nb(t)),offset:Om(e,CP(t)),velocity:PP(t,.1)}}function CP(e){return e[0]}function nb(e){return e[e.length-1]}function PP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=nb(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>Ls(t)));)n--;if(!s)return{x:0,y:0};const i=Sn(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function jt(e){return e.max-e.min}function Ud(e,t=0,n=.01){return Math.abs(e-t)<=n}function Fm(e,t,n,s=.5){e.origin=s,e.originPoint=ve(t.min,t.max,e.origin),e.scale=jt(n)/jt(t),(Ud(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ve(n.min,n.max,e.origin)-e.originPoint,(Ud(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Vi(e,t,n,s){Fm(e.x,t.x,n.x,s?s.originX:void 0),Fm(e.y,t.y,n.y,s?s.originY:void 0)}function zm(e,t,n){e.min=n.min+t.min,e.max=e.min+jt(t)}function _P(e,t,n){zm(e.x,t.x,n.x),zm(e.y,t.y,n.y)}function Bm(e,t,n){e.min=t.min-n.min,e.max=e.min+jt(t)}function $i(e,t,n){Bm(e.x,t.x,n.x),Bm(e.y,t.y,n.y)}function EP(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ve(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ve(n,e,s.max):Math.min(e,n)),e}function Vm(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function AP(e,{top:t,left:n,bottom:s,right:r}){return{x:Vm(e.x,n,r),y:Vm(e.y,t,s)}}function $m(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function TP(e,t){return{x:$m(e.x,t.x),y:$m(e.y,t.y)}}function MP(e,t){let n=.5;const s=jt(e),r=jt(t);return r>s?n=ma(t.min,t.max-s,e.min):s>r&&(n=ma(e.min,e.max-r,t.min)),os(0,1,n)}function DP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Hd=.35;function RP(e=Hd){return e===!1?e=0:e===!0&&(e=Hd),{x:Wm(e,"left","right"),y:Wm(e,"top","bottom")}}function Wm(e,t,n){return{min:Um(e,t),max:Um(e,n)}}function Um(e,t){return typeof e=="number"?e:e[t]||0}const Hm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sr=()=>({x:Hm(),y:Hm()}),Gm=()=>({min:0,max:0}),Ee=()=>({x:Gm(),y:Gm()});function Mt(e){return[e("x"),e("y")]}function sb({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function IP({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function LP(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function uu(e){return e===void 0||e===1}function Gd({scale:e,scaleX:t,scaleY:n}){return!uu(e)||!uu(t)||!uu(n)}function Ss(e){return Gd(e)||rb(e)||e.z||e.rotate||e.rotateX||e.rotateY}function rb(e){return Km(e.x)||Km(e.y)}function Km(e){return e&&e!=="0%"}function Cl(e,t,n){const s=e-n,r=t*s;return n+r}function Ym(e,t,n,s,r){return r!==void 0&&(e=Cl(e,r,s)),Cl(e,n,s)+t}function Kd(e,t=0,n=1,s,r){e.min=Ym(e.min,t,n,s,r),e.max=Ym(e.max,t,n,s,r)}function ib(e,{x:t,y:n}){Kd(e.x,t.translate,t.scale,t.originPoint),Kd(e.y,n.translate,n.scale,n.originPoint)}function OP(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let i,a;for(let o=0;o<r;o++){i=n[o],a=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&jr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,ib(e,a)),s&&Ss(i.latestValues)&&jr(e,i.latestValues))}t.x=qm(t.x),t.y=qm(t.y)}function qm(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Fn(e,t){e.min=e.min+t,e.max=e.max+t}function Xm(e,t,[n,s,r]){const i=t[r]!==void 0?t[r]:.5,a=ve(e.min,e.max,i);Kd(e,t[n],t[s],a,t.scale)}const FP=["x","scaleX","originX"],zP=["y","scaleY","originY"];function jr(e,t){Xm(e.x,t,FP),Xm(e.y,t,zP)}function ab(e,t){return sb(LP(e.getBoundingClientRect(),t))}function BP(e,t,n){const s=ab(e,n),{scroll:r}=t;return r&&(Fn(s.x,r.offset.x),Fn(s.y,r.offset.y)),s}const ob=({current:e})=>e?e.ownerDocument.defaultView:null,VP=new WeakMap;class $P{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pc(d,"page").point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:y}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=b1(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mt(b=>{let v=this.getAxisMotionValue(b).get()||0;if(ln.test(v)){const{projection:m}=this.visualElement;if(m&&m.layout){const x=m.layout.layoutBox[b];x&&(v=jt(x)*(parseFloat(v)/100))}}this.originPoint[b]=v}),y&&de.update(()=>y(d,h),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:y,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=h;if(p&&this.currentDirection===null){this.currentDirection=WP(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),g&&g(d,h)},o=(d,h)=>this.stop(d,h),l=()=>Mt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new tb(t,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ob(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&de.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!io(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(a=EP(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&wr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=AP(r.layoutBox,n):this.constraints=!1,this.elastic=RP(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Mt(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=DP(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!wr(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=BP(s,r.root,this.visualElement.getTransformPagePoint());let a=TP(r.layout.layoutBox,i);if(n){const o=n(IP(a));this.hasMutatedConstraints=!!o,o&&(a=sb(o))}return a}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Mt(d=>{if(!io(d,n,this.currentDirection))return;let h=l&&l[d]||{};a&&(h={min:0,max:0});const f=r?200:1e6,p=r?40:1e7,y={type:"inertia",velocity:s?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return s.start(Cf(t,s,0,n))}stopAnimation(){Mt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Mt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Mt(n=>{const{drag:s}=this.getProps();if(!io(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:o}=r.layout.layoutBox[n];i.set(t[n]-ve(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!wr(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Mt(a=>{const o=this.getAxisMotionValue(a);if(o){const l=o.get();r[a]=MP({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Mt(a=>{if(!io(a,t,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(ve(l,c,r[a]))})}addListeners(){if(!this.visualElement.current)return;VP.set(this.visualElement,this);const t=this.visualElement.current,n=kn(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();wr(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),s();const a=xn(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Mt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=Hd,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function io(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function WP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class UP extends ms{constructor(t){super(t),this.removeGroupControls=Pe,this.removeListeners=Pe,this.controls=new $P(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pe}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qm=e=>(t,n)=>{e&&de.update(()=>e(t,n))};class HP extends ms{constructor(){super(...arguments),this.removePointerDownListener=Pe}onPointerDown(t){this.session=new tb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ob(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Qm(t),onStart:Qm(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&de.update(()=>r(i,a))}}}mount(){this.removePointerDownListener=kn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function GP(){const e=N.useContext(cc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,r=N.useId();return N.useEffect(()=>s(r),[]),!t&&n?[!1,()=>n&&n(r)]:[!0]}const Bo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Jm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ui={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Q.test(e))e=parseFloat(e);else return e;const n=Jm(e,t.target.x),s=Jm(e,t.target.y);return`${n}% ${s}%`}},KP={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=ls.parse(e);if(r.length>5)return s;const i=ls.createTransformer(e),a=typeof r[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;r[0+a]/=o,r[1+a]/=l;const c=ve(o,l,.5);return typeof r[2+a]=="number"&&(r[2+a]/=c),typeof r[3+a]=="number"&&(r[3+a]/=c),i(r)}};class YP extends Ct.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=t;tN(qP),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Bo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,a=s.projection;return a&&(a.isPresent=i,r||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||de.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function lb(e){const[t,n]=GP(),s=N.useContext(hf);return Ct.createElement(YP,{...e,layoutGroup:s,switchLayoutGroup:N.useContext(s1),isPresent:t,safeToRemove:n})}const qP={borderRadius:{...ui,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ui,borderTopRightRadius:ui,borderBottomLeftRadius:ui,borderBottomRightRadius:ui,boxShadow:KP},cb=["TopLeft","TopRight","BottomLeft","BottomRight"],XP=cb.length,Zm=e=>typeof e=="string"?parseFloat(e):e,eg=e=>typeof e=="number"||Q.test(e);function QP(e,t,n,s,r,i){r?(e.opacity=ve(0,n.opacity!==void 0?n.opacity:1,JP(s)),e.opacityExit=ve(t.opacity!==void 0?t.opacity:1,0,ZP(s))):i&&(e.opacity=ve(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let a=0;a<XP;a++){const o=`border${cb[a]}Radius`;let l=tg(t,o),c=tg(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||eg(l)===eg(c)?(e[o]=Math.max(ve(Zm(l),Zm(c),s),0),(ln.test(c)||ln.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=ve(t.rotate||0,n.rotate||0,s))}function tg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const JP=ub(0,.5,M1),ZP=ub(.5,.95,Pe);function ub(e,t,n){return s=>s<e?0:s>t?1:n(ma(e,t,s))}function ng(e,t){e.min=t.min,e.max=t.max}function Et(e,t){ng(e.x,t.x),ng(e.y,t.y)}function sg(e,t,n,s,r){return e-=t,e=Cl(e,1/n,s),r!==void 0&&(e=Cl(e,1/r,s)),e}function e_(e,t=0,n=1,s=.5,r,i=e,a=e){if(ln.test(t)&&(t=parseFloat(t),t=ve(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=ve(i.min,i.max,s);e===i&&(o-=t),e.min=sg(e.min,t,n,o,r),e.max=sg(e.max,t,n,o,r)}function rg(e,t,[n,s,r],i,a){e_(e,t[n],t[s],t[r],t.scale,i,a)}const t_=["x","scaleX","originX"],n_=["y","scaleY","originY"];function ig(e,t,n,s){rg(e.x,t,t_,n?n.x:void 0,s?s.x:void 0),rg(e.y,t,n_,n?n.y:void 0,s?s.y:void 0)}function ag(e){return e.translate===0&&e.scale===1}function db(e){return ag(e.x)&&ag(e.y)}function s_(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function hb(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function og(e){return jt(e.x)/jt(e.y)}class r_{constructor(){this.members=[]}add(t){Pf(this.members,t),t.scheduleRender()}remove(t){if(_f(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lg(e,t,n){let s="";const r=e.x.translate/t.x,i=e.y.translate/t.y;if((r||i)&&(s=`translate3d(${r}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(s+=`rotate(${l}deg) `),c&&(s+=`rotateX(${c}deg) `),d&&(s+=`rotateY(${d}deg) `)}const a=e.x.scale*t.x,o=e.y.scale*t.y;return(a!==1||o!==1)&&(s+=`scale(${a}, ${o})`),s||"none"}const i_=(e,t)=>e.depth-t.depth;class a_{constructor(){this.children=[],this.isDirty=!1}add(t){Pf(this.children,t),this.isDirty=!0}remove(t){_f(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(i_),this.isDirty=!1,this.children.forEach(t)}}function o_(e,t){const n=performance.now(),s=({timestamp:r})=>{const i=r-n;i>=t&&(En(s),e(i-t))};return de.read(s,!0),()=>En(s)}function l_(e){window.MotionDebug&&window.MotionDebug.record(e)}function c_(e){return e instanceof SVGElement&&e.tagName!=="svg"}function u_(e,t,n){const s=yt(e)?e:Wr(e);return s.start(Cf("",s,t,n)),s.animation}const cg=["","X","Y","Z"],d_={visibility:"hidden"},ug=1e3;let h_=0;const js={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function fb({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},o=t==null?void 0:t()){this.id=h_++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,js.totalNodes=js.resolvedTargetDeltas=js.recalculatedProjection=0,this.nodes.forEach(m_),this.nodes.forEach(b_),this.nodes.forEach(w_),this.nodes.forEach(g_),l_(js)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new a_)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Ef),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=c_(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=o_(f,250),Bo.hasAnimatedSinceResize&&(Bo.hasAnimatedSinceResize=!1,this.nodes.forEach(hg))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||C_,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=d.getProps(),m=!this.targetLayout||!hb(this.targetLayout,y)||p,x=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,x);const w={...Nf(g,"layout"),onPlay:b,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||hg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,En(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k_),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dg);return}this.isUpdating||this.nodes.forEach(x_),this.isUpdating=!1,this.nodes.forEach(v_),this.nodes.forEach(f_),this.nodes.forEach(p_),this.clearAllSnapshots();const o=performance.now();Ye.delta=os(0,1e3/60,o-Ye.timestamp),Ye.timestamp=o,Ye.isProcessing=!0,eu.update.process(Ye),eu.preRender.process(Ye),eu.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(y_),this.sharedNodes.forEach(S_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,de.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){de.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!db(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&(o||Ss(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),P_(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Ee();const o=a.measureViewportBox(),{scroll:l}=this.root;return l&&(Fn(o.x,l.offset.x),Fn(o.y,l.offset.y)),o}removeElementScroll(a){const o=Ee();Et(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){Et(o,a);const{scroll:f}=this.root;f&&(Fn(o.x,-f.offset.x),Fn(o.y,-f.offset.y))}Fn(o.x,d.offset.x),Fn(o.y,d.offset.y)}}return o}applyTransform(a,o=!1){const l=Ee();Et(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&jr(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ss(d.latestValues)&&jr(l,d.latestValues)}return Ss(this.latestValues)&&jr(l,this.latestValues),l}removeTransform(a){const o=Ee();Et(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ss(c.latestValues))continue;Gd(c.latestValues)&&c.updateSnapshot();const d=Ee(),h=c.measurePageBox();Et(d,h),ig(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ss(this.latestValues)&&ig(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),$i(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_P(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Et(this.target,this.layout.layoutBox),ib(this.target,this.targetDelta)):Et(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),$i(this.relativeTargetOrigin,this.target,p.target),Et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}js.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gd(this.parent.latestValues)||rb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Et(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;OP(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:y}=o;if(!y){this.projectionTransform&&(this.projectionDelta=Sr(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Sr(),this.projectionDeltaWithTransform=Sr());const g=this.projectionTransform;Vi(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=lg(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),js.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Sr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Ee(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,g=p!==y,b=this.getStack(),v=!b||b.members.length<=1,m=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(N_));this.animationProgress=0;let x;this.mixTargetDelta=w=>{const S=w/1e3;fg(h.x,a.x,S),fg(h.y,a.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($i(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j_(this.relativeTarget,this.relativeTargetOrigin,f,S),x&&s_(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ee()),Et(x,this.relativeTarget)),g&&(this.animationValues=d,QP(d,c,this.latestValues,S,m,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(En(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=de.update(()=>{Bo.hasAnimatedSinceResize=!0,this.currentAnimation=u_(0,ug,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ug),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&pb(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ee();const h=jt(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const f=jt(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Et(o,l),jr(o,d),Vi(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new r_),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let d=0;d<cg.length;d++){const h="rotate"+cg[d];l[h]&&(c[h]=l[h],a.setStaticValue(h,0))}a.render();for(const d in c)a.setStaticValue(d,c[d]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return d_;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=zo(a==null?void 0:a.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=zo(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ss(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=lg(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:p,y}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in vl){if(f[g]===void 0)continue;const{correct:b,applyTo:v}=vl[g],m=c.transform==="none"?f[g]:b(f[g],h);if(v){const x=v.length;for(let w=0;w<x;w++)c[v[w]]=m}else c[g]=m}return this.options.layoutId&&(c.pointerEvents=h===this?zo(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(dg),this.root.sharedNodes.clear()}}}function f_(e){e.updateLayout()}function p_(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?Mt(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],p=jt(f);f.min=s[h].min,f.max=f.min+p}):pb(i,n.layoutBox,s)&&Mt(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],p=jt(s[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const o=Sr();Vi(o,s,n.layoutBox);const l=Sr();a?Vi(l,e.applyTransform(r,!0),n.measuredBox):Vi(l,s,n.layoutBox);const c=!db(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const y=Ee();$i(y,n.layoutBox,f.layoutBox);const g=Ee();$i(g,s,p.layoutBox),hb(y,g)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function m_(e){js.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function g_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function y_(e){e.clearSnapshot()}function dg(e){e.clearMeasurements()}function x_(e){e.isLayoutDirty=!1}function v_(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function b_(e){e.resolveTargetDelta()}function w_(e){e.calcProjection()}function k_(e){e.resetRotation()}function S_(e){e.removeLeadSnapshot()}function fg(e,t,n){e.translate=ve(t.translate,0,n),e.scale=ve(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function pg(e,t,n,s){e.min=ve(t.min,n.min,s),e.max=ve(t.max,n.max,s)}function j_(e,t,n,s){pg(e.x,t.x,n.x,s),pg(e.y,t.y,n.y,s)}function N_(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const C_={duration:.45,ease:[.4,0,.1,1]},mg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),gg=mg("applewebkit/")&&!mg("chrome/")?Math.round:Pe;function yg(e){e.min=gg(e.min),e.max=gg(e.max)}function P_(e){yg(e.x),yg(e.y)}function pb(e,t,n){return e==="position"||e==="preserve-aspect"&&!Ud(og(t),og(n),.2)}const __=fb({attachResizeListener:(e,t)=>xn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),du={current:void 0},mb=fb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!du.current){const e=new __({});e.mount(window),e.setOptions({layoutScroll:!0}),du.current=e}return du.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),E_={pan:{Feature:HP},drag:{Feature:UP,ProjectionNode:mb,MeasureLayout:lb}},A_=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function T_(e){const t=A_.exec(e);if(!t)return[,];const[,n,s]=t;return[n,s]}function Yd(e,t,n=1){const[s,r]=T_(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const a=i.trim();return Q1(a)?parseFloat(a):a}else return Od(r)?Yd(r,t,n+1):r}function M_(e,{...t},n){const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(r=>{const i=r.get();if(!Od(i))return;const a=Yd(i,s);a&&r.set(a)});for(const r in t){const i=t[r];if(!Od(i))continue;const a=Yd(i,s);a&&(t[r]=a,n||(n={}),n[r]===void 0&&(n[r]=i))}return{target:t,transitionEnd:n}}const D_=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),gb=e=>D_.has(e),R_=e=>Object.keys(e).some(gb),xg=e=>e===er||e===Q,vg=(e,t)=>parseFloat(e.split(", ")[t]),bg=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/);if(r)return vg(r[1],t);{const i=s.match(/^matrix\((.+)\)$/);return i?vg(i[1],e):0}},I_=new Set(["x","y","z"]),L_=Ra.filter(e=>!I_.has(e));function O_(e){const t=[];return L_.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ur={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:bg(4,13),y:bg(5,14)};Ur.translateX=Ur.x;Ur.translateY=Ur.y;const F_=(e,t,n)=>{const s=t.measureViewportBox(),r=t.current,i=getComputedStyle(r),{display:a}=i,o={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{o[c]=Ur[c](s,i)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(o[c]),e[c]=Ur[c](l,i)}),e},z_=(e,t,n={},s={})=>{t={...t},s={...s};const r=Object.keys(t).filter(gb);let i=[],a=!1;const o=[];if(r.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],h=ci(d);const f=t[l];let p;if(wl(f)){const y=f.length,g=f[0]===null?1:0;d=f[g],h=ci(d);for(let b=g;b<y&&f[b]!==null;b++)p?bf(ci(f[b])===p):p=ci(f[b])}else p=ci(f);if(h!==p)if(xg(h)&&xg(p)){const y=c.get();typeof y=="string"&&c.set(parseFloat(y)),typeof f=="string"?t[l]=parseFloat(f):Array.isArray(f)&&p===Q&&(t[l]=f.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(d===0||f===0)?d===0?c.set(p.transform(d)):t[l]=h.transform(f):(a||(i=O_(e),a=!0),o.push(l),s[l]=s[l]!==void 0?s[l]:t[l],c.jump(f))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=F_(t,e,o);return i.length&&i.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),uc&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:s}}else return{target:t,transitionEnd:s}};function B_(e,t,n,s){return R_(t)?z_(e,t,n,s):{target:t,transitionEnd:s}}const V_=(e,t,n,s)=>{const r=M_(e,t,s);return t=r.target,s=r.transitionEnd,B_(e,t,n,s)},qd={current:null},yb={current:!1};function $_(){if(yb.current=!0,!!uc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>qd.current=e.matches;e.addListener(t),t()}else qd.current=!1}function W_(e,t,n){const{willChange:s}=t;for(const r in t){const i=t[r],a=n[r];if(yt(i))e.addValue(r,i),Nl(s)&&s.add(r);else if(yt(a))e.addValue(r,Wr(i,{owner:e})),Nl(s)&&s.remove(r);else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);!o.hasAnimated&&o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Wr(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const wg=new WeakMap,xb=Object.keys(pa),U_=xb.length,kg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],H_=df.length;class G_{constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>de.render(this.render,!1,!0);const{latestValues:o,renderState:l}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.isControllingVariants=hc(n),this.isVariantNode=n1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];o[h]!==void 0&&yt(f)&&(f.set(o[h],!1),Nl(c)&&c.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,wg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),yb.current||$_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){wg.delete(this.current),this.projection&&this.projection.unmount(),En(this.notifyUpdate),En(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const s=Zs.has(t),r=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&de.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{r(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},s,r,i){let a,o;for(let l=0;l<U_;l++){const c=xb[l],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:p}=pa[c];f&&(a=f),d(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),p&&(o=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||h&&wr(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:p})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<kg.length;s++){const r=kg[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i=t["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=W_(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<H_;s++){const r=df[s],i=this.props[r];(fa(i)||i===!1)&&(n[r]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Wr(n,{owner:this}),this.addValue(t,s)),s}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props,r=typeof s=="string"||typeof s=="object"?(n=vf(this.props,s))===null||n===void 0?void 0:n[t]:void 0;if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!yt(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ef),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class vb extends G_{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...s},{transformValues:r},i){let a=cP(s,t||{},this);if(r&&(n&&(n=r(n)),s&&(s=r(s)),a&&(a=r(a))),i){oP(this,s,a);const o=V_(this,s,a,n);n=o.transitionEnd,s=o.target}return{transition:t,transitionEnd:n,...s}}}function K_(e){return window.getComputedStyle(e)}class Y_ extends vb{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Zs.has(n)){const s=jf(n);return s&&s.default||0}else{const s=K_(t),r=(a1(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return ab(t,n)}build(t,n,s,r){pf(t,n,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,n){return xf(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,s,r){h1(t,n,s,r)}}class q_ extends vb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Zs.has(n)){const s=jf(n);return s&&s.default||0}return n=f1.has(n)?n:cf(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ee()}scrapeMotionValuesFromProps(t,n){return m1(t,n)}build(t,n,s,r){gf(t,n,s,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,s,r){p1(t,n,s,r)}mount(t){this.isSVGTag=yf(t.tagName),super.mount(t)}}const X_=(e,t)=>ff(e)?new q_(t,{enableHardwareAcceleration:!1}):new Y_(t,{enableHardwareAcceleration:!0}),Q_={layout:{ProjectionNode:mb,MeasureLayout:lb}},J_={...jP,...UN,...E_,...Q_},R=Zj((e,t)=>TN(e,t,J_,X_));function bb(){const e=N.useRef(!1);return lf(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Z_(){const e=bb(),[t,n]=N.useState(0),s=N.useCallback(()=>{e.current&&n(t+1)},[t]);return[N.useCallback(()=>de.postRender(s),[s]),t]}class eE extends N.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function tE({children:e,isPresent:t}){const n=N.useId(),s=N.useRef(null),r=N.useRef({width:0,height:0,top:0,left:0});return N.useInsertionEffect(()=>{const{width:i,height:a,top:o,left:l}=r.current;if(t||!s.current||!i||!a)return;s.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),N.createElement(eE,{isPresent:t,childRef:s,sizeRef:r},N.cloneElement(e,{ref:s}))}const hu=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:a})=>{const o=g1(nE),l=N.useId(),c=N.useMemo(()=>({id:l,initial:t,isPresent:n,custom:r,onExitComplete:d=>{o.set(d,!0);for(const h of o.values())if(!h)return;s&&s()},register:d=>(o.set(d,!1),()=>o.delete(d))}),i?void 0:[n]);return N.useMemo(()=>{o.forEach((d,h)=>o.set(h,!1))},[n]),N.useEffect(()=>{!n&&!o.size&&s&&s()},[n]),a==="popLayout"&&(e=N.createElement(tE,{isPresent:n},e)),N.createElement(cc.Provider,{value:c},e)};function nE(){return new Map}function sE(e){return N.useEffect(()=>()=>e(),[])}const Ns=e=>e.key||"";function rE(e,t){e.forEach(n=>{const s=Ns(n);t.set(s,n)})}function iE(e){const t=[];return N.Children.forEach(e,n=>{N.isValidElement(n)&&t.push(n)}),t}const Be=({children:e,custom:t,initial:n=!0,onExitComplete:s,exitBeforeEnter:r,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const o=N.useContext(hf).forceRender||Z_()[0],l=bb(),c=iE(e);let d=c;const h=N.useRef(new Map).current,f=N.useRef(d),p=N.useRef(new Map).current,y=N.useRef(!0);if(lf(()=>{y.current=!1,rE(c,p),f.current=d}),sE(()=>{y.current=!0,p.clear(),h.clear()}),y.current)return N.createElement(N.Fragment,null,d.map(m=>N.createElement(hu,{key:Ns(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},m)));d=[...d];const g=f.current.map(Ns),b=c.map(Ns),v=g.length;for(let m=0;m<v;m++){const x=g[m];b.indexOf(x)===-1&&!h.has(x)&&h.set(x,void 0)}return a==="wait"&&h.size&&(d=[]),h.forEach((m,x)=>{if(b.indexOf(x)!==-1)return;const w=p.get(x);if(!w)return;const S=g.indexOf(x);let _=m;if(!_){const k=()=>{h.delete(x);const j=Array.from(p.keys()).filter(C=>!b.includes(C));if(j.forEach(C=>p.delete(C)),f.current=c.filter(C=>{const A=Ns(C);return A===x||j.includes(A)}),!h.size){if(l.current===!1)return;o(),s&&s()}};_=N.createElement(hu,{key:Ns(w),isPresent:!1,onExitComplete:k,custom:t,presenceAffectsLayout:i,mode:a},w),h.set(x,_)}d.splice(S,0,_)}),d=d.map(m=>{const x=m.key;return h.has(x)?m:N.createElement(hu,{key:Ns(m),isPresent:!0,presenceAffectsLayout:i,mode:a},m)}),N.createElement(N.Fragment,null,h.size?d:d.map(m=>N.cloneElement(m)))},aE={},Sg=e=>{let t;const n=new Set,s=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const p=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(y=>y(t,p))}},r=()=>t,l={setState:s,getState:r,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(aE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(s,r,l);return l},oE=e=>e?Sg(e):Sg;var wb={exports:{}},kb={},Sb={exports:{}},jb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hr=N;function lE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cE=typeof Object.is=="function"?Object.is:lE,uE=Hr.useState,dE=Hr.useEffect,hE=Hr.useLayoutEffect,fE=Hr.useDebugValue;function pE(e,t){var n=t(),s=uE({inst:{value:n,getSnapshot:t}}),r=s[0].inst,i=s[1];return hE(function(){r.value=n,r.getSnapshot=t,fu(r)&&i({inst:r})},[e,n,t]),dE(function(){return fu(r)&&i({inst:r}),e(function(){fu(r)&&i({inst:r})})},[e]),fE(n),n}function fu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cE(e,n)}catch{return!0}}function mE(e,t){return t()}var gE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mE:pE;jb.useSyncExternalStore=Hr.useSyncExternalStore!==void 0?Hr.useSyncExternalStore:gE;Sb.exports=jb;var yE=Sb.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc=N,xE=yE;function vE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bE=typeof Object.is=="function"?Object.is:vE,wE=xE.useSyncExternalStore,kE=gc.useRef,SE=gc.useEffect,jE=gc.useMemo,NE=gc.useDebugValue;kb.useSyncExternalStoreWithSelector=function(e,t,n,s,r){var i=kE(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=jE(function(){function l(p){if(!c){if(c=!0,d=p,p=s(p),r!==void 0&&a.hasValue){var y=a.value;if(r(y,p))return h=y}return h=p}if(y=h,bE(d,p))return y;var g=s(p);return r!==void 0&&r(y,g)?(d=p,y):(d=p,h=g)}var c=!1,d,h,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,s,r]);var o=wE(e,i[0],i[1]);return SE(function(){a.hasValue=!0,a.value=o},[o]),NE(o),o};wb.exports=kb;var CE=wb.exports;const PE=hh(CE),Nb={},{useDebugValue:_E}=Ct,{useSyncExternalStoreWithSelector:EE}=PE;let jg=!1;const AE=e=>e;function TE(e,t=AE,n){(Nb?"production":void 0)!=="production"&&n&&!jg&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),jg=!0);const s=EE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return _E(s),s}const Ng=e=>{(Nb?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?oE(e):e,n=(s,r)=>TE(t,s,r);return Object.assign(n,t),n},Cb=e=>e?Ng(e):Ng,ME=(e,t)=>t.some(n=>e instanceof n);let Cg,Pg;function DE(){return Cg||(Cg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RE(){return Pg||(Pg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pb=new WeakMap,Xd=new WeakMap,_b=new WeakMap,pu=new WeakMap,Af=new WeakMap;function IE(e){const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{n(ss(e.result)),r()},a=()=>{s(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&Pb.set(n,e)}).catch(()=>{}),Af.set(t,e),t}function LE(e){if(Xd.has(e))return;const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{n(),r()},a=()=>{s(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Xd.set(e,t)}let Qd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Xd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||_b.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function OE(e){Qd=e(Qd)}function FE(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(mu(this),t,...n);return _b.set(s,t.sort?t.sort():[t]),ss(s)}:RE().includes(e)?function(...t){return e.apply(mu(this),t),ss(Pb.get(this))}:function(...t){return ss(e.apply(mu(this),t))}}function zE(e){return typeof e=="function"?FE(e):(e instanceof IDBTransaction&&LE(e),ME(e,DE())?new Proxy(e,Qd):e)}function ss(e){if(e instanceof IDBRequest)return IE(e);if(pu.has(e))return pu.get(e);const t=zE(e);return t!==e&&(pu.set(e,t),Af.set(t,e)),t}const mu=e=>Af.get(e);function BE(e,t,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const a=indexedDB.open(e,t),o=ss(a);return s&&a.addEventListener("upgradeneeded",l=>{s(ss(a.result),l.oldVersion,l.newVersion,ss(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const VE=["get","getKey","getAll","getAllKeys","count"],$E=["put","add","delete","clear"],gu=new Map;function _g(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gu.get(t))return gu.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=$E.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||VE.includes(n)))return;const i=async function(a,...o){const l=this.transaction(a,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),r&&l.done]))[0]};return gu.set(t,i),i}OE(e=>({...e,get:(t,n,s)=>_g(t,n)||e.get(t,n,s),has:(t,n)=>!!_g(t,n)||e.has(t,n)}));const WE="EasySplitDB",UE=1,ct={GROUPS:"groups",EXPENSES:"expenses",PARTICIPANTS:"participants",SETTLEMENTS:"settlements",SETTINGS:"settings"};let Nr=null;const Eb=async()=>{if(Nr)return Nr;try{return Nr=await BE(WE,UE,{upgrade(e){if(!e.objectStoreNames.contains(ct.GROUPS)){const t=e.createObjectStore(ct.GROUPS,{keyPath:"id"});t.createIndex("createdAt","createdAt"),t.createIndex("updatedAt","updatedAt")}if(!e.objectStoreNames.contains(ct.EXPENSES)){const t=e.createObjectStore(ct.EXPENSES,{keyPath:"id"});t.createIndex("groupId","groupId"),t.createIndex("date","date"),t.createIndex("createdAt","createdAt")}if(!e.objectStoreNames.contains(ct.PARTICIPANTS)){const t=e.createObjectStore(ct.PARTICIPANTS,{keyPath:"id"});t.createIndex("groupId","groupId"),t.createIndex("name","name")}if(!e.objectStoreNames.contains(ct.SETTLEMENTS)){const t=e.createObjectStore(ct.SETTLEMENTS,{keyPath:"id"});t.createIndex("groupId","groupId"),t.createIndex("settledAt","settledAt")}e.objectStoreNames.contains(ct.SETTINGS)||e.createObjectStore(ct.SETTINGS,{keyPath:"key"})}}),Nr}catch(e){throw console.error("Failed to initialize IndexedDB:",e),e}};class yc{constructor(t){this.storeName=t}async getDB(){return Nr||await Eb(),Nr}async getAll(){return await(await this.getDB()).getAll(this.storeName)}async getById(t){return await(await this.getDB()).get(this.storeName,t)}async getByIndex(t,n){return await(await this.getDB()).getAllFromIndex(this.storeName,t,n)}async add(t){return await(await this.getDB()).add(this.storeName,t)}async put(t){return await(await this.getDB()).put(this.storeName,t)}async delete(t){return await(await this.getDB()).delete(this.storeName,t)}async clear(){return await(await this.getDB()).clear(this.storeName)}async count(){return await(await this.getDB()).count(this.storeName)}}const di=new yc(ct.GROUPS),sr=new yc(ct.EXPENSES),rr=new yc(ct.PARTICIPANTS),ao=new yc(ct.SETTLEMENTS),HE=(e,t)=>{const n={};return Array.isArray(e)?Array.isArray(t)?(t.forEach(s=>{s&&s.id&&(n[s.id]=0)}),e.forEach(s=>{const{amount:r,paidBy:i,splitBetween:a,splitType:o,splits:l}=s,c=Array.isArray(i)?i:[i];if(c.forEach(d=>{const h=r/c.length;n[d]=(n[d]||0)+h}),l&&Array.isArray(l))l.forEach(d=>{n[d.participantId]=(n[d.participantId]||0)-d.amount});else if(a&&Array.isArray(a))if(o==="equal"){const d=r/a.length;a.forEach(h=>{n[h]=(n[h]||0)-d})}else{const d=r/a.length;a.forEach(h=>{n[h]=(n[h]||0)-d})}}),n):(console.warn("calculateBalances: participants is not an array",t),n):(console.warn("calculateBalances: expenses is not an array",e),n)},GE=(e,t)=>{var l;if(!Array.isArray(e))return console.warn("calculateDebts: expenses is not an array",e),[];if(!Array.isArray(t))return console.warn("calculateDebts: participants is not an array",t),[];const n=HE(e,t),s=[],r=[],i=[];Object.entries(n).forEach(([c,d])=>{d>.01?r.push({participantId:c,amount:d}):d<-.01&&i.push({participantId:c,amount:Math.abs(d)})});let a=0,o=0;for(;a<r.length&&o<i.length;){const c=r[a],d=i[o],h=Math.min(c.amount,d.amount);h>.01&&s.push({fromId:d.participantId,toId:c.participantId,amount:Math.round(h*100)/100,currency:((l=e[0])==null?void 0:l.currency)||"PKR"}),c.amount-=h,d.amount-=h,c.amount<.01&&a++,d.amount<.01&&o++}return s},KE=(e,t,n,s={})=>{const r=[];switch(n){case"equal":const i=e/t.length;t.forEach(a=>{r.push({participantId:a.id,amount:Math.round(i*100)/100,type:"equal"})});break;case"fixed":t.forEach(a=>{var l;const o=((l=s.amounts)==null?void 0:l[a.id])||0;r.push({participantId:a.id,amount:Math.round(o*100)/100,type:"fixed"})});break;case"percentage":t.forEach(a=>{var c;const o=((c=s.percentages)==null?void 0:c[a.id])||0,l=e*o/100;r.push({participantId:a.id,amount:Math.round(l*100)/100,percentage:o,type:"percentage"})});break;default:throw new Error(`Unknown split type: ${n}`)}return r},YE=(e,t,n)=>{const s={isValid:!0,errors:[],totalSplitAmount:0};if(!e||e.length===0)return s.isValid=!1,s.errors.push("At least one participant must be included in the split"),s;if(s.totalSplitAmount=e.reduce((a,o)=>a+o.amount,0),Math.abs(s.totalSplitAmount-t)>.01&&(s.isValid=!1,s.errors.push(`Split amounts (${s.totalSplitAmount}) don't match expense total (${t})`)),n==="percentage"){const a=e.reduce((o,l)=>o+(l.percentage||0),0);Math.abs(a-100)>.01&&(s.isValid=!1,s.errors.push(`Percentages must add up to 100% (currently ${a}%)`))}return e.filter(a=>a.amount<0).length>0&&(s.isValid=!1,s.errors.push("Split amounts cannot be negative")),s},qE=(e="PKR")=>({PKR:"",INR:"",BDT:"",LKR:"Rs",NPR:"Rs",AFN:"",USD:"$",EUR:"",GBP:"",JPY:"",CNY:"",KRW:"",AUD:"A$",CAD:"C$",CHF:"Fr"})[e]||e,re=(e,t="PKR",n="en-PK")=>{try{const s={PKR:"",INR:"",BDT:"",LKR:"Rs",NPR:"Rs",AFN:""};return s[t]?`${s[t]}${e.toLocaleString(n,{minimumFractionDigits:2,maximumFractionDigits:2})}`:new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}catch(s){return console.warn("Currency formatting failed, using fallback:",s),`${{PKR:"",INR:"",BDT:"",LKR:"Rs",NPR:"Rs",AFN:""}[t]||t} ${e.toFixed(2)}`}},XE=(e,t)=>{const n={totalExpenses:e.length,totalAmount:0,averageExpense:0,categoryBreakdown:{},participantContributions:{},monthlyTrends:{}};return e.length===0||(n.totalAmount=e.reduce((s,r)=>s+r.amount,0),n.averageExpense=n.totalAmount/e.length,e.forEach(s=>{const r=s.category||"Other";n.categoryBreakdown[r]=(n.categoryBreakdown[r]||0)+s.amount}),t.forEach(s=>{n.participantContributions[s.id]={name:s.name,totalPaid:0,expenseCount:0}}),e.forEach(s=>{s.paidBy.forEach(r=>{if(n.participantContributions[r]){const i=s.amount/s.paidBy.length;n.participantContributions[r].totalPaid+=i,n.participantContributions[r].expenseCount+=1}})}),e.forEach(s=>{const r=new Date(s.date),i=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`;n.monthlyTrends[i]=(n.monthlyTrends[i]||0)+s.amount})),n},QE=()=>{const e=new Date;new Date(e.getTime()-7*24*60*60*1e3);const t=new Date(e.getTime()-30*24*60*60*1e3),n=[{id:"family-group-001",name:"Family",description:"Family expenses and shared costs",currency:"PKR",createdAt:t.toISOString(),updatedAt:e.toISOString(),color:"#10b981",icon:""},{id:"friends-group-001",name:"Friends",description:"Hangouts, trips, and shared activities",currency:"PKR",createdAt:t.toISOString(),updatedAt:e.toISOString(),color:"#3b82f6",icon:""},{id:"work-group-001",name:"Work Colleagues",description:"Office lunches, team events, and work-related expenses",currency:"PKR",createdAt:t.toISOString(),updatedAt:e.toISOString(),color:"#8b5cf6",icon:""}],s=[{id:"participant-001",groupId:"family-group-001",name:"Ahmed Khan",email:"ahmed.khan@email.com",phone:"+92 300 1234567",hasWhatsApp:!0,createdAt:t.toISOString()},{id:"participant-002",groupId:"family-group-001",name:"Fatima Khan",email:"fatima.khan@email.com",phone:"+92 301 2345678",hasWhatsApp:!0,createdAt:t.toISOString()},{id:"participant-003",groupId:"family-group-001",name:"Ali Khan",email:"ali.khan@email.com",phone:"+92 302 3456789",hasWhatsApp:!0,createdAt:t.toISOString()},{id:"participant-004",groupId:"friends-group-001",name:"Sara Ahmed",email:"sara.ahmed@email.com",phone:"+92 303 4567890",hasWhatsApp:!0,createdAt:t.toISOString()},{id:"participant-005",groupId:"friends-group-001",name:"Hassan Ali",email:"hassan.ali@email.com",phone:"+92 304 5678901",hasWhatsApp:!0,createdAt:t.toISOString()},{id:"participant-006",groupId:"friends-group-001",name:"Zara Sheikh",email:"zara.sheikh@email.com",phone:"+92 305 6789012",hasWhatsApp:!0,createdAt:t.toISOString()},{id:"participant-007",groupId:"friends-group-001",name:"Omar Malik",email:"omar.malik@email.com",phone:"+92 306 7890123",hasWhatsApp:!0,createdAt:t.toISOString()},{id:"participant-008",groupId:"work-group-001",name:"Ayesha Siddiqui",email:"ayesha.siddiqui@company.com",phone:"+92 307 8901234",hasWhatsApp:!0,createdAt:t.toISOString()},{id:"participant-009",groupId:"work-group-001",name:"Usman Tariq",email:"usman.tariq@company.com",phone:"+92 308 9012345",hasWhatsApp:!0,createdAt:t.toISOString()},{id:"participant-010",groupId:"work-group-001",name:"Nadia Iqbal",email:"nadia.iqbal@company.com",phone:"+92 309 0123456",hasWhatsApp:!0,createdAt:t.toISOString()}],r=[{id:"expense-001",groupId:"family-group-001",description:"Grocery Shopping",amount:8500,currency:"PKR",category:"Food & Dining",paidBy:["participant-001"],splitBetween:["participant-001","participant-002","participant-003"],splitType:"equal",date:new Date(e.getTime()-2*24*60*60*1e3).toISOString(),createdAt:new Date(e.getTime()-2*24*60*60*1e3).toISOString()},{id:"expense-002",groupId:"family-group-001",description:"Electricity Bill",amount:12e3,currency:"PKR",category:"Utilities",paidBy:["participant-002"],splitBetween:["participant-001","participant-002","participant-003"],splitType:"equal",date:new Date(e.getTime()-5*24*60*60*1e3).toISOString(),createdAt:new Date(e.getTime()-5*24*60*60*1e3).toISOString()},{id:"expense-003",groupId:"family-group-001",description:"Internet Bill",amount:3500,currency:"PKR",category:"Utilities",paidBy:["participant-003"],splitBetween:["participant-001","participant-002","participant-003"],splitType:"equal",date:new Date(e.getTime()-1*24*60*60*1e3).toISOString(),createdAt:new Date(e.getTime()-1*24*60*60*1e3).toISOString()},{id:"expense-009",groupId:"family-group-001",description:"Gas Bill",amount:4200,currency:"PKR",category:"Utilities",paidBy:["participant-001"],splitBetween:["participant-001","participant-002","participant-003"],splitType:"equal",date:new Date(e.getTime()-3*24*60*60*1e3).toISOString(),createdAt:new Date(e.getTime()-3*24*60*60*1e3).toISOString()},{id:"expense-010",groupId:"family-group-001",description:"Family Dinner",amount:5500,currency:"PKR",category:"Food & Dining",paidBy:["participant-002"],splitBetween:["participant-001","participant-002","participant-003"],splitType:"equal",date:new Date(e.getTime()-4*24*60*60*1e3).toISOString(),createdAt:new Date(e.getTime()-4*24*60*60*1e3).toISOString()},{id:"expense-004",groupId:"friends-group-001",description:"Pizza Night",amount:4500,currency:"PKR",category:"Food & Dining",paidBy:["participant-004"],splitBetween:["participant-004","participant-005","participant-006","participant-007"],splitType:"equal",date:new Date(e.getTime()-3*24*60*60*1e3).toISOString(),createdAt:new Date(e.getTime()-3*24*60*60*1e3).toISOString()},{id:"expense-005",groupId:"friends-group-001",description:"Movie Tickets",amount:2800,currency:"PKR",category:"Entertainment",paidBy:["participant-005"],splitBetween:["participant-004","participant-005","participant-006","participant-007"],splitType:"equal",date:new Date(e.getTime()-6*24*60*60*1e3).toISOString(),createdAt:new Date(e.getTime()-6*24*60*60*1e3).toISOString()},{id:"expense-006",groupId:"friends-group-001",description:"Uber Ride",amount:1200,currency:"PKR",category:"Transportation",paidBy:["participant-006"],splitBetween:["participant-004","participant-005","participant-006","participant-007"],splitType:"equal",date:new Date(e.getTime()-6*24*60*60*1e3).toISOString(),createdAt:new Date(e.getTime()-6*24*60*60*1e3).toISOString()},{id:"expense-011",groupId:"friends-group-001",description:"Coffee Shop",amount:1800,currency:"PKR",category:"Food & Dining",paidBy:["participant-007"],splitBetween:["participant-004","participant-005","participant-006","participant-007"],splitType:"equal",date:new Date(e.getTime()-1*24*60*60*1e3).toISOString(),createdAt:new Date(e.getTime()-1*24*60*60*1e3).toISOString()},{id:"expense-012",groupId:"friends-group-001",description:"Gaming Zone",amount:3200,currency:"PKR",category:"Entertainment",paidBy:["participant-004"],splitBetween:["participant-004","participant-005","participant-006"],splitType:"equal",date:new Date(e.getTime()-8*24*60*60*1e3).toISOString(),createdAt:new Date(e.getTime()-8*24*60*60*1e3).toISOString()},{id:"expense-007",groupId:"work-group-001",description:"Team Lunch",amount:6e3,currency:"PKR",category:"Food & Dining",paidBy:["participant-008"],splitBetween:["participant-008","participant-009","participant-010"],splitType:"equal",date:new Date(e.getTime()-4*24*60*60*1e3).toISOString(),createdAt:new Date(e.getTime()-4*24*60*60*1e3).toISOString()},{id:"expense-008",groupId:"work-group-001",description:"Office Supplies",amount:2500,currency:"PKR",category:"Other",paidBy:["participant-009"],splitBetween:["participant-008","participant-009","participant-010"],splitType:"equal",date:new Date(e.getTime()-7*24*60*60*1e3).toISOString(),createdAt:new Date(e.getTime()-7*24*60*60*1e3).toISOString()},{id:"expense-013",groupId:"work-group-001",description:"Coffee for Meeting",amount:1500,currency:"PKR",category:"Food & Dining",paidBy:["participant-010"],splitBetween:["participant-008","participant-009","participant-010"],splitType:"equal",date:new Date(e.getTime()-2*24*60*60*1e3).toISOString(),createdAt:new Date(e.getTime()-2*24*60*60*1e3).toISOString()},{id:"expense-014",groupId:"work-group-001",description:"Team Building Event",amount:8e3,currency:"PKR",category:"Entertainment",paidBy:["participant-008"],splitBetween:["participant-008","participant-009","participant-010"],splitType:"equal",date:new Date(e.getTime()-10*24*60*60*1e3).toISOString(),createdAt:new Date(e.getTime()-10*24*60*60*1e3).toISOString()}];return{groups:n,participants:s,expenses:r,settlements:[]}},JE={};function ZE(e,t){let n;try{n=e()}catch{return}return{getItem:r=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),o=(i=n.getItem(r))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(r,i)=>n.setItem(r,JSON.stringify(i,void 0)),removeItem:r=>n.removeItem(r)}}const ga=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return ga(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return ga(s)(n)}}}},eA=(e,t)=>(n,s,r)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,v)=>({...v,...b}),...t},a=!1;const o=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...b)},s,r);const d=ga(i.serialize),h=()=>{const b=i.partialize({...s()});let v;const m=d({state:b,version:i.version}).then(x=>c.setItem(i.name,x)).catch(x=>{v=x});if(v)throw v;return m},f=r.setState;r.setState=(b,v)=>{f(b,v),h()};const p=e((...b)=>{n(...b),h()},s,r);let y;const g=()=>{var b;if(!c)return;a=!1,o.forEach(m=>m(s()));const v=((b=i.onRehydrateStorage)==null?void 0:b.call(i,s()))||void 0;return ga(c.getItem.bind(c))(i.name).then(m=>{if(m)return i.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==i.version){if(i.migrate)return i.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var x;return y=i.merge(m,(x=s())!=null?x:p),n(y,!0),h()}).then(()=>{v==null||v(y,void 0),a=!0,l.forEach(m=>m(y))}).catch(m=>{v==null||v(void 0,m)})};return r.persist={setOptions:b=>{i={...i,...b},b.getStorage&&(c=b.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>a,onHydrate:b=>(o.add(b),()=>{o.delete(b)}),onFinishHydration:b=>(l.add(b),()=>{l.delete(b)})},g(),y||p},tA=(e,t)=>(n,s,r)=>{let i={storage:ZE(()=>localStorage),partialize:g=>g,version:0,merge:(g,b)=>({...b,...g}),...t},a=!1;const o=new Set,l=new Set;let c=i.storage;if(!c)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...g)},s,r);const d=()=>{const g=i.partialize({...s()});return c.setItem(i.name,{state:g,version:i.version})},h=r.setState;r.setState=(g,b)=>{h(g,b),d()};const f=e((...g)=>{n(...g),d()},s,r);r.getInitialState=()=>f;let p;const y=()=>{var g,b;if(!c)return;a=!1,o.forEach(m=>{var x;return m((x=s())!=null?x:f)});const v=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(g=s())!=null?g:f))||void 0;return ga(c.getItem.bind(c))(i.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==i.version){if(i.migrate)return[!0,i.migrate(m.state,m.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var x;const[w,S]=m;if(p=i.merge(S,(x=s())!=null?x:f),n(p,!0),w)return d()}).then(()=>{v==null||v(p,void 0),p=s(),a=!0,l.forEach(m=>m(p))}).catch(m=>{v==null||v(void 0,m)})};return r.persist={setOptions:g=>{i={...i,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:g=>(o.add(g),()=>{o.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},i.skipHydration||y(),p||f},nA=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((JE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),eA(e,t)):tA(e,t),sA=nA,dt=Cb(sA((e,t)=>({notifications:[],unreadCount:0,isOpen:!1,addNotification:n=>{const s={id:Date.now()+Math.random(),timestamp:new Date,read:!1,type:"info",...n};e(r=>({notifications:[s,...r.notifications],unreadCount:r.unreadCount+1})),n.persistent||setTimeout(()=>{t().removeNotification(s.id)},3e4)},removeNotification:n=>{e(s=>{const r=s.notifications.find(a=>a.id===n),i=r&&!r.read;return{notifications:s.notifications.filter(a=>a.id!==n),unreadCount:i?Math.max(0,s.unreadCount-1):s.unreadCount}})},markAsRead:n=>{e(s=>{const r=s.notifications.find(i=>i.id===n);return!r||r.read?s:{notifications:s.notifications.map(i=>i.id===n?{...i,read:!0}:i),unreadCount:Math.max(0,s.unreadCount-1)}})},markAllAsRead:()=>{e(n=>({notifications:n.notifications.map(s=>({...s,read:!0})),unreadCount:0}))},clearAll:()=>{e({notifications:[],unreadCount:0})},togglePanel:()=>{e(n=>({isOpen:!n.isOpen}))},closePanel:()=>{e({isOpen:!1})},getUnreadNotifications:()=>t().notifications.filter(n=>!n.read),getRecentNotifications:(n=10)=>t().notifications.slice(0,n),notifyExpenseAdded:(n,s)=>{t().addNotification({type:"success",title:"Expense Added",message:`"${n.description}" added to ${s}`,icon:"",actionUrl:"/expenses"})},notifyDebtSettled:(n,s,r,i)=>{t().addNotification({type:"success",title:"Debt Settled",message:`${n} paid ${r} ${i} to ${s}`,icon:"",actionUrl:"/debts"})},notifyGroupCreated:n=>{t().addNotification({type:"success",title:"Group Created",message:`"${n}" group has been created`,icon:"",actionUrl:"/groups"})},notifyParticipantAdded:(n,s)=>{t().addNotification({type:"info",title:"Participant Added",message:`${n} joined ${s}`,icon:"",actionUrl:"/participants"})},notifyError:(n,s)=>{t().addNotification({type:"error",title:n,message:s,icon:"",persistent:!0})},notifyWarning:(n,s)=>{t().addNotification({type:"warning",title:n,message:s,icon:""})},notifyInfo:(n,s)=>{t().addNotification({type:"info",title:n,message:s,icon:""})}}),{name:"easysplit-notifications",partialize:e=>({notifications:e.notifications.slice(0,50),unreadCount:e.unreadCount})})),We=Cb((e,t)=>({isLoading:!1,error:null,currentGroupId:null,groups:[],participants:[],expenses:[],settlements:[],settings:{theme:"system",language:"en",defaultCurrency:"PKR",showOnboarding:!1,notifications:{debts:!0,settlements:!0,newExpenses:!0}},setLoading:n=>e({isLoading:n}),setError:n=>e({error:n}),clearError:()=>e({error:null}),initializeApp:async()=>{try{e({isLoading:!0}),await Eb();const[n,s,r,i]=await Promise.all([di.getAll(),sr.getAll(),rr.getAll(),ao.getAll()]);console.log(" Loaded from IndexedDB:",{groups:n.length,expenses:s.length,participants:r.length,settlements:i.length}),e({groups:n,expenses:s,participants:r,settlements:i,currentGroupId:t().currentGroupId||(n.length>0?n[0].id:null)}),n.length===0&&dt.getState().notifyInfo("Welcome to EasySplit!","Create your first group to start splitting expenses with friends.")}catch(n){console.error("Failed to initialize app:",n),e({error:"Failed to load data"})}finally{e({isLoading:!1})}},createGroup:async n=>{try{const s={id:crypto.randomUUID(),...n,participants:[],expenses:[],createdAt:new Date,updatedAt:new Date};console.log(" Saving group to IndexedDB:",s),await di.add(s),console.log(" Group saved successfully");const r=t();return e({groups:[...r.groups,s],currentGroupId:r.currentGroupId||s.id}),console.log(" Updated state - total groups:",r.groups.length+1),dt.getState().notifyGroupCreated(s.name),s}catch(s){throw console.error("Failed to create group:",s),e({error:"Failed to create group"}),s}},updateGroup:async(n,s)=>{try{const r=t().groups.find(l=>l.id===n);if(!r)throw new Error("Group not found");const i={...r,...s,updatedAt:new Date};await di.put(i);const o=t().groups.map(l=>l.id===n?i:l);return e({groups:o}),i}catch(r){throw console.error("Failed to update group:",r),e({error:"Failed to update group"}),r}},deleteGroup:async n=>{try{await Promise.all([di.delete(n),...t().expenses.filter(i=>i.groupId===n).map(i=>sr.delete(i.id)),...t().participants.filter(i=>i.groupId===n).map(i=>rr.delete(i.id)),...t().settlements.filter(i=>i.groupId===n).map(i=>ao.delete(i.id))]);const s=t(),r=s.groups.filter(i=>i.id!==n);e({groups:r,expenses:s.expenses.filter(i=>i.groupId!==n),participants:s.participants.filter(i=>i.groupId!==n),settlements:s.settlements.filter(i=>i.groupId!==n),currentGroupId:s.currentGroupId===n?r.length>0?r[0].id:null:s.currentGroupId})}catch(s){throw console.error("Failed to delete group:",s),e({error:"Failed to delete group"}),s}},setCurrentGroup:n=>e({currentGroupId:n}),addParticipant:async(n,s)=>{try{const r={id:crypto.randomUUID(),groupId:n,...s,createdAt:new Date};await rr.add(r);const i=t();e({participants:[...i.participants,r]});const a=i.groups.find(l=>l.id===n);return dt.getState().notifyParticipantAdded(r.name,(a==null?void 0:a.name)||"Unknown Group"),r}catch(r){throw console.error("Failed to add participant:",r),e({error:"Failed to add participant"}),r}},updateParticipant:async(n,s)=>{try{const r=t().participants.find(l=>l.id===n);if(!r)throw new Error("Participant not found");const i={...r,...s};await rr.put(i);const o=t().participants.map(l=>l.id===n?i:l);return e({participants:o}),i}catch(r){throw console.error("Failed to update participant:",r),e({error:"Failed to update participant"}),r}},deleteParticipant:async n=>{try{await rr.delete(n);const s=t();e({participants:s.participants.filter(r=>r.id!==n)})}catch(s){throw console.error("Failed to delete participant:",s),e({error:"Failed to delete participant"}),s}},addExpense:async n=>{try{const s={id:crypto.randomUUID(),...n,createdAt:new Date,updatedAt:new Date};await sr.add(s);const r=t();e({expenses:[...r.expenses,s]});const i=r.groups.find(o=>o.id===s.groupId);return dt.getState().notifyExpenseAdded(s,(i==null?void 0:i.name)||"Unknown Group"),s}catch(s){throw console.error("Failed to add expense:",s),e({error:"Failed to add expense"}),s}},updateExpense:async(n,s)=>{try{const r=t().expenses.find(l=>l.id===n);if(!r)throw new Error("Expense not found");const i={...r,...s,updatedAt:new Date};await sr.put(i);const o=t().expenses.map(l=>l.id===n?i:l);return e({expenses:o}),i}catch(r){throw console.error("Failed to update expense:",r),e({error:"Failed to update expense"}),r}},deleteExpense:async n=>{try{await sr.delete(n);const s=t();e({expenses:s.expenses.filter(r=>r.id!==n)})}catch(s){throw console.error("Failed to delete expense:",s),e({error:"Failed to delete expense"}),s}},addSettlement:async n=>{try{const s={id:crypto.randomUUID(),...n,settledAt:new Date};await ao.add(s);const r=t();e({settlements:[...r.settlements,s]});const i=r.participants.find(l=>l.id===s.fromId),a=r.participants.find(l=>l.id===s.toId);return dt.getState().notifyDebtSettled((i==null?void 0:i.name)||"Unknown",(a==null?void 0:a.name)||"Unknown",s.amount,s.currency),s}catch(s){throw console.error("Failed to add settlement:",s),e({error:"Failed to add settlement"}),s}},updateSettings:n=>{const s=t(),r={...s.settings,...n};if(n.defaultCurrency&&s.currentGroupId){const i=s.groups.map(a=>a.id===s.currentGroupId?{...a,currency:n.defaultCurrency}:a);e({settings:r,groups:i})}else e({settings:r})},getCurrentGroup:()=>{const{groups:n,currentGroupId:s}=t();return n.find(r=>r.id===s)||null},getGroupParticipants:n=>{const{participants:s}=t();return s.filter(r=>r.groupId===n)},getGroupExpenses:n=>{const{expenses:s}=t();return s.filter(r=>r.groupId===n).sort((r,i)=>new Date(i.date)-new Date(r.date))},getGroupDebts:n=>{if(!n)return console.warn("getGroupDebts: groupId is required"),[];const s=t().getGroupExpenses(n)||[],r=t().getGroupParticipants(n)||[];return console.log("getGroupDebts:",{groupId:n,expenses:s.length,participants:r.length}),GE(s,r)},forceLoadSeedData:()=>{console.log(" Force loading seed data...");const n=QE();e({groups:n.groups,participants:n.participants,expenses:n.expenses,settlements:n.settlements,currentGroupId:n.groups[0].id}),console.log(" Seed data loaded successfully!"),console.log(` Loaded: ${n.groups.length} groups, ${n.participants.length} participants, ${n.expenses.length} expenses`)},clearAllData:async()=>{try{e({isLoading:!0}),await Promise.all([di.clear(),sr.clear(),rr.clear(),ao.clear(),settingsStore.clear()]),e({groups:[],participants:[],expenses:[],settlements:[],currentGroupId:null,settings:{theme:"system",language:"en",defaultCurrency:"PKR",showOnboarding:!1,notifications:{debts:!0,settlements:!0,newExpenses:!0}}}),console.log(" All data cleared successfully"),dt.getState().notifySuccess("Data Cleared","All data has been successfully cleared from the app.")}catch(n){throw console.error("Failed to clear data:",n),e({error:"Failed to clear data"}),n}finally{e({isLoading:!1})}}}));/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(e,t)=>{const n=N.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>N.createElement("svg",{ref:d,...rA,width:r,height:r,stroke:s,strokeWidth:a?Number(i)*24/Number(r):i,className:["lucide",`lucide-${iA(e)}`,o].join(" "),...c},[...t.map(([h,f])=>N.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=K("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=K("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=K("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=K("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=K("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=K("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=K("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=K("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=K("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=K("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=K("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=K("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=K("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=K("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=K("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=K("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=K("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=K("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=K("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=K("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=K("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=K("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=K("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=K("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=K("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=K("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=K("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=K("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=K("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=K("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=K("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=K("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=K("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=K("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=K("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=K("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=K("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=K("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=K("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=K("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=K("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=K("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=K("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=K("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=K("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=K("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=K("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=K("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=K("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=K("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),zb=N.createContext(),Bb=()=>{const e=N.useContext(zb);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Eg=({children:e})=>{const{settings:t,updateSettings:n}=We(),{theme:s}=t;N.useEffect(()=>{const l=document.documentElement,c=d=>{d?l.classList.add("dark"):l.classList.remove("dark")};switch(s){case"dark":c(!0);break;case"light":c(!1);break;case"system":default:const d=window.matchMedia("(prefers-color-scheme: dark)");c(d.matches);const h=f=>c(f.matches);return d.addEventListener("change",h),()=>d.removeEventListener("change",h)}},[s]);const r=()=>{const l=["light","dark","system"],d=(l.indexOf(s)+1)%l.length;n({theme:l[d]})},i=l=>{n({theme:l})},a=()=>s==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches:s==="dark",o={theme:s,setTheme:i,toggleTheme:r,isDark:a()};return u.jsx(zb.Provider,{value:o,children:u.jsx(R.div,{initial:!1,animate:{backgroundColor:a()?"#111827":"#f9fafb"},transition:{duration:.2},className:"min-h-screen",children:e})})};function Vb(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=Vb(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function jn(){for(var e,t,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=Vb(e))&&(s&&(s+=" "),s+=t);return s}const $b=({size:e="md",color:t="primary",className:n="",text:s=null})=>{const r={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"},i={primary:"text-primary-600",secondary:"text-gray-600",success:"text-success-600",warning:"text-warning-600",danger:"text-danger-600",white:"text-white"};return u.jsxs("div",{className:jn("flex flex-col items-center justify-center",n),children:[u.jsx(R.div,{className:jn("border-2 border-current border-t-transparent rounded-full",r[e],i[t]),animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),s&&u.jsx(R.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:jn("mt-2 text-sm font-medium",i[t]),children:s})]})},z=({children:e,variant:t="primary",size:n="md",disabled:s=!1,loading:r=!1,icon:i=null,iconPosition:a="left",fullWidth:o=!1,className:l="",onClick:c,type:d="button",...h})=>{const f="btn inline-flex items-center justify-center font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed relative",p={primary:"btn-primary",secondary:"btn-secondary",success:"btn-success",danger:"btn-danger",ghost:"bg-transparent hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 focus:ring-gray-500 hover:scale-105 active:scale-95",outline:"border-2 border-gray-300 dark:border-gray-600 bg-transparent hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-gray-500"},y={sm:"px-3 py-1.5 text-sm rounded-md",md:"px-4 py-2 text-sm rounded-lg",lg:"px-6 py-3 text-base rounded-lg",xl:"px-8 py-4 text-lg rounded-xl"},g=s||r,b=u.jsxs(u.Fragment,{children:[r&&u.jsx($b,{size:"sm",color:t==="primary"?"white":"primary",className:"mr-2"}),!r&&i&&a==="left"&&u.jsx("span",{className:"mr-2",children:i}),e,!r&&i&&a==="right"&&u.jsx("span",{className:"ml-2",children:i})]});return u.jsx(R.button,{type:d,disabled:g,onClick:c,className:jn(f,p[t],y[n],o&&"w-full",l),whileHover:g?{}:{scale:1.02},whileTap:g?{}:{scale:.98},transition:{duration:.1},...h,children:b})},EA=()=>{const e=ps(),{notifications:t,unreadCount:n,isOpen:s,closePanel:r,markAsRead:i,markAllAsRead:a,removeNotification:o,clearAll:l,getRecentNotifications:c}=dt(),d=c(20),h=g=>{g.read||i(g.id),g.actionUrl&&(e(g.actionUrl),r())},f=g=>{if(g.icon)return g.icon;switch(g.type){case"success":return"";case"error":return"";case"warning":return"";case"info":return"";default:return""}},p=g=>{switch(g){case"success":return"border-l-green-500 bg-green-50 dark:bg-green-900/20";case"error":return"border-l-red-500 bg-red-50 dark:bg-red-900/20";case"warning":return"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-900/20";case"info":return"border-l-blue-500 bg-blue-50 dark:bg-blue-900/20";default:return"border-l-gray-500 bg-gray-50 dark:bg-gray-800"}},y=g=>{const b=new Date,v=new Date(g),m=Math.floor((b-v)/(1e3*60));return m<1?"Just now":m<60?`${m}m ago`:m<1440?`${Math.floor(m/60)}h ago`:v.toLocaleDateString()};return s?u.jsx(Be,{children:u.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 lg:relative lg:inset-auto",children:[u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 lg:hidden",onClick:r}),u.jsxs(R.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3},className:"absolute right-0 top-0 h-full w-full max-w-sm bg-white dark:bg-gray-800 shadow-xl lg:relative lg:w-80 lg:h-auto lg:max-h-96 lg:rounded-lg lg:border lg:border-gray-200 lg:dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Notifications"}),n>0&&u.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-primary-600 rounded-full",children:n})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[n>0&&u.jsx(z,{variant:"ghost",size:"sm",onClick:a,icon:u.jsx(Pl,{className:"w-4 h-4"}),className:"p-1",title:"Mark all as read"}),t.length>0&&u.jsx(z,{variant:"ghost",size:"sm",onClick:l,icon:u.jsx(Ks,{className:"w-4 h-4"}),className:"p-1 text-danger-600 hover:text-danger-700",title:"Clear all"}),u.jsx(z,{variant:"ghost",size:"sm",onClick:r,icon:u.jsx(Fe,{className:"w-4 h-4"}),className:"p-1",title:"Close"})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto max-h-80",children:d.length>0?u.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:u.jsx(Be,{children:d.map(g=>u.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:100},className:`p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors border-l-4 ${p(g.type)} ${g.read?"bg-opacity-50":"bg-opacity-100"}`,onClick:()=>h(g),children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("span",{className:"text-lg flex-shrink-0",children:f(g)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:`text-sm font-medium ${g.read?"text-gray-600 dark:text-gray-400":"text-gray-900 dark:text-gray-100"}`,children:g.title}),u.jsxs("div",{className:"flex items-center space-x-1",children:[g.actionUrl&&u.jsx(uA,{className:"w-3 h-3 text-gray-400"}),u.jsx("button",{onClick:b=>{b.stopPropagation(),o(g.id)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:u.jsx(Fe,{className:"w-3 h-3"})})]})]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:g.message}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:y(g.timestamp)})]}),!g.read&&u.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full flex-shrink-0 mt-2"})]})},g.id))})}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4",children:u.jsx("span",{className:"text-2xl",children:""})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No notifications"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"You're all caught up! New notifications will appear here."})]})})]})]})}):null},xt=({isOpen:e,onClose:t,title:n,children:s,size:r="md",showCloseButton:i=!0,closeOnOverlayClick:a=!0,className:o=""})=>{const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl",full:"max-w-full mx-4"};N.useEffect(()=>{const h=f=>{f.key==="Escape"&&e&&t()};return e&&(document.addEventListener("keydown",h),document.body.style.overflow="hidden",document.body.classList.add("modal-open")),()=>{document.removeEventListener("keydown",h),document.body.style.overflow="unset",document.body.classList.remove("modal-open")}},[e,t]);const c=h=>{a&&h.target===h.currentTarget&&t()},d=u.jsx(Be,{children:e&&u.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"modal-overlay",onClick:c,children:u.jsxs(R.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.2},className:jn("modal-content",l[r],o),onClick:h=>h.stopPropagation(),children:[(n||i)&&u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[n&&u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:n}),i&&u.jsx("button",{onClick:t,className:"p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Close modal",children:u.jsx(Fe,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),u.jsx("div",{className:"flex flex-col flex-1 min-h-0",children:u.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:s})})]})})});return Lv.createPortal(d,document.body)},Wb=({isOpen:e,onClose:t})=>{const[n,s]=N.useState("whats-new"),[r,i]=N.useState({}),a=c=>{i(d=>({...d,[c]:!d[c]}))},o={"whats-new":{title:" What's New!",icon:u.jsx(Hs,{className:"w-5 h-5 text-green-500"}),steps:[{id:"latest-features",title:" Latest Features & Improvements",description:"Discover the newest enhancements",content:[" MAJOR UPDATES:",""," Smart WhatsApp Integration:"," Auto-detects your device (Android/iOS/Desktop)"," Opens native WhatsApp app when available"," Automatic fallback to WhatsApp Web"," Clear instructions for every platform",""," Enhanced Contact Import:"," Import from phone contacts (bulk)"," Browse WhatsApp contacts directly"," Manual contact addition with validation"," Persistent contact storage",""," Improved Messaging:"," Better user guidance when sending messages"," Clear instructions after WhatsApp opens"," Professional message pre-filling",""," Try these features in Participants and Debts sections!"]}]},"getting-started":{title:"Getting Started",icon:u.jsx(wA,{className:"w-5 h-5"}),steps:[{id:"first-launch",title:"Welcome to EasySplit!",description:"Your first steps in the app",content:[" Welcome! EasySplit automatically loads with sample data",""," What you get immediately:"," 3 sample groups: Family, Friends, Work Colleagues"," Pre-loaded participants and expenses"," Real debt calculations and analytics",""," Navigation:"," Desktop: Use sidebar on the left"," Mobile: Use bottom navigation bar"," Switch groups using the dropdown in sidebar",""," Tip: Explore sample data first, then create your own!"]},{id:"create-group",title:"Create Your First Group",description:"Set up a new expense group",content:['1. Click "Groups" in the navigation','2. Click the "+" (Add Group) button','3. Enter group name (e.g., "Weekend Trip")',"4. Add description (optional)","5. Select currency from dropdown:","    PKR () - Pakistani Rupee","    USD ($) - US Dollar","    EUR () - Euro","    GBP () - British Pound","    INR () - Indian Rupee",'6. Click "Create Group"',"7. Your new group becomes active automatically"]},{id:"add-participants",title:"Add Participants",description:"Invite people to your group with smart contact import",content:['1. Go to "Participants" page',"2. Make sure correct group is selected (check sidebar)",' 3. Click "Import Contacts" for multiple import options:','    "From Contacts" - Import from your phone contacts','    "From WhatsApp" - Opens WhatsApp app/web to browse contacts','    "Add New" - Add contacts manually','4. Or click "Add Participant" to add manually',"5. Fill in details:","    Name (required)","    Phone (+92 300 1234567 format)","    Email (optional)",'6. Enable "Has WhatsApp" for debt reminders','7. Click "Add Participant"']}]},expenses:{title:"Managing Expenses",icon:u.jsx(Nt,{className:"w-5 h-5"}),steps:[{id:"add-expense",title:"Add New Expense",description:"Record shared expenses with flexible splitting",content:['1. Go to "Expenses" page','2. Click "Add Expense" button',"3. Fill in expense details:",'    Description (e.g., "Dinner at restaurant")',"    Amount (in group currency)","    Date (defaults to today)","4. Select who paid for it (can be multiple people)","5. Choose category from dropdown","6. Select participants to split between","7. Choose split type and configure:","    Equal: Automatic equal division","    Fixed: Set specific amounts per person","    Percentage: Assign percentage shares","8. Review split preview",'9. Click "Add Expense"']},{id:"split-types",title:"Understanding Split Types",description:"Flexible ways to divide expenses",content:[" Equal Split:"," Divides amount equally among selected participants"," Example: 1000  4 people = 250 each",""," Fixed Amount Split:"," Set specific amounts for each person"," Great for unequal consumption"," Example: Alice 400, Bob 300, Carol 300",""," Percentage Split:"," Assign percentage shares (must total 100%)"," Example: Alice 50%, Bob 25%, Carol 25%","",' Quick tip: Use "Distribute Equally" button to reset splits']},{id:"categories",title:"Expense Categories",description:"Organize expenses for better tracking",content:[" Food & Dining: Restaurants, takeout, groceries"," Transportation: Uber, gas, parking, flights"," Shopping: Clothes, electronics, gifts"," Entertainment: Movies, games, concerts"," Bills & Utilities: Electricity, internet, phone"," Travel: Hotels, flights, accommodation"," Healthcare: Medical, pharmacy, fitness"," Education: Books, courses, supplies"," Groceries: Food shopping, household items"," Other: Miscellaneous expenses",""," Categories help with analytics and spending insights!"]},{id:"multiple-payers",title:"Multiple Payers Support",description:"Handle complex payment scenarios",content:[" Multiple people can pay for one expense:",""," How it works:",'1. Select multiple people in "Who paid?" section',"2. System automatically splits payment equally among payers","3. Then splits expense among selected participants",""," Example scenario:"," 1000 dinner expense"," Alice and Bob both paid (500 each)"," Split among Alice, Bob, Carol, David (250 each)"," Result: Alice owes 0, Bob owes 0, Carol owes 250, David owes 250",""," Perfect for shared payments and complex scenarios!"]}]},debts:{title:"Debt Management",icon:u.jsx(Gs,{className:"w-5 h-5"}),steps:[{id:"understanding-debts",title:"Understanding Debt Optimization",description:"Smart debt calculation and minimization",content:[" How EasySplit calculates debts:","1. Analyzes all expenses in the current group","2. Calculates who paid vs. who owes","3. Uses smart optimization to minimize transactions",""," Example optimization:"," Without optimization: AB 100, BC 100, CA 100"," With optimization: No transactions needed!",""," Visual indicators:","  Green cards: Money you are owed","  Red cards: Money you owe others","  Amounts update automatically with new expenses"]},{id:"whatsapp-reminders",title:" Enhanced WhatsApp Reminders",description:"Smart messaging with device detection",content:[" Quick Remind (Instant):",'1. Click "Quick Remind" on any debt card',"2. WhatsApp opens with pre-filled professional message","3. Clear instructions guide you to send","4. Message includes debt amount and group details",""," Schedule Reminder (Later):",'1. Click "Schedule" on debt card',"2. Set date and time for reminder","3. Customize message or use default","4. Reminder sends automatically at scheduled time",""," Smart Features:"," Auto-detects Android/iOS/Desktop"," Opens native WhatsApp app when available"," Falls back to WhatsApp Web automatically"," Professional message templates included"]},{id:"settle-debts",title:"Settlement Management",description:"Record and track payments",content:[" Recording Settlements:",'1. When someone pays you, click "Settle Up"',"2. Confirm the settlement amount","3. Add payment method notes:",'    "Paid via bank transfer"','    "Cash payment"','    "Mobile payment (JazzCash/EasyPaisa)"','4. Click "Record Settlement"',""," Settlement Tracking:"," Debt automatically updates or disappears"," Settlement history is preserved"," Both parties can see settlement records"," Analytics include settlement data",""," Partial settlements supported for large amounts!"]},{id:"debt-features",title:"Advanced Debt Features",description:"Additional debt management tools",content:[" Automatic Updates:"," Debts recalculate when expenses are added/edited"," Real-time optimization minimizes transactions"," Group switching updates debt view instantly",""," Contact Integration:"," Import contacts for easy WhatsApp access"," Phone numbers enable direct messaging"," Contact photos and names from your phone",""," Smart Notifications:"," Get notified when someone owes you money"," Reminders for your own pending payments"," Settlement confirmations and updates",""," Pro Tips:",' Use "Quick Remind" for gentle nudges'," Schedule reminders for appropriate times"," Add context in settlement notes for clarity"]}]},analytics:{title:"Analytics & Reports",icon:u.jsx(Mr,{className:"w-5 h-5"}),steps:[{id:"dashboard-overview",title:"Dashboard Overview",description:"Quick insights at a glance",content:[" Dashboard provides instant overview:",""," Key Metrics:"," Total group expenses"," Your total spending"," Money you owe"," Money owed to you",""," Quick Charts:"," Recent expenses timeline"," Category spending breakdown"," Participant contribution summary",""," Smart Insights:"," Spending trends and patterns"," Most expensive categories"," Group activity overview",""," All data updates in real-time as you add expenses!"]},{id:"detailed-analytics",title:"Detailed Analytics Page",description:"Comprehensive spending analysis",content:[" Go to Analytics page for detailed insights:",""," Category Breakdown (Pie Chart):"," Visual spending distribution by category"," Hover for exact amounts and percentages"," Identify your biggest spending areas",""," Participant Contributions (Bar Chart):"," Compare who paid how much"," See contribution balance across group"," Identify heavy spenders vs. light spenders",""," Monthly Trends (Line Chart):"," Track spending patterns over time"," Identify seasonal spending variations"," Monitor group expense growth",""," Debt Analysis:"," Visual debt relationships"," Outstanding balances overview"," Settlement history and patterns"]},{id:"insights-tips",title:"Using Analytics Effectively",description:"Get the most from your data",content:[" Pro Tips for Analytics:",""," Regular Review:"," Check analytics weekly to understand spending"," Compare monthly trends to identify patterns"," Use category breakdown to budget better",""," Group Insights:"," Monitor if expenses are fairly distributed"," Identify who contributes most to group expenses"," Track settlement patterns and frequency",""," Expense Optimization:"," Find categories where you overspend"," Identify seasonal spending spikes"," Plan future expenses based on trends",""," Mobile vs Desktop:"," Charts are fully responsive"," Touch/hover interactions for details"," Export charts as images (coming soon!)"]}]},settings:{title:"Settings & Customization",icon:u.jsx(Mr,{className:"w-5 h-5"}),steps:[{id:"app-settings",title:"App Preferences",description:"Customize your EasySplit experience",content:[" Access Settings from sidebar or header",""," Theme Options:"," Light Mode: Clean, bright interface"," Dark Mode: Easy on the eyes, battery-friendly"," System: Follows your device theme automatically",""," Language & Region:"," English (default)"," Urdu () - Full RTL support"," More languages coming soon!",""," Currency Settings:"," Default currency for new groups"," Supports PKR, USD, EUR, GBP, INR, JPY, CNY"," Custom symbols and formatting",""," Notification Preferences:"," Debt reminders"," Settlement notifications"," New expense alerts"]},{id:"data-management",title:"Data Management",description:"Backup, import, and manage your data",content:[" Data Backup & Restore:",""," Export Data:"," Downloads complete JSON backup"," Includes all groups, participants, expenses, settlements"," File named with current date for easy organization"," Safe to store in cloud or share between devices",""," Import Data:"," Restore from previous backup"," Merge data from other devices"," Validates file format before import"," Shows import summary with counts",""," Clear All Data:"," Complete app reset option"," Requires confirmation to prevent accidents"," Cannot be undone - backup first!",""," Sample Data:"," Load demo groups and expenses"," Perfect for testing and learning"," Includes realistic Pakistani expense scenarios"]},{id:"pwa-features",title:"Progressive Web App Features",description:"Install and use EasySplit like a native app",content:[" PWA Installation:",""," How to Install:",' Chrome: Click install prompt or menu  "Install EasySplit"',' Safari: Share button  "Add to Home Screen"',' Edge: Settings menu  "Apps"  "Install this site as an app"',""," Benefits of Installation:"," Works offline completely"," Faster loading and performance"," Native app-like experience"," No browser address bar"," Appears in app drawer/start menu",""," Offline Support:"," All data stored locally in IndexedDB"," Add expenses without internet"," Sync when connection returns"," Never lose your data",""," Push Notifications (Coming Soon):"," Debt reminder notifications"," Settlement confirmations"," New expense alerts"]}]},whatsapp:{title:"WhatsApp Integration",icon:u.jsx(rt,{className:"w-5 h-5"}),steps:[{id:"smart-contact-import",title:" Smart Contact Import (NEW!)",description:"Multiple ways to import WhatsApp contacts",content:[" REVOLUTIONARY FEATURES:",""," Smart Device Detection:"," Automatically detects Android/iOS/Desktop"," Chooses best WhatsApp option for your device"," Native app priority with automatic fallback"," Seamless experience across all platforms",""," Three Import Methods:","",'1 "From Contacts" (Phone Integration):'," Bulk import from your phone contact list"," Uses native Contact Picker API"," Filters contacts with phone numbers"," Instant import of multiple contacts","",'2 "From WhatsApp" (Smart App Opening):',"  Android: Opens WhatsApp app  Falls back to web","  Desktop: Opens WhatsApp Desktop  Falls back to web","  iOS: Opens WhatsApp Web with QR instructions"," Browse your actual WhatsApp contact list"," Copy contact details directly from WhatsApp","",'3 "Add New" (Manual Entry):'," Manual contact addition with validation"," Phone number format checking"," Persistent storage across sessions"]},{id:"enhanced-messaging",title:" Enhanced Messaging Experience",description:"Professional debt reminders with clear guidance",content:[" Improved Message Sending:",""," Quick Remind Feature:",' Click "Quick Remind" on any debt card'," WhatsApp opens with professional pre-filled message"," Clear popup instructions guide you step-by-step"," Message includes debt amount and group context",""," Message Template Example:",'"Hi [Name]!  Just a friendly reminder about our shared expense in [Group Name]. You owe [Amount] for [expense details]. Thanks! "',""," User Guidance Improvements:"," Clear instructions appear after WhatsApp opens"," Step-by-step guidance for sending messages"," Professional message templates included"," No more confusion about what to do next",""," Scheduled Reminders:"," Set future reminder dates and times"," Automatic WhatsApp opening at scheduled time"," Customizable reminder messages"," Persistent reminder storage"]},{id:"setup-whatsapp",title:"Setting Up WhatsApp Integration",description:"Enable WhatsApp features for participants",content:[" Phone Number Setup:",""," Correct Format Examples:"," Pakistan: +92 300 1234567"," India: +91 98765 43210"," USA: +1 555 123 4567"," UK: +44 7700 900123",""," Setup Process:","1. Add participants with phone numbers","2. Use international format (+country code)",'3. Enable "Has WhatsApp" checkbox',"4. Test with WhatsApp icon next to participant",'5. Use "Import Contacts" for bulk setup',""," Troubleshooting:"," Ensure phone numbers include country code"," Check WhatsApp is installed on target device"," Verify contact has WhatsApp account"," Test with your own number first",""," Pro Tips:"," Import contacts once, use everywhere"," Contacts persist across app sessions"," Works with both individual and group chats"," Messages are professional and contextual"]},{id:"whatsapp-best-practices",title:"WhatsApp Best Practices",description:"Tips for effective debt communication",content:[" Communication Best Practices:",""," Timing Matters:"," Send reminders during appropriate hours"," Avoid late night or very early messages"," Consider time zones for international groups",""," Message Tone:"," Keep messages friendly and professional"," Include context (group name, expense details)"," Use emojis to keep tone light"," Avoid aggressive or demanding language",""," Frequency Guidelines:"," Start with gentle reminders"," Space out follow-up messages"," Use scheduled reminders for consistency"," Escalate politely if needed",""," Relationship Management:"," Remember these are friends/family"," Focus on clarity, not pressure"," Offer payment method suggestions"," Be understanding of financial situations",""," EasySplit helps maintain friendships while managing money!"]}]}},l=Object.keys(o);return u.jsxs(xt,{isOpen:e,onClose:t,title:"EasySplit User Guide",size:"xl",children:[u.jsxs("div",{className:"flex h-96 max-h-96",children:[u.jsx("div",{className:"w-1/3 border-r border-gray-200 dark:border-gray-700 pr-4",children:u.jsx("div",{className:"space-y-2",children:l.map(c=>{const d=o[c];return u.jsx("button",{onClick:()=>s(c),className:`w-full text-left p-3 rounded-lg transition-colors ${c==="whats-new"?n===c?"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 text-green-600 dark:text-green-400 border-2 border-green-200 dark:border-green-700":"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/10 dark:to-blue-900/10 hover:from-green-100 hover:to-blue-100 dark:hover:from-green-900/20 dark:hover:to-blue-900/20 text-green-600 dark:text-green-400 border border-green-200 dark:border-green-700":n===c?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[d.icon,u.jsx("span",{className:"font-medium truncate",children:d.title})]}),c==="whatsapp"&&u.jsx("span",{className:"bg-gradient-to-r from-green-500 to-blue-500 text-white text-xs px-2 py-1 rounded-full font-bold flex-shrink-0 ml-2",children:"NEW"})]})},c)})})}),u.jsx("div",{className:"flex-1 pl-4 overflow-y-auto",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center space-x-2",children:[o[n].icon,u.jsx("span",{children:o[n].title})]}),u.jsx("div",{className:"space-y-3",children:o[n].steps.map(c=>u.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg",children:[u.jsx("button",{onClick:()=>a(c.id),className:"w-full p-4 text-left hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:c.title}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:c.description})]}),r[c.id]?u.jsx(lA,{className:"w-5 h-5 text-gray-400"}):u.jsx(cA,{className:"w-5 h-5 text-gray-400"})]})}),u.jsx(Be,{children:r[c.id]&&u.jsx(R.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:u.jsx("div",{className:"p-4 pt-0 border-t border-gray-200 dark:border-gray-700",children:u.jsx("div",{className:"space-y-2",children:c.content.map((d,h)=>u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx(Hs,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:d})]},h))})})})})]},c.id))})]})})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 pt-6 border-t border-gray-200 dark:border-gray-700 mt-8",children:[u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:` Check out "What's New" for the latest WhatsApp integration features!`}),u.jsx(z,{onClick:t,variant:"primary",className:"sm:ml-4",children:"Got it!"})]})]})},AA=({onMenuClick:e})=>{const{t}=Ve(),n=ps(),{getCurrentGroup:s}=We(),{theme:r,toggleTheme:i}=Bb(),{unreadCount:a,togglePanel:o,isOpen:l}=dt(),[c,d]=N.useState(!1),h=s(),f=()=>{switch(r){case"light":return u.jsx(Ob,{className:"w-5 h-5"});case"dark":return u.jsx(Lb,{className:"w-5 h-5"});default:return u.jsx(Ib,{className:"w-5 h-5"})}};return u.jsxs(R.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:[u.jsx("div",{className:"px-4 lg:px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Open menu",children:u.jsx(yA,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:t("app.name")}),h&&u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h.name})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(z,{variant:"ghost",size:"sm",onClick:i,icon:f(),"aria-label":"Toggle theme",className:"p-2 focus:outline-none focus:ring-0"}),u.jsxs("div",{className:"relative",children:[u.jsx(z,{variant:"ghost",size:"sm",onClick:o,icon:u.jsx(sn,{className:"w-5 h-5"}),"aria-label":"Notifications",className:"p-2 relative focus:outline-none focus:ring-0",children:a>0&&u.jsx("span",{className:"absolute -top-1 -right-1 min-w-[1.25rem] h-5 bg-danger-500 text-white text-xs rounded-full flex items-center justify-center px-1",children:a>99?"99+":a})}),l&&u.jsx("div",{className:"absolute right-0 top-full mt-2 z-50",children:u.jsx(EA,{})})]}),u.jsx(z,{variant:"ghost",size:"sm",onClick:()=>d(!0),icon:u.jsx(Tb,{className:"w-5 h-5"}),"aria-label":"User Guide",className:"p-2 focus:outline-none focus:ring-0"}),u.jsx(z,{variant:"ghost",size:"sm",onClick:()=>n("/settings"),icon:u.jsx(If,{className:"w-5 h-5"}),"aria-label":"Settings",className:"p-2 focus:outline-none focus:ring-0"})]})]})}),u.jsx(Wb,{isOpen:c,onClose:()=>d(!1)})]})},Ag=({onClose:e})=>{const{t}=Ve(),{groups:n,currentGroupId:s}=We(),r=[{name:t("navigation.dashboard"),href:"/",icon:Db,exact:!0},{name:t("navigation.groups"),href:"/groups",icon:ke},{name:t("participants.title"),href:"/participants",icon:ke},{name:t("navigation.expenses"),href:"/expenses",icon:Os},{name:t("navigation.debts"),href:"/debts",icon:Gs},{name:t("navigation.analytics"),href:"/analytics",icon:Mr},{name:t("navigation.settings"),href:"/settings",icon:If}],i=n.find(a=>a.id===s);return u.jsxs(R.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"flex flex-col h-full bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:t("app.name")}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("app.tagline")})]}),u.jsx("button",{onClick:e,className:"lg:hidden p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Close sidebar",children:u.jsx(Fe,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),i&&u.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t("groups.current")}),u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:i.name})]}),u.jsx("nav",{className:"flex-1 p-4 space-y-1",children:r.map(a=>{const o=a.icon;return u.jsxs(Xv,{to:a.href,onClick:e,className:({isActive:l})=>jn("flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors",l?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[u.jsx(o,{className:"w-5 h-5 mr-3"}),a.name]},a.href)})}),u.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:[t("app.name")," v1.0.0"]})})]})},TA=()=>{const{t:e}=Ve(),t=[{name:"Home",href:"/",icon:Db,exact:!0},{name:"Groups",href:"/groups",icon:ke},{name:"People",href:"/participants",icon:ke},{name:"Expenses",href:"/expenses",icon:Os},{name:"Debts",href:"/debts",icon:Gs}];return u.jsx(R.nav,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 safe-area-pb",children:u.jsx("div",{className:"flex items-center justify-around px-2 py-2",children:t.map(n=>{const s=n.icon;return u.jsx(Xv,{to:n.href,className:({isActive:r})=>jn("flex flex-col items-center justify-center px-3 py-2 rounded-lg transition-colors min-w-0 flex-1",r?"text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:({isActive:r})=>u.jsxs(u.Fragment,{children:[u.jsx(R.div,{animate:{scale:r?1.1:1,y:r?-2:0},transition:{duration:.2},children:u.jsx(s,{className:"w-5 h-5"})}),u.jsx("span",{className:"text-xs mt-1 truncate max-w-full",children:n.name}),r&&u.jsx(R.div,{layoutId:"bottomNavIndicator",className:"absolute -top-0.5 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-primary-600 dark:bg-primary-400 rounded-full"})]})},n.href)})})})},MA=({children:e})=>{const[t,n]=N.useState(!1),s=Jr(),r=()=>{n(!t)},i=()=>{n(!1)};return u.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[u.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:u.jsx(Ag,{onClose:i})}),t&&u.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40 lg:hidden",onClick:i,children:u.jsx("div",{className:"absolute inset-0 bg-black opacity-50"})}),u.jsx(R.div,{initial:{x:"-100%"},animate:{x:t?0:"-100%"},transition:{type:"tween",duration:.3},className:"fixed inset-y-0 left-0 z-50 w-64 lg:hidden",children:u.jsx(Ag,{onClose:i})}),u.jsxs("div",{className:"lg:pl-64 flex flex-col min-h-screen",children:[u.jsx(AA,{onMenuClick:r}),u.jsx("main",{className:"flex-1 pb-16 lg:pb-0",children:u.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"p-4 lg:p-6",children:e},s.pathname)}),u.jsx("div",{className:"lg:hidden",children:u.jsx(TA,{})})]})]})};class Tg extends Ct.Component{constructor(n){super(n);G(this,"handleReload",()=>{window.location.reload()});G(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,s){console.error("Error caught by boundary:",n,s),this.setState({error:n,errorInfo:s})}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:u.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 text-center",children:[u.jsx(R.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-danger-100 dark:bg-danger-900 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Ab,{className:"w-8 h-8 text-danger-600 dark:text-danger-400"})}),u.jsx(R.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Something went wrong"}),u.jsx(R.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 dark:text-gray-400 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page or contact support if the problem persists."}),!1,u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex gap-3 justify-center",children:[u.jsx("button",{onClick:this.handleReset,className:"btn btn-secondary flex items-center gap-2",children:"Try Again"}),u.jsxs("button",{onClick:this.handleReload,className:"btn btn-primary flex items-center gap-2",children:[u.jsx(kA,{className:"w-4 h-4"}),"Reload Page"]})]})]})}):this.props.children}}let Ms=null,Mg=null;const DA=()=>{window.addEventListener("beforeinstallprompt",e=>{console.log("PWA install prompt available"),e.preventDefault(),Ms=e,window.dispatchEvent(new CustomEvent("pwa-install-available"))}),window.addEventListener("appinstalled",()=>{console.log("PWA was installed"),Ms=null,window.dispatchEvent(new CustomEvent("pwa-installed"))}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{Mg=e,console.log("Service Worker ready:",Mg)}),window.addEventListener("online",()=>{console.log("App is online"),window.dispatchEvent(new CustomEvent("pwa-online"))}),window.addEventListener("offline",()=>{console.log("App is offline"),window.dispatchEvent(new CustomEvent("pwa-offline"))})},RA=async()=>{if(!Ms)return console.log("Install prompt not available"),!1;try{Ms.prompt();const{outcome:e}=await Ms.userChoice;return console.log(`User ${e} the install prompt`),Ms=null,e==="accepted"}catch(e){return console.error("Install prompt failed:",e),!1}},IA=()=>Ms!==null,LA=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,OA=()=>{const{t:e}=Ve(),[t,n]=N.useState(!1),[s,r]=N.useState(!1);N.useEffect(()=>{if(LA())return;const c=()=>{IA()&&(localStorage.getItem("easysplit-install-prompt-dismissed")||setTimeout(()=>{n(!0)},3e3))},d=()=>{r(!0)},h=()=>{n(!1)};return window.addEventListener("pwa-install-available",c),window.addEventListener("pwa-update-available",d),window.addEventListener("pwa-installed",h),()=>{window.removeEventListener("pwa-install-available",c),window.removeEventListener("pwa-update-available",d),window.removeEventListener("pwa-installed",h)}},[]);const i=async()=>{await RA()&&n(!1)},a=()=>{window.location.reload()},o=()=>{n(!1),localStorage.setItem("easysplit-install-prompt-dismissed","true")},l=()=>{r(!1)};return u.jsxs(u.Fragment,{children:[u.jsx(Be,{children:t&&u.jsx(R.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-4 left-4 right-4 z-50 lg:bottom-6 lg:left-6 lg:right-auto lg:max-w-sm",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-lg flex items-center justify-center mr-3",children:u.jsx(_l,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:e("pwa.install")}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Install EasySplit for quick access"})]})]}),u.jsx("button",{onClick:o,className:"p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Dismiss",children:u.jsx(Fe,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(z,{variant:"primary",size:"sm",onClick:i,className:"flex-1",children:"Install"}),u.jsx(z,{variant:"ghost",size:"sm",onClick:o,className:"flex-1",children:"Not now"})]})]})})}),u.jsx(Be,{children:s&&u.jsx(R.div,{initial:{opacity:0,y:-100},animate:{opacity:1,y:0},exit:{opacity:0,y:-100},className:"fixed top-4 left-4 right-4 z-50 lg:top-6 lg:left-6 lg:right-auto lg:max-w-sm",children:u.jsxs("div",{className:"bg-primary-600 text-white rounded-lg shadow-lg p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium",children:e("pwa.update")}),u.jsx("p",{className:"text-sm text-primary-100",children:e("pwa.updateMessage")})]}),u.jsx("button",{onClick:l,className:"p-1 rounded-lg hover:bg-primary-700 transition-colors","aria-label":"Dismiss",children:u.jsx(Fe,{className:"w-4 h-4 text-primary-100"})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(z,{variant:"secondary",size:"sm",onClick:a,className:"flex-1",children:"Update"}),u.jsx(z,{variant:"ghost",size:"sm",onClick:l,className:"flex-1 text-white hover:bg-primary-700",children:"Later"})]})]})})})]})},FA=()=>{const[e,t]=N.useState(null),[n,s]=N.useState(!1),[r,i]=N.useState(!1);N.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}const c=localStorage.getItem("pwa-install-dismissed");if(c)return;const d=p=>{p.preventDefault(),t(p),setTimeout(()=>{s(!0)},3e3)};window.addEventListener("beforeinstallprompt",d);const h=/iPad|iPhone|iPod/.test(navigator.userAgent),f=window.navigator.standalone;return h&&!f&&!c&&setTimeout(()=>{s(!0)},5e3),()=>{window.removeEventListener("beforeinstallprompt",d)}},[]);const a=async()=>{if(e){e.prompt();const{outcome:c}=await e.userChoice;c==="accepted"&&(t(null),s(!1))}else s(!1)},o=()=>{s(!1),localStorage.setItem("pwa-install-dismissed","true")};if(r||!n)return null;const l=/iPad|iPhone|iPod/.test(navigator.userAgent);return u.jsx(Be,{children:u.jsx(R.div,{initial:{opacity:0,y:100,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.9},className:"fixed bottom-4 right-4 z-50 max-w-sm",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[u.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-4 text-white relative",children:[u.jsx("button",{onClick:o,className:"absolute top-2 right-2 p-1 hover:bg-white/20 rounded-full transition-colors",children:u.jsx(Fe,{className:"w-4 h-4"})}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:u.jsx(_l,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg",children:"Install EasySplit"}),u.jsx("p",{className:"text-blue-100 text-sm",children:"Get the app experience!"})]})]})]}),u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center mx-auto",children:u.jsx(CA,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:"Works Offline"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center mx-auto",children:u.jsx(_A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:"Lightning Fast"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center mx-auto",children:u.jsx(jA,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:"Native Feel"})]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:l?"Tap Share  Add to Home Screen":"Install for faster access and offline use"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(z,{variant:"ghost",onClick:o,className:"flex-1 text-gray-600 hover:text-gray-800",size:"sm",children:"Maybe Later"}),u.jsx(z,{onClick:a,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white",icon:l?u.jsx(SA,{className:"w-4 h-4"}):u.jsx(_l,{className:"w-4 h-4"}),size:"sm",children:l?"How to Install":"Install App"})]})]})]})]})})})},zA=()=>{const e=ps(),{getCurrentGroup:t,getGroupParticipants:n,getGroupExpenses:s,getGroupDebts:r,groups:i,addGroup:a,setCurrentGroupId:o}=We(),l=t();if(Ct.useEffect(()=>{!l&&i.length>0&&o(i[0].id)},[l,i,o]),!l)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"text-center",children:u.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No group selected. Please select or create a group."})})});const c=n(l.id)||[],d=s(l.id)||[],h=r(l.id)||[],f=d.reduce((g,b)=>g+b.amount,0),p=h.reduce((g,b)=>g+b.amount,0),y=[{name:"Total Expenses",value:re(f,l==null?void 0:l.currency),icon:Os,color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900"},{name:"Participants",value:c.length,icon:ke,color:"text-green-600",bgColor:"bg-green-100 dark:bg-green-900"},{name:"Outstanding Debts",value:re(p,l==null?void 0:l.currency),icon:Gs,color:"text-orange-600",bgColor:"bg-orange-100 dark:bg-orange-900"}];return u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Dashboard "}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:["Overview for ",u.jsx("span",{className:"font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:l.name})]})]}),u.jsx(z,{onClick:()=>e("/expenses"),icon:u.jsx(Yt,{className:"w-4 h-4"}),children:"Add Expense"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:y.map((g,b)=>{const v=g.icon;return u.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},className:"card p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`w-12 h-12 ${g.bgColor} rounded-lg flex items-center justify-center`,children:u.jsx(v,{className:`w-6 h-6 ${g.color}`})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:g.name}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:g.value})]})]})},g.name)})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Recent Expenses"}),u.jsx(z,{variant:"ghost",size:"sm",onClick:()=>e("/expenses"),children:"View All"})]}),u.jsxs("div",{className:"space-y-3",children:[d.slice(0,5).map(g=>u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:g.description}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(g.date).toLocaleDateString()})]}),u.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:re(g.amount,g.currency)})]},g.id)),d.length===0&&u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No expenses yet"})]})]}),u.jsxs(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Outstanding Debts"}),u.jsx(z,{variant:"ghost",size:"sm",onClick:()=>e("/debts"),children:"View All"})]}),u.jsxs("div",{className:"space-y-3",children:[h.slice(0,5).map((g,b)=>{const v=c.find(x=>x.id===g.fromId),m=c.find(x=>x.id===g.toId);return u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsx("div",{children:u.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[v==null?void 0:v.name," owes ",m==null?void 0:m.name]})}),u.jsx("p",{className:"font-semibold text-orange-600 dark:text-orange-400",children:re(g.amount,g.currency)})]},b)}),h.length===0&&u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"All settled up!"})]})]})]})]})},Re=N.forwardRef(({label:e,error:t,helperText:n,icon:s,iconPosition:r="left",required:i=!1,className:a="",containerClassName:o="",type:l="text",...c},d)=>{const h=c.id||`input-${Math.random().toString(36).substr(2,9)}`,f=!!t;return u.jsxs("div",{className:jn("w-full",o),children:[e&&u.jsxs("label",{htmlFor:h,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[e,i&&u.jsx("span",{className:"text-danger-500 ml-1",children:"*"})]}),u.jsxs("div",{className:"relative",children:[s&&r==="left"&&u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:s})}),u.jsx(R.input,{ref:d,id:h,type:l,className:jn("input",s&&r==="left"&&"pl-10",s&&r==="right"&&"pr-10",f&&"border-danger-300 dark:border-danger-600 focus:ring-danger-500",a),initial:!1,animate:{borderColor:f?"#ef4444":void 0},transition:{duration:.2},...c}),s&&r==="right"&&u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:s})}),f&&u.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:u.jsx(Tf,{className:"w-5 h-5 text-danger-500"})})]}),(t||n)&&u.jsxs(R.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{duration:.2},className:"mt-1",children:[t&&u.jsx("p",{className:"text-sm text-danger-600 dark:text-danger-400",children:t}),!t&&n&&u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n})]})]})});Re.displayName="Input";const Tt={EQUAL:"equal",FIXED:"fixed",PERCENTAGE:"percentage"},Ub=["Food & Dining","Transportation","Shopping","Entertainment","Bills & Utilities","Travel","Healthcare","Education","Groceries","Other"],Hb=[{code:"PKR",symbol:"",name:"Pakistani Rupee"},{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"INR",symbol:"",name:"Indian Rupee"},{code:"JPY",symbol:"",name:"Japanese Yen"},{code:"CNY",symbol:"",name:"Chinese Yuan"}],BA=[{code:"en",name:"English",nativeName:"English"},{code:"ur",name:"Urdu",nativeName:""}],Dg=({initialData:e=null,onSubmit:t,onCancel:n,isLoading:s=!1})=>{const{t:r}=Ve(),[i,a]=N.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",currency:(e==null?void 0:e.currency)||"PKR"}),[o,l]=N.useState({}),c=()=>{const f={};return i.name.trim()?i.name.trim().length<2&&(f.name="Group name must be at least 2 characters"):f.name=r("errors.required"),i.description&&i.description.length>200&&(f.description="Description must be less than 200 characters"),l(f),Object.keys(f).length===0},d=f=>{if(f.preventDefault(),!c())return;const p={name:i.name.trim(),description:i.description.trim(),currency:i.currency};t(p)},h=(f,p)=>{a(y=>({...y,[f]:p})),o[f]&&l(y=>({...y,[f]:""}))};return u.jsxs(R.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:d,className:"space-y-6",children:[u.jsx(Re,{label:r("groups.name"),value:i.name,onChange:f=>h("name",f.target.value),error:o.name,required:!0,placeholder:"Enter group name",disabled:s}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[r("groups.description"),u.jsxs("span",{className:"text-gray-400 ml-1",children:["(",r("common.optional"),")"]})]}),u.jsx("textarea",{value:i.description,onChange:f=>h("description",f.target.value),placeholder:"Enter group description",rows:3,disabled:s,className:"input resize-none"}),o.description&&u.jsx("p",{className:"text-sm text-danger-600 dark:text-danger-400 mt-1",children:o.description}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[i.description.length,"/200 characters"]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("groups.currency")}),u.jsx("select",{value:i.currency,onChange:f=>h("currency",f.target.value),disabled:s,className:"input",children:Hb.map(f=>u.jsxs("option",{value:f.code,children:[f.symbol," ",f.code," - ",f.name]},f.code))})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx(z,{type:"button",variant:"secondary",onClick:n,disabled:s,className:"flex-1",children:r("common.cancel")}),u.jsx(z,{type:"submit",loading:s,className:"flex-1",children:r(e?"common.save":"common.add")})]})]})},VA=({group:e,isActive:t,onSwitch:n,onEdit:s,onDelete:r,delay:i=0})=>{const{t:a}=Ve(),{getGroupParticipants:o,getGroupExpenses:l}=We(),c=o(e.id),d=l(e.id),h=d.reduce((y,g)=>y+g.amount,0),f=y=>{const g=["from-red-400 to-pink-500","from-blue-400 to-indigo-500","from-green-400 to-emerald-500","from-yellow-400 to-orange-500","from-purple-400 to-violet-500","from-teal-400 to-cyan-500","from-rose-400 to-pink-500","from-indigo-400 to-purple-500"],b=y.split("").reduce((v,m)=>m.charCodeAt(0)+((v<<5)-v),0);return g[Math.abs(b)%g.length]},p=y=>{const g=["","","","","","","","","",""],b=y.split("").reduce((v,m)=>m.charCodeAt(0)+((v<<5)-v),0);return g[Math.abs(b)%g.length]};return u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:i},className:`card p-6 cursor-pointer transition-all duration-300 ${t?"ring-2 ring-blue-500 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/30 dark:to-purple-900/30 shadow-lg":"hover:shadow-lg"}`,onClick:y=>{console.log("Group card clicked:",e.name),n()},children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[u.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${f(e.name)} flex items-center justify-center text-white text-xl font-bold shadow-lg`,children:p(e.name)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate",children:e.name}),t&&u.jsx(R.div,{initial:{scale:0},animate:{scale:1},className:"w-5 h-5 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full flex items-center justify-center shadow-lg",children:u.jsx(Pl,{className:"w-3 h-3 text-white"})})]}),e.description&&u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:e.description})]})]}),u.jsxs("div",{className:"flex gap-1 ml-2 relative z-10",children:[u.jsx(z,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),y.preventDefault(),console.log("Edit button clicked for group:",e.name),s()},className:"p-2 hover:bg-blue-100 dark:hover:bg-blue-900/30 hover:text-blue-700 dark:hover:text-blue-300 transition-all duration-200 hover:scale-110 active:scale-95 rounded-lg","aria-label":"Edit group",children:u.jsx(Rf,{className:"w-4 h-4"})}),u.jsx(z,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),y.preventDefault(),console.log("Delete button clicked for group:",e.name),r()},className:"p-2 text-danger-600 hover:text-danger-700 hover:bg-danger-100 dark:hover:bg-danger-900/30 transition-all duration-200 hover:scale-110 active:scale-95 rounded-lg","aria-label":"Delete group",children:u.jsx(Ks,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"text-center p-3 rounded-lg bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 border border-blue-200/50 dark:border-blue-700/50",children:[u.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg mx-auto mb-2 shadow-lg",children:u.jsx(ke,{className:"w-5 h-5 text-white"})}),u.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:c.length}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:a("groups.participants")})]}),u.jsxs("div",{className:"text-center p-3 rounded-lg bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 border border-green-200/50 dark:border-green-700/50",children:[u.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg mx-auto mb-2 shadow-lg",children:u.jsx("span",{className:"text-white font-bold text-sm",children:e.currency})}),u.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:re(h,e.currency)}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:"Total Spent"})]})]}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[u.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Created ",new Date(e.createdAt).toLocaleDateString()]}),u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[d.length," ",d.length===1?"expense":"expenses"]})]}),t&&u.jsx(R.div,{initial:{scaleX:0},animate:{scaleX:1},className:"absolute bottom-0 left-0 right-0 h-1 bg-primary-500 rounded-b-lg"})]})},xc=({isOpen:e,onClose:t,onConfirm:n,title:s,message:r,confirmText:i="Confirm",cancelText:a="Cancel",variant:o="default",isLoading:l=!1})=>{const d={default:{icon:Rb,iconColor:"text-blue-600 dark:text-blue-400",iconBg:"bg-blue-100 dark:bg-blue-900",confirmVariant:"primary"},danger:{icon:Ab,iconColor:"text-danger-600 dark:text-danger-400",iconBg:"bg-danger-100 dark:bg-danger-900",confirmVariant:"danger"},success:{icon:Hs,iconColor:"text-success-600 dark:text-success-400",iconBg:"bg-success-100 dark:bg-success-900",confirmVariant:"success"},warning:{icon:PA,iconColor:"text-warning-600 dark:text-warning-400",iconBg:"bg-warning-100 dark:bg-warning-900",confirmVariant:"primary"}}[o],h=d.icon,f=()=>{n()};return u.jsx(xt,{isOpen:e,onClose:t,showCloseButton:!1,size:"sm",children:u.jsxs("div",{className:"text-center",children:[u.jsx(R.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1},className:`w-16 h-16 ${d.iconBg} rounded-full flex items-center justify-center mx-auto mb-4`,children:u.jsx(h,{className:`w-8 h-8 ${d.iconColor}`})}),u.jsx(R.h3,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:s}),u.jsx(R.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-gray-600 dark:text-gray-400 mb-6",children:r}),u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex gap-3",children:[u.jsx(z,{variant:"secondary",onClick:t,disabled:l,className:"flex-1",children:a}),u.jsx(z,{variant:d.confirmVariant,onClick:f,loading:l,className:"flex-1",children:i})]})]})})},$A=()=>{const{t:e}=Ve(),{groups:t,currentGroupId:n,createGroup:s,updateGroup:r,deleteGroup:i,setCurrentGroup:a,isLoading:o}=We(),[l,c]=N.useState(!1),[d,h]=N.useState(null),[f,p]=N.useState(null),y=async m=>{try{await s(m),c(!1)}catch(x){console.error("Failed to create group:",x)}},g=async m=>{try{await r(d.id,m),h(null)}catch(x){console.error("Failed to update group:",x)}},b=async()=>{try{await i(f.id),p(null)}catch(m){console.error("Failed to delete group:",m)}},v=m=>{a(m)};return u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:e("groups.title")}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Create and manage your colorful expense groups"})]}),u.jsx(z,{onClick:()=>c(!0),icon:u.jsx(Yt,{className:"w-4 h-4"}),disabled:o,className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg transform hover:scale-105 transition-all duration-200",children:e("groups.create")})]}),t.length>0?u.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.jsx(Be,{children:t.map((m,x)=>u.jsx(VA,{group:m,isActive:m.id===n,onSwitch:()=>v(m.id),onEdit:()=>h(m),onDelete:()=>p(m),delay:x*.1},m.id))})}):u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ke,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:e("groups.noGroups")}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Create your first group to start tracking expenses with friends and family."}),u.jsx(z,{onClick:()=>c(!0),icon:u.jsx(Yt,{className:"w-4 h-4"}),children:e("groups.create")})]}),u.jsx(xt,{isOpen:l,onClose:()=>c(!1),title:e("groups.create"),children:u.jsx(Dg,{onSubmit:y,onCancel:()=>c(!1),isLoading:o})}),u.jsx(xt,{isOpen:!!d,onClose:()=>h(null),title:e("groups.edit"),children:d&&u.jsx(Dg,{initialData:d,onSubmit:g,onCancel:()=>h(null),isLoading:o})}),u.jsx(xc,{isOpen:!!f,onClose:()=>p(null),onConfirm:b,title:e("groups.delete"),message:e("groups.confirmDelete"),confirmText:e("common.delete"),cancelText:e("common.cancel"),variant:"danger",isLoading:o})]})},Rg=({initialData:e=null,onSubmit:t,onCancel:n,isLoading:s=!1})=>{const{t:r}=Ve(),[i,a]=N.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||""}),[o,l]=N.useState({}),c=()=>{const f={};return i.name.trim()?i.name.trim().length<2?f.name="Name must be at least 2 characters":i.name.trim().length>50&&(f.name="Name must be less than 50 characters"):f.name=r("errors.required"),i.email.trim()&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email.trim())||(f.email=r("errors.invalidEmail"))),l(f),Object.keys(f).length===0},d=f=>{if(f.preventDefault(),!c())return;const p={name:i.name.trim(),email:i.email.trim()||null};t(p)},h=(f,p)=>{a(y=>({...y,[f]:p})),o[f]&&l(y=>({...y,[f]:""}))};return u.jsxs(R.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:d,className:"space-y-6",children:[u.jsx(Re,{label:r("participants.name"),value:i.name,onChange:f=>h("name",f.target.value),error:o.name,required:!0,placeholder:"Enter participant name",disabled:s,icon:u.jsx(Al,{className:"w-4 h-4"}),iconPosition:"left"}),u.jsx(Re,{label:r("participants.email"),type:"email",value:i.email,onChange:f=>h("email",f.target.value),error:o.email,placeholder:"Enter email address (optional)",disabled:s,icon:u.jsx(Df,{className:"w-4 h-4"}),iconPosition:"left",helperText:"Email is optional but useful for notifications"}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx(z,{type:"button",variant:"secondary",onClick:n,disabled:s,className:"flex-1",children:r("common.cancel")}),u.jsx(z,{type:"submit",loading:s,className:"flex-1",children:r(e?"common.save":"common.add")})]})]})},WA=({participant:e,onEdit:t,onDelete:n,delay:s=0})=>{const r=a=>a.split(" ").map(o=>o.charAt(0)).join("").toUpperCase().slice(0,2),i=a=>{const o=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-yellow-500","bg-red-500","bg-teal-500"],l=a.split("").reduce((c,d)=>d.charCodeAt(0)+((c<<5)-c),0);return o[Math.abs(l)%o.length]};return u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:s},className:"card p-6 hover:shadow-md transition-all duration-200",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:`w-12 h-12 ${i(e.name)} rounded-full flex items-center justify-center text-white font-semibold`,children:e.avatar?u.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-full object-cover"}):r(e.name)}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate",children:e.name}),e.email&&u.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mt-1",children:[u.jsx(Df,{className:"w-3 h-3 mr-1"}),u.jsx("span",{className:"truncate",children:e.email})]})]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(z,{variant:"ghost",size:"sm",onClick:t,className:"p-2","aria-label":"Edit participant",children:u.jsx(Rf,{className:"w-4 h-4"})}),u.jsx(z,{variant:"ghost",size:"sm",onClick:n,className:"p-2 text-danger-600 hover:text-danger-700 hover:bg-danger-50 dark:hover:bg-danger-900/20","aria-label":"Delete participant",children:u.jsx(Ks,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[u.jsx(Xt,{className:"w-3 h-3 mr-1"}),"Added ",new Date(e.createdAt).toLocaleDateString()]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Active Member"}),u.jsx("div",{className:"flex items-center space-x-2",children:e.email&&u.jsx("button",{onClick:()=>window.open(`mailto:${e.email}`,"_blank"),className:"text-xs text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"Send Email"})})]})]})]})},bu=()=>{["whatsapp-contacts","participant-contacts","contacts","sample-contacts","participant-whatsapp-contacts"].forEach(t=>{localStorage.removeItem(t)}),console.log(" Cleared all sample contact data from localStorage")},Gb=({isOpen:e,onClose:t,onContactSelect:n,currentContact:s=null,title:r="Select WhatsApp Contact"})=>{const[i,a]=N.useState(""),[o,l]=N.useState([]),[c,d]=N.useState([]),[h,f]=N.useState(s),[p,y]=N.useState(!1),[g,b]=N.useState({name:"",phone:""}),[v,m]=N.useState({}),[x,w]=N.useState(!1),[S,_]=N.useState(null),[k,j]=N.useState("");N.useEffect(()=>{bu(),l([]),d([])},[]),N.useEffect(()=>{e&&(bu(),l([]),d([]),f(s))},[e,s]),N.useEffect(()=>{if(i.trim()){const P=o.filter(E=>E.name.toLowerCase().includes(i.toLowerCase())||E.phone.includes(i));d(P)}else d(o)},[i,o]);const C=P=>{f(P)},A=()=>{h&&(n(h),t())},L=()=>{f(s),a(""),y(!1),b({name:"",phone:""}),m({}),t()},$=P=>{const E=`https://wa.me/${P.phone.replace(/[^\d]/g,"")}`;window.open(E,"_blank")},q=()=>{const P={};return g.name.trim()||(P.name="Name is required"),g.phone.trim()?/^[\+]?[0-9\s\-\(\)]{10,}$/.test(g.phone.trim())||(P.phone="Please enter a valid phone number"):P.phone="Phone number is required",o.find(M=>M.phone.replace(/[^\d]/g,"")===g.phone.replace(/[^\d]/g,""))&&(P.phone="Contact with this phone number already exists"),m(P),Object.keys(P).length===0},Y=()=>{if(!q())return;let P=g.phone.trim();P.startsWith("+")||(P.startsWith("0")?P="+92"+P.substring(1):P.startsWith("92")?P="+"+P:P="+92"+P);const E={id:Date.now().toString(),name:g.name.trim(),phone:P,hasWhatsApp:!0},M=[...o,E];l(M),d(M),localStorage.setItem("whatsapp-contacts",JSON.stringify(M)),f(E),b({name:"",phone:""}),m({}),y(!1)},W=()=>{w(!0);const P=setInterval(async()=>{try{if(navigator.clipboard&&navigator.clipboard.readText){const E=await navigator.clipboard.readText();if(E!==k&&E.length>5){j(E);const M=/(\+?\d{1,4}[\s\-]?\d{3,4}[\s\-]?\d{3,4}[\s\-]?\d{3,4})/g,O=E.match(M);if(O&&O.length>0){const D=O[0],I=D.replace(/[\s\-]/g,"");let V="";const B=E.split(`
`),J=B.findIndex(Le=>Le.includes(D));if(J>=0){const he=B[J].replace(D,"").trim();if(he&&he.length>0)V=he;else if(J>0){const fe=B[J-1].trim();fe&&fe.length>0&&(V=fe)}}if(!V){const he=E.replace(D,"").trim().split(/\s+/).filter(fe=>fe.length>1&&!/^\d+$/.test(fe)&&!fe.includes("@"));he.length>0&&(V=he.slice(0,2).join(" "))}if(V||(V="WhatsApp Contact"),confirm(` Contact detected in clipboard!

Name: ${V}
Phone: ${I}

Would you like to add this contact?`)){const Le={id:`clipboard-${Date.now()}`,name:V,phone:I,hasWhatsApp:!0},he=[...o,Le];l(he),d(he),localStorage.setItem("whatsapp-contacts",JSON.stringify(he)),alert(` ${V} has been added to your contacts!`),U()}}}}}catch{}},1e3);_(P),setTimeout(()=>{U()},12e4)},U=()=>{w(!1),S&&(clearInterval(S),_(null))},X=async()=>{try{if("contacts"in navigator&&"ContactsManager"in window){const P=["name","tel"],E={multiple:!0},M=await navigator.contacts.select(P,E),O=M.map((D,I)=>{var V,B;return{id:`imported-${Date.now()}-${I}`,name:((V=D.name)==null?void 0:V[0])||"Unknown",phone:((B=D.tel)==null?void 0:B[0])||"",hasWhatsApp:!0}}).filter(D=>D.phone);if(O.length>0){const D=[...M,...O];l(D),d(D),localStorage.setItem("whatsapp-contacts",JSON.stringify(D)),alert(` Successfully imported ${O.length} contacts from your phone!`)}else alert("No contacts with phone numbers were found.")}else alert(` Contact import is not supported in this browser.

To import contacts:
1. Use Chrome on Android
2. Or manually add contacts using the "Add New Contact" button`)}catch(P){P.name==="NotAllowedError"?alert(" Permission denied. Please allow access to contacts to import them."):(console.error("Error importing contacts:",P),alert(" Failed to import contacts. Please try again or add contacts manually."))}},T=()=>{const P=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),E=/Android/i.test(navigator.userAgent),M=!P;let O="",D="",I="";if(E?(O=` Opening WhatsApp for contact import!

 Instructions:
1. WhatsApp app will try to open first
2. If app doesn't open, WhatsApp Web will open
3. Browse your contacts and copy contact details
4. Come back here and use "Add New Contact"

 Ready to open WhatsApp?`,D="intent://send/#Intent;scheme=whatsapp;package=com.whatsapp;end",I=` Trying to open WhatsApp app!

 Next steps:
1. Browse your WhatsApp contacts
2. Copy contact name and phone number
3. Come back here and click "Add New Contact"
4. Paste the details

 If app didn't open, WhatsApp Web will open as backup!`):M?(O=` Opening WhatsApp for contact import!

 Instructions:
1. WhatsApp Desktop app will try to open first
2. If not installed, WhatsApp Web will open
3. Browse your contacts and copy contact details
4. Come back here and use "Add New Contact"

 Ready to open WhatsApp?`,D="whatsapp://",I=` Trying to open WhatsApp Desktop!

 Next steps:
1. Browse your WhatsApp contacts
2. Copy contact name and phone number
3. Come back here and click "Add New Contact"
4. Paste the details

 If desktop app didn't open, WhatsApp Web will open as backup!`):(O=` Opening WhatsApp Web for contact import!

 Instructions:
1. WhatsApp Web will open in a new tab
2. Scan QR code with your phone if needed
3. Browse your contacts and copy contact details
4. Come back here and use "Add New Contact"

 Ready to open WhatsApp Web?`,D="https://web.whatsapp.com/",I=` WhatsApp Web opened!

 Next steps:
1. Scan QR code if needed
2. Browse your WhatsApp contacts
3. Copy contact name and phone number
4. Come back here and click "Add New Contact"

 Tip: You can click on contact info to see details!`),confirm(O)){if(E||M){const B=document.createElement("a");B.href=D,B.style.display="none",document.body.appendChild(B),B.click(),document.body.removeChild(B),setTimeout(()=>{window.open("https://web.whatsapp.com/","_blank")},2e3)}else window.open(D,"_blank");setTimeout(()=>{W(),alert(I+`

 Smart Detection: I'm now monitoring your clipboard for contact info. Just copy any contact details and I'll detect them automatically!`)},3e3)}};return u.jsx(xt,{isOpen:e,onClose:L,title:r,size:"md",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"relative group",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl opacity-0 group-focus-within:opacity-20 transition-opacity duration-300 blur-sm"}),u.jsxs("div",{className:"relative",children:[u.jsx(Jd,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 w-5 h-5 transition-colors duration-200"}),u.jsx("input",{type:"text",placeholder:"Search your contacts...",value:i,onChange:P=>a(P.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-all duration-200 shadow-sm hover:shadow-md focus:shadow-lg"}),i&&u.jsx(R.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>a(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-6 h-6 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 rounded-full flex items-center justify-center transition-colors duration-200",children:u.jsx(Fe,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})]})]}),h&&u.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white font-semibold",children:h.name.charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:h.name}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:h.phone})]})]}),u.jsx(Pl,{className:"w-5 h-5 text-green-600"})]})}),x&&u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg p-3 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),u.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Smart Detection Active"})]}),u.jsx("button",{onClick:U,className:"text-xs text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300",children:"Stop"})]}),u.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"Copy any contact details from WhatsApp and I'll detect them automatically!"})]}),!x&&u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-6 shadow-xl mb-6",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent"}),u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:u.jsx("div",{className:"w-6 h-6 bg-white rounded-full animate-pulse"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold text-white",children:" Smart Detection"}),u.jsx("p",{className:"text-blue-100 text-sm",children:"AI-powered contact recognition"})]})]}),u.jsx("button",{onClick:W,className:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-all duration-200 text-sm font-medium",children:"Start"})]}),u.jsx("p",{className:"text-blue-100 text-sm",children:"Automatically detects contact info when you copy from WhatsApp"})]})]}),u.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:u.jsx(Be,{children:c.length>0?c.map(P=>u.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`group relative overflow-hidden p-4 rounded-2xl border cursor-pointer transition-all duration-300 ${(h==null?void 0:h.id)===P.id?"border-green-500 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 shadow-lg shadow-green-500/20":"border-gray-200 dark:border-gray-600 hover:border-green-300 hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50 dark:hover:from-gray-800 dark:hover:to-blue-900/20 hover:shadow-lg hover:shadow-blue-500/10"}`,onClick:()=>C(P),children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 -skew-x-12 transform translate-x-[-100%] group-hover:translate-x-[100%]"}),u.jsxs("div",{className:"relative flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${(h==null?void 0:h.id)===P.id?"from-green-400 to-emerald-500":"from-blue-500 via-purple-500 to-pink-500"} rounded-2xl flex items-center justify-center text-white font-bold text-lg shadow-lg`,children:P.name.charAt(0).toUpperCase()}),P.hasWhatsApp&&u.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center border-2 border-white dark:border-gray-800",children:u.jsx(rt,{className:"w-3 h-3 text-white"})})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 text-lg",children:P.name}),u.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[u.jsx(xu,{className:"w-4 h-4 text-gray-500"}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:P.phone})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[(h==null?void 0:h.id)===P.id&&u.jsx(R.div,{initial:{scale:0},animate:{scale:1},className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:u.jsx(Pl,{className:"w-5 h-5 text-white"})}),u.jsx(R.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:E=>{E.stopPropagation(),$(P)},className:"w-10 h-10 bg-green-500 hover:bg-green-600 text-white rounded-xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-200",title:"Open WhatsApp",children:u.jsx(rt,{className:"w-5 h-5"})})]})]})]},P.id)):u.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:i?u.jsxs("div",{className:"space-y-6",children:[u.jsx(R.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 rounded-full flex items-center justify-center mx-auto",children:u.jsx(Jd,{className:"w-10 h-10 text-gray-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No contacts found"}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400 max-w-sm mx-auto",children:['No contacts match "',i,'". Try a different search term.']})]})]}):u.jsxs("div",{className:"space-y-8",children:[u.jsxs(R.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"relative",children:[u.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-green-400 via-blue-500 to-purple-600 rounded-3xl flex items-center justify-center mx-auto shadow-2xl",children:u.jsx(rt,{className:"w-12 h-12 text-white"})}),u.jsx(R.div,{animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 w-24 h-24 bg-gradient-to-br from-green-400 via-blue-500 to-purple-600 rounded-3xl mx-auto -z-10"})]}),u.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-4",children:[u.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Ready to Connect!"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto leading-relaxed",children:"Import your WhatsApp contacts to send beautiful debt reminders and keep track of who owes what."})]}),u.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-4",children:[u.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>y(!0),className:"w-full inline-flex items-center justify-center space-x-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-6 py-4 rounded-xl font-medium shadow-lg hover:shadow-xl transition-all duration-200",children:[u.jsx(Yt,{className:"w-5 h-5"}),u.jsx("span",{children:"Add First Contact"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:T,className:"inline-flex items-center justify-center space-x-2 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-3 rounded-xl font-medium border border-gray-200 dark:border-gray-600 shadow-sm hover:shadow-md transition-all duration-200",children:[u.jsx(rt,{className:"w-4 h-4"}),u.jsx("span",{children:"WhatsApp"})]}),u.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:X,className:"inline-flex items-center justify-center space-x-2 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-3 rounded-xl font-medium border border-gray-200 dark:border-gray-600 shadow-sm hover:shadow-md transition-all duration-200",children:[u.jsx(xu,{className:"w-4 h-4"}),u.jsx("span",{children:"Contacts"})]})]})]}),u.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"flex items-center justify-center space-x-6 text-sm text-gray-500 dark:text-gray-400",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),u.jsx("span",{children:"Secure"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),u.jsx("span",{children:"Private"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),u.jsx("span",{children:"Easy"})]})]})]})})})}),o.length>0&&u.jsx(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center pt-4 border-t border-gray-200 dark:border-gray-700",children:u.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{bu(),l([]),d([]),f(null)},className:"inline-flex items-center space-x-2 px-4 py-2 bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg border border-red-200 dark:border-red-700 transition-all duration-200",children:[u.jsx(Fe,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Clear All Contacts"})]})}),p?u.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-700",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:u.jsx(Yt,{className:"w-8 h-8 text-white"})}),u.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Add New Contact"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Enter contact details for WhatsApp reminders"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:u.jsx(Re,{label:"Full Name",type:"text",value:g.name,onChange:P=>{b(E=>({...E,name:P.target.value})),v.name&&m(E=>({...E,name:""}))},placeholder:"Enter contact name",error:v.name,required:!0,icon:u.jsx(Al,{className:"w-5 h-5"}),iconPosition:"left",className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500/50 rounded-xl"})}),u.jsx(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:u.jsx(Re,{label:"WhatsApp Number",type:"tel",value:g.phone,onChange:P=>{b(E=>({...E,phone:P.target.value})),v.phone&&m(E=>({...E,phone:""}))},placeholder:"+92 300 1234567",error:v.phone,required:!0,icon:u.jsx(xu,{className:"w-5 h-5"}),iconPosition:"left",helperText:"Include country code (e.g., +92 for Pakistan)",className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500/50 rounded-xl"})})]}),u.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex space-x-3",children:[u.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{y(!1),b({name:"",phone:""}),m({})},className:"flex-1 px-4 py-3 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl border border-gray-200 dark:border-gray-600 font-medium transition-all duration-200 shadow-sm hover:shadow-md",children:"Cancel"}),u.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Y,disabled:!g.name.trim()||!g.phone.trim(),className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-50",children:"Add Contact"})]})]})}):null,!p&&u.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex space-x-4 pt-6 border-t border-gradient-to-r from-gray-200 via-blue-200 to-purple-200 dark:from-gray-700 dark:via-blue-700 dark:to-purple-700",children:[u.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:L,className:"flex-1 px-6 py-3 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl border border-gray-200 dark:border-gray-600 font-medium transition-all duration-200 shadow-sm hover:shadow-md",children:"Cancel"}),u.jsxs(R.button,{whileHover:{scale:h?1.02:1},whileTap:{scale:h?.98:1},onClick:A,disabled:!h,className:`flex-1 px-6 py-3 rounded-xl font-medium transition-all duration-200 flex items-center justify-center space-x-2 ${h?"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white shadow-lg hover:shadow-xl":"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed"}`,children:[u.jsx(rt,{className:"w-5 h-5"}),u.jsx("span",{children:h?`Select ${h.name}`:"Select Contact"})]})]})]})})},UA=({isOpen:e,onClose:t,onContactSelect:n})=>{const[s,r]=N.useState([]),[i,a]=N.useState([]),[o,l]=N.useState(""),[c,d]=N.useState(!1),[h,f]=N.useState(!1),[p,y]=N.useState(!1),[g,b]=N.useState(null),[v,m]=N.useState(""),[x,w]=N.useState(""),[S,_]=N.useState(""),[k,j]=N.useState(!1),[C,A]=N.useState({name:"",phone:""}),[L,$]=N.useState({}),[q,Y]=N.useState(!1),[W,U]=N.useState(null),[X,T]=N.useState(""),[P,E]=N.useState(!1);N.useEffect(()=>{const I=localStorage.getItem("participant-contacts");if(I)try{const V=JSON.parse(I);r(V),a(V),V.length>0&&f(!0)}catch(V){console.error("Error loading saved contacts:",V)}},[]),N.useEffect(()=>{if(o){const I=s.filter(V=>V.name.toLowerCase().includes(o.toLowerCase())||V.phone.includes(o));a(I)}else a(s)},[o,s]);const M=I=>{n({name:I.name,phone:I.phone,email:"",hasWhatsApp:!0});const V=`Hi ${I.name}!  You've been added to an expense group on EasySplit. We'll use this to share expenses and send payment reminders. Thanks! `;window.confirm(`Send welcome message to ${I.name} via WhatsApp?`)&&D(I.phone,V),t()},O=(I,V="")=>{let B=I.replace(/[^\d+]/g,"");B.startsWith("0")?B="+92"+B.substring(1):B.startsWith("92")&&!B.startsWith("+92")?B="+"+B:B.startsWith("+")||(B="+92"+B);const J=V?encodeURIComponent(V):"";console.log("Opening WhatsApp for:",B,"with message:",V);const ie=`https://wa.me/${B.replace("+","")}${V?`?text=${J}`:""}`;window.open(ie,"_blank")},D=(I,V="")=>{O(I,V)};return u.jsx(u.Fragment,{children:u.jsx(Gb,{isOpen:e,onClose:t,onContactSelect:M,title:"Import Participant Contacts"})})},HA=()=>{const{t:e}=Ve(),t=ps(),{groups:n,getCurrentGroup:s,getGroupParticipants:r,addParticipant:i,updateParticipant:a,deleteParticipant:o,setCurrentGroup:l,setCurrentGroupId:c,isLoading:d}=We(),[h,f]=N.useState(!1),[p,y]=N.useState(null),[g,b]=N.useState(null),[v,m]=N.useState(!1),x=s();Ct.useEffect(()=>{!x&&n.length>0&&c(n[0].id)},[x,n,c]);const w=x?r(x.id):[],S=async C=>{try{await i(x.id,C),f(!1)}catch(A){console.error("Failed to add participant:",A)}},_=async C=>{try{await a(p.id,C),y(null)}catch(A){console.error("Failed to update participant:",A)}},k=async()=>{try{await o(g.id),b(null)}catch(C){console.error("Failed to delete participant:",C)}},j=async C=>{if(x)try{const A={...C,groupId:x.id};console.log("Adding participant:",A),await i(x.id,A),m(!1),dt.getState().notifyInfo("Participant Added",`${C.name} has been added to ${x.name}`)}catch(A){console.error("Failed to add participant from contact:",A)}};return x?u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:e("participants.title")}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Add and manage people in your expense groups"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(z,{onClick:()=>m(!0),icon:u.jsx(Yt,{className:"w-4 h-4"}),disabled:d||!x,variant:"secondary",className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white shadow-lg transform hover:scale-105 transition-all duration-200",children:"Import Contacts"}),u.jsx(z,{onClick:()=>f(!0),icon:u.jsx(vu,{className:"w-4 h-4"}),disabled:d||!x,className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg transform hover:scale-105 transition-all duration-200",children:e("participants.add")})]})]}),u.jsxs("div",{className:"card p-6 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-2 border-blue-200 dark:border-blue-700 relative z-10",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:u.jsx(ke,{className:"w-5 h-5 text-white"})}),u.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Select Group:"})]}),u.jsx("div",{className:"flex-1",children:u.jsxs("select",{value:(x==null?void 0:x.id)||"",onChange:C=>{const A=C.target.value;if(console.log("Group selected:",A),l(A),A){const L=n.find($=>$.id===A);console.log("Selected group object:",L)}},className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border-2 border-blue-300 dark:border-blue-600 rounded-lg focus:border-blue-500 dark:focus:border-blue-400 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200 cursor-pointer hover:border-blue-400 dark:hover:border-blue-500 hover:shadow-md",style:{minHeight:"48px"},children:[u.jsx("option",{value:"",disabled:!0,children:"Choose a group to manage participants..."}),n.map(C=>u.jsxs("option",{value:C.id,className:"py-2",children:[" ",C.name,"  ",C.currency,"  ",r(C.id).length," participants"]},C.id))]})})]}),x&&u.jsx(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border-2 border-green-200 dark:border-green-700 shadow-md",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-white text-lg",children:""})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-100 text-lg",children:x.name}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Currency: ",u.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:x.currency}),"  ",w.length," participants"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Created ",new Date(x.createdAt).toLocaleDateString()]}),u.jsx("div",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:"Active Group"})]})]})})]})]}),w.length>0?u.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.jsx(Be,{children:w.map((C,A)=>u.jsx(WA,{participant:C,onEdit:()=>y(C),onDelete:()=>b(C),delay:A*.1},C.id))})}):u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(vu,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:e("participants.noParticipants")}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Add people to this group to start splitting expenses together."}),u.jsx(z,{onClick:()=>f(!0),icon:u.jsx(vu,{className:"w-4 h-4"}),children:e("participants.add")})]}),u.jsx(xt,{isOpen:h,onClose:()=>f(!1),title:e("participants.add"),children:u.jsx(Rg,{onSubmit:S,onCancel:()=>f(!1),isLoading:d})}),u.jsx(xt,{isOpen:!!p,onClose:()=>y(null),title:e("participants.edit"),children:p&&u.jsx(Rg,{initialData:p,onSubmit:_,onCancel:()=>y(null),isLoading:d})}),u.jsx(xc,{isOpen:!!g,onClose:()=>b(null),onConfirm:k,title:e("participants.delete"),message:e("participants.confirmDelete"),confirmText:e("common.delete"),cancelText:e("common.cancel"),variant:"danger",isLoading:d}),u.jsx(UA,{isOpen:v,onClose:()=>m(!1),onContactSelect:j})]}):u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ke,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No Group Selected"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Select a group first to manage participants"}),u.jsx(z,{onClick:()=>t("/groups"),icon:u.jsx(Yt,{className:"w-4 h-4"}),children:"Go to Groups"})]})})},GA=({participants:e=[],amount:t=0,paidBy:n=[],splitType:s=Tt.EQUAL,splitData:r={amounts:{},percentages:{}},splits:i=[],currency:a="PKR",onPaidByChange:o,onSplitTypeChange:l,onSplitDataChange:c,error:d=null,disabled:h=!1})=>{const{t:f}=Ve(),[p,y]=N.useState(r);N.useEffect(()=>{y(r)},[r]);const g=k=>{const j=n.includes(k)?n.filter(C=>C!==k):[...n,k];o(j)},b=k=>{l(k);const j={amounts:{},percentages:{}};if(k===Tt.FIXED){const C=t/e.length;e.forEach(A=>{j.amounts[A.id]=C.toFixed(2)})}else if(k===Tt.PERCENTAGE){const C=(100/e.length).toFixed(2);e.forEach(A=>{j.percentages[A.id]=C})}y(j),c(j)},v=(k,j)=>{const C={...p,amounts:{...p.amounts,[k]:j}};y(C),c(C)},m=(k,j)=>{const C={...p,percentages:{...p.percentages,[k]:j}};y(C),c(C)},x=()=>{if(s===Tt.FIXED){const k=(t/e.length).toFixed(2),j={};e.forEach(A=>{j[A.id]=k});const C={...p,amounts:j};y(C),c(C)}else if(s===Tt.PERCENTAGE){const k=(100/e.length).toFixed(2),j={};e.forEach(A=>{j[A.id]=k});const C={...p,percentages:j};y(C),c(C)}},w=Object.values(p.amounts||{}).reduce((k,j)=>k+(parseFloat(j)||0),0),S=Object.values(p.percentages||{}).reduce((k,j)=>k+(parseFloat(j)||0),0),_=k=>{const j=i.find(C=>C.participantId===k);return j?j.amount:0};return e.length===0?u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx(ke,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Add participants to the group first"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center",children:[u.jsx(aA,{className:"w-5 h-5 mr-2"}),"Payment & Split"]}),d&&u.jsxs("div",{className:"flex items-center text-danger-600 dark:text-danger-400 text-sm",children:[u.jsx(Tf,{className:"w-4 h-4 mr-1"}),d]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[f("expenses.paidBy")," *"]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:e.map(k=>u.jsx(R.button,{type:"button",onClick:()=>g(k.id),disabled:h,className:`p-3 rounded-lg border-2 transition-all duration-200 text-left ${n.includes(k.id)?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:`w-4 h-4 rounded border-2 mr-3 flex items-center justify-center ${n.includes(k.id)?"border-primary-500 bg-primary-500":"border-gray-300 dark:border-gray-600"}`,children:n.includes(k.id)&&u.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),u.jsx("span",{className:"font-medium",children:k.name})]})},k.id))})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[f("expenses.splitType")," *"]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:Object.values(Tt).map(k=>u.jsx(z,{type:"button",variant:s===k?"primary":"secondary",onClick:()=>b(k),disabled:h,className:"justify-center",icon:k===Tt.EQUAL?u.jsx(ke,{className:"w-4 h-4"}):k===Tt.FIXED?u.jsx(Nt,{className:"w-4 h-4"}):u.jsx(vA,{className:"w-4 h-4"}),children:f(`expenses.splitTypes.${k}`)},k))})]}),u.jsxs(Be,{mode:"wait",children:[s===Tt.EQUAL&&u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card p-4 bg-blue-50 dark:bg-blue-900/20",children:[u.jsxs("div",{className:"flex items-center mb-3",children:[u.jsx(ke,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2"}),u.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Equal Split"})]}),u.jsx("div",{className:"space-y-2",children:e.map(k=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:k.name}),u.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:re(_(k.id),a)})]},k.id))})]},"equal"),s===Tt.FIXED&&u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Fixed Amounts"}),u.jsx(z,{type:"button",variant:"ghost",size:"sm",onClick:x,disabled:h,children:"Distribute Equally"})]}),u.jsx("div",{className:"space-y-3",children:e.map(k=>{var j;return u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("span",{className:"w-24 text-sm text-gray-700 dark:text-gray-300 truncate",children:k.name}),u.jsx(Re,{type:"number",step:"0.01",min:"0",value:((j=p.amounts)==null?void 0:j[k.id])||"",onChange:C=>v(k.id,C.target.value),placeholder:"0.00",disabled:h,className:"flex-1"})]},k.id)})}),u.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total:"}),u.jsxs("span",{className:`font-semibold ${Math.abs(w-t)<.01?"text-green-600 dark:text-green-400":"text-danger-600 dark:text-danger-400"}`,children:[re(w,a)," / ",re(t,a)]})]})]},"fixed"),s===Tt.PERCENTAGE&&u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Percentage Split"}),u.jsx(z,{type:"button",variant:"ghost",size:"sm",onClick:x,disabled:h,children:"Distribute Equally"})]}),u.jsx("div",{className:"space-y-3",children:e.map(k=>{var j;return u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("span",{className:"w-24 text-sm text-gray-700 dark:text-gray-300 truncate",children:k.name}),u.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[u.jsx(Re,{type:"number",step:"0.01",min:"0",max:"100",value:((j=p.percentages)==null?void 0:j[k.id])||"",onChange:C=>m(k.id,C.target.value),placeholder:"0.00",disabled:h,className:"flex-1"}),u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"%"}),u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 w-20 text-right",children:re(_(k.id),a)})]})]},k.id)})}),u.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total:"}),u.jsxs("span",{className:`font-semibold ${Math.abs(S-100)<.01?"text-green-600 dark:text-green-400":"text-danger-600 dark:text-danger-400"}`,children:[S.toFixed(2),"%"]})]})]},"percentage")]})]})};var KA={exports:{}};(function(e){var t=function(n){var s=Object.prototype,r=s.hasOwnProperty,i=Object.defineProperty||function(P,E,M){P[E]=M.value},a,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",d=o.toStringTag||"@@toStringTag";function h(P,E,M){return Object.defineProperty(P,E,{value:M,enumerable:!0,configurable:!0,writable:!0}),P[E]}try{h({},"")}catch{h=function(E,M,O){return E[M]=O}}function f(P,E,M,O){var D=E&&E.prototype instanceof x?E:x,I=Object.create(D.prototype),V=new U(O||[]);return i(I,"_invoke",{value:$(P,M,V)}),I}n.wrap=f;function p(P,E,M){try{return{type:"normal",arg:P.call(E,M)}}catch(O){return{type:"throw",arg:O}}}var y="suspendedStart",g="suspendedYield",b="executing",v="completed",m={};function x(){}function w(){}function S(){}var _={};h(_,l,function(){return this});var k=Object.getPrototypeOf,j=k&&k(k(X([])));j&&j!==s&&r.call(j,l)&&(_=j);var C=S.prototype=x.prototype=Object.create(_);w.prototype=S,i(C,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:w,configurable:!0}),w.displayName=h(S,d,"GeneratorFunction");function A(P){["next","throw","return"].forEach(function(E){h(P,E,function(M){return this._invoke(E,M)})})}n.isGeneratorFunction=function(P){var E=typeof P=="function"&&P.constructor;return E?E===w||(E.displayName||E.name)==="GeneratorFunction":!1},n.mark=function(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,S):(P.__proto__=S,h(P,d,"GeneratorFunction")),P.prototype=Object.create(C),P},n.awrap=function(P){return{__await:P}};function L(P,E){function M(I,V,B,J){var ie=p(P[I],P,V);if(ie.type==="throw")J(ie.arg);else{var Le=ie.arg,he=Le.value;return he&&typeof he=="object"&&r.call(he,"__await")?E.resolve(he.__await).then(function(fe){M("next",fe,B,J)},function(fe){M("throw",fe,B,J)}):E.resolve(he).then(function(fe){Le.value=fe,B(Le)},function(fe){return M("throw",fe,B,J)})}}var O;function D(I,V){function B(){return new E(function(J,ie){M(I,V,J,ie)})}return O=O?O.then(B,B):B()}i(this,"_invoke",{value:D})}A(L.prototype),h(L.prototype,c,function(){return this}),n.AsyncIterator=L,n.async=function(P,E,M,O,D){D===void 0&&(D=Promise);var I=new L(f(P,E,M,O),D);return n.isGeneratorFunction(E)?I:I.next().then(function(V){return V.done?V.value:I.next()})};function $(P,E,M){var O=y;return function(I,V){if(O===b)throw new Error("Generator is already running");if(O===v){if(I==="throw")throw V;return T()}for(M.method=I,M.arg=V;;){var B=M.delegate;if(B){var J=q(B,M);if(J){if(J===m)continue;return J}}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(O===y)throw O=v,M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);O=b;var ie=p(P,E,M);if(ie.type==="normal"){if(O=M.done?v:g,ie.arg===m)continue;return{value:ie.arg,done:M.done}}else ie.type==="throw"&&(O=v,M.method="throw",M.arg=ie.arg)}}}function q(P,E){var M=E.method,O=P.iterator[M];if(O===a)return E.delegate=null,M==="throw"&&P.iterator.return&&(E.method="return",E.arg=a,q(P,E),E.method==="throw")||M!=="return"&&(E.method="throw",E.arg=new TypeError("The iterator does not provide a '"+M+"' method")),m;var D=p(O,P.iterator,E.arg);if(D.type==="throw")return E.method="throw",E.arg=D.arg,E.delegate=null,m;var I=D.arg;if(!I)return E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,m;if(I.done)E[P.resultName]=I.value,E.next=P.nextLoc,E.method!=="return"&&(E.method="next",E.arg=a);else return I;return E.delegate=null,m}A(C),h(C,d,"Generator"),h(C,l,function(){return this}),h(C,"toString",function(){return"[object Generator]"});function Y(P){var E={tryLoc:P[0]};1 in P&&(E.catchLoc=P[1]),2 in P&&(E.finallyLoc=P[2],E.afterLoc=P[3]),this.tryEntries.push(E)}function W(P){var E=P.completion||{};E.type="normal",delete E.arg,P.completion=E}function U(P){this.tryEntries=[{tryLoc:"root"}],P.forEach(Y,this),this.reset(!0)}n.keys=function(P){var E=Object(P),M=[];for(var O in E)M.push(O);return M.reverse(),function D(){for(;M.length;){var I=M.pop();if(I in E)return D.value=I,D.done=!1,D}return D.done=!0,D}};function X(P){if(P){var E=P[l];if(E)return E.call(P);if(typeof P.next=="function")return P;if(!isNaN(P.length)){var M=-1,O=function D(){for(;++M<P.length;)if(r.call(P,M))return D.value=P[M],D.done=!1,D;return D.value=a,D.done=!0,D};return O.next=O}}return{next:T}}n.values=X;function T(){return{value:a,done:!0}}return U.prototype={constructor:U,reset:function(P){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(W),!P)for(var E in this)E.charAt(0)==="t"&&r.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=a)},stop:function(){this.done=!0;var P=this.tryEntries[0],E=P.completion;if(E.type==="throw")throw E.arg;return this.rval},dispatchException:function(P){if(this.done)throw P;var E=this;function M(J,ie){return I.type="throw",I.arg=P,E.next=J,ie&&(E.method="next",E.arg=a),!!ie}for(var O=this.tryEntries.length-1;O>=0;--O){var D=this.tryEntries[O],I=D.completion;if(D.tryLoc==="root")return M("end");if(D.tryLoc<=this.prev){var V=r.call(D,"catchLoc"),B=r.call(D,"finallyLoc");if(V&&B){if(this.prev<D.catchLoc)return M(D.catchLoc,!0);if(this.prev<D.finallyLoc)return M(D.finallyLoc)}else if(V){if(this.prev<D.catchLoc)return M(D.catchLoc,!0)}else if(B){if(this.prev<D.finallyLoc)return M(D.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(P,E){for(var M=this.tryEntries.length-1;M>=0;--M){var O=this.tryEntries[M];if(O.tryLoc<=this.prev&&r.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var D=O;break}}D&&(P==="break"||P==="continue")&&D.tryLoc<=E&&E<=D.finallyLoc&&(D=null);var I=D?D.completion:{};return I.type=P,I.arg=E,D?(this.method="next",this.next=D.finallyLoc,m):this.complete(I)},complete:function(P,E){if(P.type==="throw")throw P.arg;return P.type==="break"||P.type==="continue"?this.next=P.arg:P.type==="return"?(this.rval=this.arg=P.arg,this.method="return",this.next="end"):P.type==="normal"&&E&&(this.next=E),m},finish:function(P){for(var E=this.tryEntries.length-1;E>=0;--E){var M=this.tryEntries[E];if(M.finallyLoc===P)return this.complete(M.completion,M.afterLoc),W(M),m}},catch:function(P){for(var E=this.tryEntries.length-1;E>=0;--E){var M=this.tryEntries[E];if(M.tryLoc===P){var O=M.completion;if(O.type==="throw"){var D=O.arg;W(M)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(P,E,M){return this.delegate={iterator:X(P),resultName:E,nextLoc:M},this.method==="next"&&(this.arg=a),m}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(KA);var Lf=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const YA=Lf;let Ig=0;var Kb=({id:e,action:t,payload:n={}})=>{let s=e;return typeof s>"u"&&(s=YA("Job",Ig),Ig+=1),{id:s,action:t,payload:n}},Zr={};let Of=!1;Zr.logging=Of;Zr.setLogging=e=>{Of=e};Zr.log=(...e)=>Of?console.log.apply(void 0,e):null;const qA=Kb,{log:oo}=Zr,XA=Lf;let Lg=0;var QA=()=>{const e=XA("Scheduler",Lg),t={},n={};let s=[];Lg+=1;const r=()=>s.length,i=()=>Object.keys(t).length,a=()=>{if(s.length!==0){const h=Object.keys(t);for(let f=0;f<h.length;f+=1)if(typeof n[h[f]]>"u"){s[0](t[h[f]]);break}}},o=(h,f)=>new Promise((p,y)=>{const g=qA({action:h,payload:f});s.push(async b=>{s.shift(),n[b.id]=g;try{p(await b[h].apply(void 0,[...f,g.id]))}catch(v){y(v)}finally{delete n[b.id],a()}}),oo(`[${e}]: Add ${g.id} to JobQueue`),oo(`[${e}]: JobQueue length=${s.length}`),a()});return{addWorker:h=>(t[h.id]=h,oo(`[${e}]: Add ${h.id}`),oo(`[${e}]: Number of workers=${i()}`),a(),h.id),addJob:async(h,...f)=>{if(i()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return o(h,f)},terminate:async()=>{Object.keys(t).forEach(async h=>{await t[h].terminate()}),s=[]},getQueueLen:r,getNumWorkers:i}};function JA(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function ZA(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var eT=ZA;const tT=eT;var nT=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":tT()?t.type="electron":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof JA=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const sT=nT("type")==="browser",rT=sT?e=>new URL(e,window.location.href).href:e=>e;var iT=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(n=>{e[n]&&(t[n]=rT(t[n]))}),t},aT=e=>{const t=[],n=[],s=[],r=[],i=[];return e.blocks&&e.blocks.forEach(a=>{a.paragraphs.forEach(o=>{o.lines.forEach(l=>{l.words.forEach(c=>{c.symbols.forEach(d=>{i.push({...d,page:e,block:a,paragraph:o,line:l,word:c})}),r.push({...c,page:e,block:a,paragraph:o,line:l})}),s.push({...l,page:e,block:a,paragraph:o})}),n.push({...o,page:e,block:a})}),t.push({...a,page:e})}),{...e,blocks:t,paragraphs:n,lines:s,words:r,symbols:i}},Yb={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const oT="5.1.1",lT={version:oT};var cT={workerBlobURL:!0,logger:()=>{}};const uT=lT.version,dT=cT;var hT={...dT,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${uT}/dist/worker.min.js`},fT=({workerPath:e,workerBlobURL:t})=>{let n;if(Blob&&URL&&t){const s=new Blob([`importScripts("${e}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(s))}else n=new Worker(e);return n},pT=e=>{e.terminate()},mT=(e,t)=>{e.onmessage=({data:n})=>{t(n)}},gT=async(e,t)=>{e.postMessage(t)};const wu=e=>new Promise((t,n)=>{const s=new FileReader;s.onload=()=>{t(s.result)},s.onerror=({target:{error:{code:r}}})=>{n(Error(`File could not be read! Code=${r}`))},s.readAsArrayBuffer(e)}),Zd=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(n=>n.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await Zd(e.src)),e.tagName==="VIDEO"&&(t=await Zd(e.poster)),e.tagName==="CANVAS"&&await new Promise(n=>{e.toBlob(async s=>{t=await wu(s),n()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const n=await e.convertToBlob();t=await wu(n)}else(e instanceof File||e instanceof Blob)&&(t=await wu(e));return new Uint8Array(t)};var yT=Zd;const xT=hT,vT=fT,bT=pT,wT=mT,kT=gT,ST=yT;var jT={defaultOptions:xT,spawnWorker:vT,terminateWorker:bT,onMessage:wT,send:kT,loadImage:ST};const NT=iT,CT=aT,$t=Kb,{log:Og}=Zr,PT=Lf,ys=Yb,{defaultOptions:_T,spawnWorker:ET,terminateWorker:AT,onMessage:TT,loadImage:Fg,send:MT}=jT;let zg=0;var qb=async(e="eng",t=ys.LSTM_ONLY,n={},s={})=>{const r=PT("Worker",zg),{logger:i,errorHandler:a,...o}=NT({..._T,...n}),l={},c={},d=typeof e=="string"?e.split("+"):e;let h=t,f=s;const p=[ys.DEFAULT,ys.LSTM_ONLY].includes(t)&&!o.legacyCore;let y,g;const b=new Promise((D,I)=>{g=D,y=I}),v=D=>{y(D.message)};let m=ET(o);m.onerror=v,zg+=1;const x=(D,I)=>{l[D]=I},w=(D,I)=>{c[D]=I},S=({id:D,action:I,payload:V})=>new Promise((B,J)=>{Og(`[${r}]: Start ${D}, action=${I}`);const ie=`${I}-${D}`;x(ie,B),w(ie,J),MT(m,{workerId:r,jobId:D,action:I,payload:V})}),_=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),k=D=>S($t({id:D,action:"load",payload:{options:{lstmOnly:p,corePath:o.corePath,logging:o.logging}}})),j=(D,I,V)=>S($t({id:V,action:"FS",payload:{method:"writeFile",args:[D,I]}})),C=(D,I)=>S($t({id:I,action:"FS",payload:{method:"readFile",args:[D,{encoding:"utf8"}]}})),A=(D,I)=>S($t({id:I,action:"FS",payload:{method:"unlink",args:[D]}})),L=(D,I,V)=>S($t({id:V,action:"FS",payload:{method:D,args:I}})),$=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),q=(D,I)=>S($t({id:I,action:"loadLanguage",payload:{langs:D,options:{langPath:o.langPath,dataPath:o.dataPath,cachePath:o.cachePath,cacheMethod:o.cacheMethod,gzip:o.gzip,lstmOnly:[ys.DEFAULT,ys.LSTM_ONLY].includes(h)&&!o.legacyLang}}})),Y=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),W=(D,I,V,B)=>S($t({id:B,action:"initialize",payload:{langs:D,oem:I,config:V}})),U=(D="eng",I,V,B)=>{if(p&&[ys.TESSERACT_ONLY,ys.TESSERACT_LSTM_COMBINED].includes(I))throw Error("Legacy model requested but code missing.");const J=I||h;h=J;const ie=V||f;f=ie;const he=(typeof D=="string"?D.split("+"):D).filter(fe=>!d.includes(fe));return d.push(...he),he.length>0?q(he,B).then(()=>W(D,J,ie,B)):W(D,J,ie,B)},X=(D={},I)=>S($t({id:I,action:"setParameters",payload:{params:D}})),T=async(D,I={},V={blocks:!0,text:!0,hocr:!0,tsv:!0},B)=>S($t({id:B,action:"recognize",payload:{image:await Fg(D),options:I,output:V}})),P=(D="Tesseract OCR Result",I=!1,V)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),S($t({id:V,action:"getPDF",payload:{title:D,textonly:I}}))),E=async(D,I)=>{if(p)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return S($t({id:I,action:"detect",payload:{image:await Fg(D)}}))},M=async()=>(m!==null&&(AT(m),m=null),Promise.resolve());TT(m,({workerId:D,jobId:I,status:V,action:B,data:J})=>{const ie=`${B}-${I}`;if(V==="resolve"){Og(`[${D}]: Complete ${I}`);let Le=J;B==="recognize"?Le=CT(J):B==="getPDF"&&(Le=Array.from({...J,length:Object.keys(J).length})),l[ie]({jobId:I,data:Le})}else if(V==="reject")if(c[ie](J),B==="load"&&y(J),a)a(J);else throw Error(J);else V==="progress"&&i({...J,userJobId:I})});const O={id:r,worker:m,setResolve:x,setReject:w,load:_,writeText:j,readText:C,removeFile:A,FS:L,loadLanguage:$,initialize:Y,reinitialize:U,setParameters:X,recognize:T,getPDF:P,detect:E,terminate:M};return k().then(()=>q(e)).then(()=>W(e,t,s)).then(()=>g(O)).catch(()=>{}),b};const Xb=qb,DT=async(e,t,n)=>{const s=await Xb(t,1,n);return s.recognize(e).finally(async()=>{await s.terminate()})},RT=async(e,t)=>{const n=await Xb("osd",0,t);return n.detect(e).finally(async()=>{await n.terminate()})};var IT={recognize:DT,detect:RT},LT={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},OT={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const FT=QA,zT=qb,BT=IT,VT=LT,$T=Yb,WT=OT,{setLogging:UT}=Zr;var HT={languages:VT,OEM:$T,PSM:WT,createScheduler:FT,createWorker:zT,setLogging:UT,...BT};const GT=hh(HT),KT=({images:e=[],onImagesChange:t,onOCRResult:n,disabled:s=!1})=>{const[r,i]=N.useState(!1),[a,o]=N.useState(0),[l,c]=N.useState(null),d=N.useRef(null),h=x=>{const w=Array.from(x.target.files);y(w)},f=x=>{x.preventDefault();const w=Array.from(x.dataTransfer.files);y(w)},p=x=>{x.preventDefault()},y=x=>{const w=x.filter(k=>k.type.startsWith("image/"));if(w.length===0){alert("Please select image files only");return}const S=[];let _=0;w.forEach((k,j)=>{const C=new FileReader;C.onload=A=>{const L={id:Date.now()+j,file:k,url:A.target.result,name:k.name,size:k.size,ocrText:null,extractedData:null};if(S.push(L),_++,_===w.length){const $=[...e,...S];t($)}},C.readAsDataURL(k)})},g=async x=>{if(!r){i(!0),o(0);try{const{data:{text:w}}=await GT.recognize(x.url,"eng",{logger:k=>{k.status==="recognizing text"&&o(Math.round(k.progress*100))}}),S=b(w),_=e.map(k=>k.id===x.id?{...k,ocrText:w,extractedData:S}:k);t(_),n&&S&&n(S)}catch(w){console.error("OCR failed:",w),alert("Failed to process receipt. Please try again.")}finally{i(!1),o(0)}}},b=x=>{const w=x.split(`
`).map(j=>j.trim()).filter(j=>j),S={amount:null,description:null,date:null,merchant:null},_=[/(?:|Rs\.?|PKR)\s*(\d+(?:[,.]?\d+)*(?:\.\d{2})?)/i,/(\d+(?:[,.]?\d+)*(?:\.\d{2})?)\s*(?:|Rs\.?|PKR)/i,/(?:total|amount|sum)[\s:]*(?:|Rs\.?|PKR)?\s*(\d+(?:[,.]?\d+)*(?:\.\d{2})?)/i,/(\d+(?:[,.]?\d+)*\.\d{2})/g];for(const j of _){const C=x.match(j);if(C){const A=C[1]||C[0],L=parseFloat(A.replace(/[,]/g,""));if(L>0&&L<1e6){S.amount=L;break}}}if(w.length>0){const j=w.find(C=>C.length>3&&C.length<50&&!C.match(/\d{4}/)&&!C.match(/|Rs|PKR|\d+\.\d{2}/));j&&(S.merchant=j,S.description=`Purchase from ${j}`)}const k=[/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})/,/(\d{1,2}\s+(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+\d{2,4})/i,/(\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2})/];for(const j of k){const C=x.match(j);if(C){const A=C[1],L=new Date(A);if(!isNaN(L.getTime())){S.date=L.toISOString().split("T")[0];break}}}return S},v=x=>{const w=e.filter(S=>S.id!==x);t(w)},m=x=>{if(x===0)return"0 Bytes";const w=1024,S=["Bytes","KB","MB"],_=Math.floor(Math.log(x)/Math.log(w));return parseFloat((x/Math.pow(w,_)).toFixed(2))+" "+S[_]};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center",children:[u.jsx(oA,{className:"w-5 h-5 mr-2"}),"Receipt Upload & OCR"]}),r&&u.jsxs("div",{className:"flex items-center text-sm text-blue-600 dark:text-blue-400",children:[u.jsx(gA,{className:"w-4 h-4 mr-1 animate-spin"}),"Processing... ",a,"%"]})]}),u.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${s?"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800":"border-gray-300 dark:border-gray-600 hover:border-primary-400 dark:hover:border-primary-500 cursor-pointer"}`,onDrop:f,onDragOver:p,onClick:()=>{var x;return!s&&((x=d.current)==null?void 0:x.click())},children:[u.jsx(Fb,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:s?"Upload disabled":"Drop receipt images here or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Supports JPG, PNG, WebP  Max 5MB per file"}),u.jsx("input",{ref:d,type:"file",multiple:!0,accept:"image/*",onChange:h,disabled:s,className:"hidden"})]}),u.jsx(Be,{children:e.map(x=>u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card p-4",children:[u.jsxs("div",{className:"flex items-start space-x-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:x.url,alt:x.name,className:"w-20 h-20 object-cover rounded-lg cursor-pointer",onClick:()=>c(x)}),u.jsx("button",{onClick:()=>v(x.id),className:"absolute -top-2 -right-2 w-6 h-6 bg-danger-500 text-white rounded-full flex items-center justify-center hover:bg-danger-600 transition-colors",children:u.jsx(Fe,{className:"w-3 h-3"})})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",children:x.name}),u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:m(x.size)})]}),x.extractedData&&u.jsxs("div",{className:"space-y-2 mb-3",children:[x.extractedData.amount&&u.jsxs("div",{className:"flex items-center text-sm",children:[u.jsx(Nt,{className:"w-4 h-4 text-green-600 mr-1"}),u.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Amount: ",u.jsxs("strong",{children:["",x.extractedData.amount]})]})]}),x.extractedData.merchant&&u.jsxs("div",{className:"flex items-center text-sm",children:[u.jsx(ya,{className:"w-4 h-4 text-blue-600 mr-1"}),u.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Merchant: ",u.jsx("strong",{children:x.extractedData.merchant})]})]}),x.extractedData.date&&u.jsx("div",{className:"flex items-center text-sm",children:u.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Date: ",u.jsx("strong",{children:new Date(x.extractedData.date).toLocaleDateString()})]})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(z,{size:"sm",variant:"secondary",onClick:()=>g(x),disabled:r,icon:u.jsx(ya,{className:"w-3 h-3"}),children:x.ocrText?"Re-scan":"Extract Text"}),u.jsx(z,{size:"sm",variant:"ghost",onClick:()=>c(x),icon:u.jsx(dA,{className:"w-3 h-3"}),children:"Preview"})]})]})]}),x.ocrText&&u.jsx(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("details",{className:"group",children:[u.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100",children:"View Extracted Text"}),u.jsx("div",{className:"mt-2 p-3 bg-gray-50 dark:bg-gray-800 rounded text-xs text-gray-600 dark:text-gray-400 max-h-32 overflow-y-auto",children:u.jsx("pre",{className:"whitespace-pre-wrap",children:x.ocrText})})]})})]},x.id))}),u.jsx(Be,{children:l&&u.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onClick:()=>c(null),children:u.jsxs(R.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-4xl max-h-full",onClick:x=>x.stopPropagation(),children:[u.jsx("img",{src:l.url,alt:l.name,className:"max-w-full max-h-full object-contain rounded-lg"}),u.jsx("button",{onClick:()=>c(null),className:"absolute top-4 right-4 w-10 h-10 bg-black bg-opacity-50 text-white rounded-full flex items-center justify-center hover:bg-opacity-75 transition-colors",children:u.jsx(Fe,{className:"w-5 h-5"})})]})})})]})},Bg=({initialData:e=null,participants:t=[],currency:n="PKR",groupId:s,onSubmit:r,onCancel:i,isLoading:a=!1})=>{var w,S,_;const{t:o}=Ve(),[l,c]=N.useState({description:(e==null?void 0:e.description)||"",amount:(e==null?void 0:e.amount)||"",category:(e==null?void 0:e.category)||"Other",date:e!=null&&e.date?new Date(e.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],paidBy:(e==null?void 0:e.paidBy)||[],splitType:((S=(w=e==null?void 0:e.splits)==null?void 0:w[0])==null?void 0:S.type)||Tt.EQUAL,splits:(e==null?void 0:e.splits)||[],notes:(e==null?void 0:e.notes)||"",tags:((_=e==null?void 0:e.tags)==null?void 0:_.join(", "))||"",receiptImages:(e==null?void 0:e.receiptImages)||[]}),[d,h]=N.useState({}),[f,p]=N.useState({amounts:{},percentages:{}});N.useEffect(()=>{if(t.length>0&&l.amount){const k=parseFloat(l.amount);if(!isNaN(k)&&k>0)try{const j=KE(k,t,l.splitType,f);c(C=>({...C,splits:j}))}catch(j){console.error("Error calculating splits:",j)}}},[t,l.amount,l.splitType,f]);const y=()=>{const k={};if(l.description.trim()?l.description.trim().length<3&&(k.description="Description must be at least 3 characters"):k.description=o("errors.required"),!l.amount)k.amount=o("errors.required");else{const j=parseFloat(l.amount);isNaN(j)||j<=0?k.amount=o("errors.invalidAmount"):j>1e6&&(k.amount="Amount cannot exceed 1,000,000")}if(!l.date)k.date=o("errors.required");else{const j=new Date(l.date),C=new Date,A=new Date;A.setFullYear(C.getFullYear()-1),j>C?k.date="Date cannot be in the future":j<A&&(k.date="Date cannot be more than a year ago")}if(l.paidBy.length===0&&(k.paidBy="At least one person must pay for this expense"),l.splits.length>0&&l.amount){const j=YE(l.splits,parseFloat(l.amount),l.splitType);j.isValid||(k.splits=j.errors.join(", "))}if(l.tags){const j=l.tags.split(",").map(C=>C.trim()).filter(C=>C);j.some(C=>C.length>20)&&(k.tags="Each tag must be less than 20 characters"),j.length>10&&(k.tags="Maximum 10 tags allowed")}return h(k),Object.keys(k).length===0},g=k=>{if(k.preventDefault(),!y())return;const j=l.tags.split(",").map(A=>A.trim()).filter(A=>A),C={groupId:s,description:l.description.trim(),amount:parseFloat(l.amount),category:l.category,date:new Date(l.date),paidBy:l.paidBy,splits:l.splits,notes:l.notes.trim(),tags:j,receiptImages:l.receiptImages,currency:n};r(C)},b=(k,j)=>{c(C=>({...C,[k]:j})),d[k]&&h(C=>({...C,[k]:""}))},v=k=>{p(k)},m=k=>{c(j=>({...j,receiptImages:k}))},x=k=>{k.amount&&!l.amount&&b("amount",k.amount.toString()),k.description&&!l.description&&b("description",k.description)};return u.jsxs(R.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:g,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center",children:[u.jsx(Os,{className:"w-5 h-5 mr-2"}),"Expense Details"]}),u.jsx(Re,{label:o("expenses.description"),value:l.description,onChange:k=>b("description",k.target.value),error:d.description,required:!0,placeholder:"What was this expense for?",disabled:a,icon:u.jsx(ya,{className:"w-4 h-4"}),iconPosition:"left"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Re,{label:o("expenses.amount"),type:"number",step:"0.01",min:"0",value:l.amount,onChange:k=>b("amount",k.target.value),error:d.amount,required:!0,placeholder:"0.00",disabled:a,icon:u.jsx(Nt,{className:"w-4 h-4"}),iconPosition:"left"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("expenses.category")}),u.jsx("select",{value:l.category,onChange:k=>b("category",k.target.value),disabled:a,className:"input",children:Ub.map(k=>u.jsx("option",{value:k,children:o(`expenses.categories.${k.toLowerCase().replace(/[^a-z]/g,"")}`)},k))})]})]}),u.jsx(Re,{label:o("expenses.date"),type:"date",value:l.date,onChange:k=>b("date",k.target.value),error:d.date,required:!0,disabled:a,icon:u.jsx(Xt,{className:"w-4 h-4"}),iconPosition:"left"})]}),u.jsx(KT,{images:l.receiptImages,onImagesChange:m,onOCRResult:x,disabled:a}),u.jsx(GA,{participants:t,amount:parseFloat(l.amount)||0,paidBy:l.paidBy,splitType:l.splitType,splitData:f,splits:l.splits,currency:n,onPaidByChange:k=>b("paidBy",k),onSplitTypeChange:k=>b("splitType",k),onSplitDataChange:v,error:d.paidBy||d.splits,disabled:a}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center",children:[u.jsx(El,{className:"w-5 h-5 mr-2"}),"Additional Information"]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[o("expenses.notes"),u.jsxs("span",{className:"text-gray-400 ml-1",children:["(",o("common.optional"),")"]})]}),u.jsx("textarea",{value:l.notes,onChange:k=>b("notes",k.target.value),placeholder:"Add any additional notes about this expense",rows:3,disabled:a,className:"input resize-none",maxLength:500}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[l.notes.length,"/500 characters"]})]}),u.jsx(Re,{label:o("expenses.tags"),value:l.tags,onChange:k=>b("tags",k.target.value),error:d.tags,placeholder:"Enter tags separated by commas (e.g., dinner, restaurant, birthday)",disabled:a,icon:u.jsx(El,{className:"w-4 h-4"}),iconPosition:"left",helperText:"Separate multiple tags with commas"})]}),u.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[u.jsx(z,{type:"button",variant:"secondary",onClick:i,disabled:a,className:"flex-1",children:o("common.cancel")}),u.jsx(z,{type:"submit",loading:a,className:"flex-1",children:o(e?"common.save":"common.add")})]})]})},YT=({expense:e,participants:t=[],currency:n="PKR",onEdit:s,onDelete:r,delay:i=0})=>{var d,h;const a=f=>{const p=t.find(y=>y.id===f);return p?p.name:"Unknown"},o=()=>Array.isArray(e.paidBy)?e.paidBy.map(f=>a(f)).join(", "):typeof e.paidBy=="string"?a(e.paidBy):"Unknown",l=f=>{const p={"Food & Dining":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",Transportation:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",Shopping:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",Entertainment:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200","Bills & Utilities":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",Travel:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",Healthcare:"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-200",Education:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",Groceries:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",Other:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"};return p[f]||p.Other},c=()=>{if(e.splits.length===0)return"No split";switch(e.splits[0].type){case"equal":return"Split equally";case"fixed":return"Fixed amounts";case"percentage":return"By percentage";default:return"Custom split"}};return u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:i},className:"card p-6 hover:shadow-md transition-all duration-200",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate",children:e.description}),u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l(e.category)}`,children:e.category})]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 space-x-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Xt,{className:"w-4 h-4 mr-1"}),new Date(e.date).toLocaleDateString()]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ke,{className:"w-4 h-4 mr-1"}),"Paid by ",o()]})]})]}),u.jsxs("div",{className:"text-right ml-4",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:re(e.amount,n)}),u.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:c()})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex items-center mb-2",children:[u.jsx(Nt,{className:"w-4 h-4 text-gray-400 mr-1"}),u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Split Details"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:e.splits.map(f=>u.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 dark:bg-gray-700/50 rounded",children:[u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 truncate",children:a(f.participantId)}),u.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[re(f.amount,n),f.type==="percentage"&&u.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",f.percentage,"%)"]})]})]},f.participantId))})]}),(e.notes||((d=e.tags)==null?void 0:d.length)>0)&&u.jsxs("div",{className:"mb-4 space-y-2",children:[e.notes&&u.jsxs("div",{className:"flex items-start",children:[u.jsx(ya,{className:"w-4 h-4 text-gray-400 mr-2 mt-0.5 flex-shrink-0"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:e.notes})]}),((h=e.tags)==null?void 0:h.length)>0&&u.jsxs("div",{className:"flex items-center flex-wrap gap-1",children:[u.jsx(El,{className:"w-4 h-4 text-gray-400 mr-1"}),e.tags.map((f,p)=>u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:f},p))]})]}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Created ",new Date(e.createdAt).toLocaleDateString(),e.updatedAt&&e.updatedAt!==e.createdAt&&u.jsxs("span",{children:["  Updated ",new Date(e.updatedAt).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(z,{variant:"ghost",size:"sm",onClick:s,className:"p-2","aria-label":"Edit expense",children:u.jsx(Rf,{className:"w-4 h-4"})}),u.jsx(z,{variant:"ghost",size:"sm",onClick:r,className:"p-2 text-danger-600 hover:text-danger-700 hover:bg-danger-50 dark:hover:bg-danger-900/20","aria-label":"Delete expense",children:u.jsx(Ks,{className:"w-4 h-4"})})]})]})]})},qT=({filters:e={},onFiltersChange:t,participants:n=[],onClear:s})=>{var a;const r=(o,l)=>{t({...e,[o]:l})},i=Object.values(e).some(o=>o!=="");return u.jsxs(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"card p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Mb,{className:"w-5 h-5 text-gray-600 dark:text-gray-400 mr-2"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Filter Expenses"})]}),i&&u.jsx(z,{variant:"ghost",size:"sm",onClick:s,icon:u.jsx(Fe,{className:"w-4 h-4"}),children:"Clear All"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.jsx(El,{className:"w-4 h-4 inline mr-1"}),"Category"]}),u.jsxs("select",{value:e.category||"",onChange:o=>r("category",o.target.value),className:"input",children:[u.jsx("option",{value:"",children:"All Categories"}),Ub.map(o=>u.jsx("option",{value:o,children:o},o))]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.jsx(ke,{className:"w-4 h-4 inline mr-1"}),"Participant"]}),u.jsxs("select",{value:e.participant||"",onChange:o=>r("participant",o.target.value),className:"input",children:[u.jsx("option",{value:"",children:"All Participants"}),n.map(o=>u.jsx("option",{value:o.id,children:o.name},o.id))]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.jsx(Xt,{className:"w-4 h-4 inline mr-1"}),"From Date"]}),u.jsx(Re,{type:"date",value:e.dateFrom||"",onChange:o=>r("dateFrom",o.target.value)})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.jsx(Xt,{className:"w-4 h-4 inline mr-1"}),"To Date"]}),u.jsx(Re,{type:"date",value:e.dateTo||"",onChange:o=>r("dateTo",o.target.value)})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.jsx(Nt,{className:"w-4 h-4 inline mr-1"}),"Min Amount"]}),u.jsx(Re,{type:"number",step:"0.01",min:"0",value:e.minAmount||"",onChange:o=>r("minAmount",o.target.value),placeholder:"0.00"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.jsx(Nt,{className:"w-4 h-4 inline mr-1"}),"Max Amount"]}),u.jsx(Re,{type:"number",step:"0.01",min:"0",value:e.maxAmount||"",onChange:o=>r("maxAmount",o.target.value),placeholder:"0.00"})]})]}),i&&u.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active filters:"}),e.category&&u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:["Category: ",e.category,u.jsx("button",{onClick:()=>r("category",""),className:"ml-1 hover:text-blue-600",children:u.jsx(Fe,{className:"w-3 h-3"})})]}),e.participant&&u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:["Participant: ",(a=n.find(o=>o.id===e.participant))==null?void 0:a.name,u.jsx("button",{onClick:()=>r("participant",""),className:"ml-1 hover:text-green-600",children:u.jsx(Fe,{className:"w-3 h-3"})})]}),e.dateFrom&&u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:["From: ",new Date(e.dateFrom).toLocaleDateString(),u.jsx("button",{onClick:()=>r("dateFrom",""),className:"ml-1 hover:text-purple-600",children:u.jsx(Fe,{className:"w-3 h-3"})})]}),e.dateTo&&u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:["To: ",new Date(e.dateTo).toLocaleDateString(),u.jsx("button",{onClick:()=>r("dateTo",""),className:"ml-1 hover:text-purple-600",children:u.jsx(Fe,{className:"w-3 h-3"})})]}),e.minAmount&&u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",children:["Min: ",e.minAmount,u.jsx("button",{onClick:()=>r("minAmount",""),className:"ml-1 hover:text-orange-600",children:u.jsx(Fe,{className:"w-3 h-3"})})]}),e.maxAmount&&u.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",children:["Max: ",e.maxAmount,u.jsx("button",{onClick:()=>r("maxAmount",""),className:"ml-1 hover:text-orange-600",children:u.jsx(Fe,{className:"w-3 h-3"})})]})]})})]})},Ff=()=>{const{getCurrentGroup:e,settings:t}=We(),n=e();return N.useMemo(()=>{const r=(n==null?void 0:n.currency)||t.defaultCurrency||"PKR";return{code:r,symbol:qE(r),name:XT(r)}},[n==null?void 0:n.currency,t.defaultCurrency])},XT=e=>({PKR:"Pakistani Rupee",INR:"Indian Rupee",BDT:"Bangladeshi Taka",LKR:"Sri Lankan Rupee",NPR:"Nepalese Rupee",AFN:"Afghan Afghani",USD:"US Dollar",EUR:"Euro",GBP:"British Pound",JPY:"Japanese Yen",CNY:"Chinese Yuan",KRW:"South Korean Won",AUD:"Australian Dollar",CAD:"Canadian Dollar",CHF:"Swiss Franc"})[e]||e,QT=()=>{const{t:e}=Ve(),t=ps(),{getCurrentGroup:n,getGroupExpenses:s,getGroupParticipants:r,addExpense:i,updateExpense:a,deleteExpense:o,isLoading:l,groups:c,setCurrentGroupId:d}=We(),[h,f]=N.useState(!1),[p,y]=N.useState(null),[g,b]=N.useState(null),[v,m]=N.useState(""),[x,w]=N.useState(!1),[S,_]=N.useState({category:"",participant:"",dateFrom:"",dateTo:"",minAmount:"",maxAmount:""}),k=n();Ct.useEffect(()=>{!k&&c.length>0&&d(c[0].id)},[k,c,d]);const j=k?s(k.id):[],C=k?r(k.id):[],A=Ff(),L=N.useMemo(()=>{let T=j;return v&&(T=T.filter(P=>{var E,M;return P.description.toLowerCase().includes(v.toLowerCase())||((E=P.notes)==null?void 0:E.toLowerCase().includes(v.toLowerCase()))||((M=P.tags)==null?void 0:M.some(O=>O.toLowerCase().includes(v.toLowerCase())))})),S.category&&(T=T.filter(P=>P.category===S.category)),S.participant&&(T=T.filter(P=>P.paidBy.includes(S.participant)||P.splits.some(E=>E.participantId===S.participant))),S.dateFrom&&(T=T.filter(P=>new Date(P.date)>=new Date(S.dateFrom))),S.dateTo&&(T=T.filter(P=>new Date(P.date)<=new Date(S.dateTo))),S.minAmount&&(T=T.filter(P=>P.amount>=parseFloat(S.minAmount))),S.maxAmount&&(T=T.filter(P=>P.amount<=parseFloat(S.maxAmount))),T},[j,v,S]),$=L.reduce((T,P)=>T+P.amount,0),q=L.length>0?$/L.length:0,Y=async T=>{try{await i(T),f(!1)}catch(P){console.error("Failed to add expense:",P)}},W=async T=>{try{await a(p.id,T),y(null)}catch(P){console.error("Failed to update expense:",P)}},U=async()=>{try{await o(g.id),b(null)}catch(T){console.error("Failed to delete expense:",T)}},X=()=>{_({category:"",participant:"",dateFrom:"",dateTo:"",minAmount:"",maxAmount:""}),m("")};return k?u.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 via-blue-600 to-purple-600 bg-clip-text text-transparent",children:[e("expenses.title")," "]}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:["Track and split expenses in ",u.jsx("span",{className:"font-semibold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:k.name})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(z,{variant:"secondary",onClick:()=>w(!x),icon:u.jsx(Mb,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-gray-100 to-gray-200 hover:from-gray-200 hover:to-gray-300 dark:from-gray-700 dark:to-gray-600 dark:hover:from-gray-600 dark:hover:to-gray-500 border-2 border-gray-300 dark:border-gray-600",children:"Filters "}),u.jsxs(z,{onClick:()=>f(!0),icon:u.jsx(Yt,{className:"w-4 h-4"}),disabled:l||C.length===0,className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg transform hover:scale-105 transition-all duration-200",children:[e("expenses.add")," "]})]})]}),u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx("div",{className:"card p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:u.jsx(Os,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Expenses"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:L.length})]})]})}),u.jsx("div",{className:"card p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg flex items-center justify-center shadow-lg",children:u.jsx("span",{className:"text-white font-bold text-lg",children:A.symbol})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Amount"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:re($,A.code)})]})]})}),u.jsx("div",{className:"card p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center",children:u.jsx(Xt,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),u.jsxs("div",{className:"ml-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Average"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:re(q,k.currency)})]})]})})]}),u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-4",children:[u.jsx(Re,{placeholder:"Search expenses by description, notes, or tags...",value:v,onChange:T=>m(T.target.value),icon:u.jsx(Jd,{className:"w-4 h-4"}),iconPosition:"left"}),u.jsx(Be,{children:x&&u.jsx(qT,{filters:S,onFiltersChange:_,participants:C,onClear:X})})]}),C.length===0?u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ke,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No Participants Yet"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Add participants to this group before creating expenses"}),u.jsx(z,{onClick:()=>t("/participants"),icon:u.jsx(ke,{className:"w-4 h-4"}),children:"Add Participants"})]}):L.length>0?u.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"space-y-4",children:u.jsx(Be,{children:L.map((T,P)=>u.jsx(YT,{expense:T,participants:C,currency:k.currency,onEdit:()=>y(T),onDelete:()=>b(T),delay:P*.05},T.id))})}):u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Os,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:v||Object.values(S).some(T=>T)?"No Matching Expenses":e("expenses.noExpenses")}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:v||Object.values(S).some(T=>T)?"Try adjusting your search or filters":"Start by adding your first expense to this group"}),v||Object.values(S).some(T=>T)?u.jsx(z,{variant:"secondary",onClick:X,children:"Clear Filters"}):u.jsx(z,{onClick:()=>f(!0),icon:u.jsx(Yt,{className:"w-4 h-4"}),children:e("expenses.add")})]}),u.jsx(xt,{isOpen:h,onClose:()=>f(!1),title:e("expenses.add"),size:"lg",children:u.jsx(Bg,{participants:C,currency:k.currency,groupId:k.id,onSubmit:Y,onCancel:()=>f(!1),isLoading:l})}),u.jsx(xt,{isOpen:!!p,onClose:()=>y(null),title:e("expenses.edit"),size:"lg",children:p&&u.jsx(Bg,{initialData:p,participants:C,currency:k.currency,groupId:k.id,onSubmit:W,onCancel:()=>y(null),isLoading:l})}),u.jsx(xc,{isOpen:!!g,onClose:()=>b(null),onConfirm:U,title:e("expenses.delete"),message:e("expenses.confirmDelete"),confirmText:e("common.delete"),cancelText:e("common.cancel"),variant:"danger",isLoading:l})]}):u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Os,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No Group Selected"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Select a group first to manage expenses"}),u.jsx(z,{onClick:()=>t("/groups"),icon:u.jsx(Yt,{className:"w-4 h-4"}),children:"Go to Groups"})]})})},Vg=({debt:e,participants:t,currency:n,onReminderSet:s,onReminderDelete:r})=>{const[i,a]=N.useState(!1),[o,l]=N.useState(!1),[c,d]=N.useState(null),[h,f]=N.useState({date:"",time:"",message:"",whatsappEnabled:!1,emailEnabled:!1}),p=m=>{const x=t.find(w=>w.id===m);return x?x.name:"Unknown"},y=m=>{const x=t.find(w=>w.id===m);return x?x.phone:null},g=()=>{if(!h.date||!h.time){alert("Please select date and time for the reminder");return}if(h.whatsappEnabled){const S=p(e.fromId);if(!(c||y(e.fromId))){alert(` Please select a WhatsApp contact for ${S} before scheduling the reminder.`);return}}const m=new Date(`${h.date}T${h.time}`);if(m<=new Date){alert("Reminder time must be in the future");return}const w={id:Date.now(),debtId:`${e.fromId}-${e.toId}`,fromId:e.fromId,toId:e.toId,amount:e.amount,currency:n,scheduledFor:m,message:h.message||`Hi ${p(e.fromId)}, friendly reminder that you owe ${re(e.amount,n)} to ${p(e.toId)}. Please settle when convenient. Thanks!`,whatsappEnabled:h.whatsappEnabled,emailEnabled:h.emailEnabled,status:"scheduled",selectedContact:c};if(c){const S=JSON.parse(localStorage.getItem("participant-whatsapp-contacts")||"{}");S[e.fromId]=c,localStorage.setItem("participant-whatsapp-contacts",JSON.stringify(S))}s(w),a(!1),d(null),f({date:"",time:"",message:"",whatsappEnabled:!1,emailEnabled:!1})},b=(m,x)=>{if(!m){alert("No phone number available for this participant");return}let w=m.replace(/[^\d+]/g,"");w.startsWith("0")?w="+92"+w.substring(1):w.startsWith("92")&&!w.startsWith("+92")?w="+"+w:w.startsWith("+")||(w="+92"+w);const S=encodeURIComponent(x),_=`https://wa.me/${w.replace("+","")}?text=${S}`;console.log("Opening WhatsApp URL:",_);const k=p(e.fromId);window.open(_,"_blank"),setTimeout(()=>{alert(` WhatsApp opened with message for ${k}.

 The message is ready in the chat box.

 Please click the SEND button () in WhatsApp to deliver the message!`)},1500)},v=()=>{const m=p(e.fromId),x=p(e.toId),S=JSON.parse(localStorage.getItem("participant-whatsapp-contacts")||"{}")[e.fromId];let _=(S==null?void 0:S.phone)||y(e.fromId);if(!_){const C=JSON.parse(localStorage.getItem("whatsapp-contacts")||"[]").find(A=>A.name.toLowerCase()===m.toLowerCase());_=C==null?void 0:C.phone}if(!_){alert(` No WhatsApp contact found for ${m}. Please schedule a reminder and select a contact first.`);return}const k=`Hi ${m}!  This is a friendly reminder that you owe ${re(e.amount,n)} to ${x}. Please settle when convenient. Thanks! `;b(_,k),alert(` WhatsApp opened with draft message for ${m}!
Please review and send the message.`)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(z,{variant:"ghost",size:"sm",onClick:v,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20",icon:u.jsx(rt,{className:"w-4 h-4"}),title:"Send WhatsApp reminder now",children:"Quick Remind"}),u.jsx(z,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50 dark:hover:bg-orange-900/20",icon:u.jsx(sn,{className:"w-4 h-4"}),title:"Schedule reminder",children:"Schedule"})]}),u.jsxs(xt,{isOpen:i,onClose:()=>a(!1),title:"Schedule Debt Reminder",size:"xl",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 border border-orange-200 dark:border-orange-700 rounded-lg",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-500 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:p(e.fromId).charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Debt Reminder"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Schedule a payment reminder"})]})]}),u.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-base mb-2",children:[u.jsx("span",{className:"font-semibold text-orange-600 dark:text-orange-400",children:p(e.fromId)})," owes"]}),u.jsx("p",{className:"font-bold text-2xl text-orange-600 dark:text-orange-400 mb-2",children:re(e.amount,n)}),u.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-base",children:["to ",u.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:p(e.toId)})]})]})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 text-lg mb-4",children:"Schedule Details"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[u.jsx(Xt,{className:"w-4 h-4 inline mr-2"}),"Reminder Date"]}),u.jsx("input",{type:"date",value:h.date,onChange:m=>f(x=>({...x,date:m.target.value})),min:new Date().toISOString().split("T")[0],required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[u.jsx(Mf,{className:"w-4 h-4 inline mr-2"}),"Reminder Time"]}),u.jsx("input",{type:"time",value:h.time,onChange:m=>f(x=>({...x,time:m.target.value})),required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100 text-lg",children:[u.jsx(rt,{className:"w-5 h-5 inline mr-2"}),"Reminder Message"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Custom Message (Optional)"}),u.jsx("textarea",{value:h.message,onChange:m=>f(x=>({...x,message:m.target.value})),placeholder:`Hi ${p(e.fromId)}, friendly reminder that you owe ${re(e.amount,n)} to ${p(e.toId)}. Please settle when convenient. Thanks!`,rows:5,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 resize-none text-sm leading-relaxed",maxLength:500}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[h.message.length,"/500 characters"]}),u.jsx(z,{variant:"ghost",size:"sm",onClick:()=>f(m=>({...m,message:`Hi ${p(e.fromId)}, friendly reminder that you owe ${re(e.amount,n)} to ${p(e.toId)}. Please settle when convenient. Thanks!`})),className:"text-orange-600 hover:text-orange-700",children:"Use Default Message"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h4",{className:"font-medium text-gray-900 dark:text-gray-100 text-lg",children:[u.jsx(sn,{className:"w-5 h-5 inline mr-2"}),"Notification Methods"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg",children:u.jsxs("label",{className:"flex items-start space-x-3",children:[u.jsx("input",{type:"checkbox",checked:h.whatsappEnabled,onChange:m=>f(x=>({...x,whatsappEnabled:m.target.checked})),className:"mt-1 rounded border-gray-300 text-green-600 focus:ring-green-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx(rt,{className:"w-5 h-5 text-green-600"}),u.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"WhatsApp Message"})]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Send reminder directly via WhatsApp at the scheduled time"}),h.whatsappEnabled&&u.jsxs("div",{className:"space-y-4",children:[c||y(e.fromId)?u.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-700",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:((c==null?void 0:c.name)||p(e.fromId)).charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:(c==null?void 0:c.name)||p(e.fromId)}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(c==null?void 0:c.phone)||y(e.fromId)})]})]}),u.jsx(z,{variant:"ghost",size:"sm",onClick:()=>l(!0),className:"text-green-600 hover:text-green-700",icon:u.jsx(Al,{className:"w-4 h-4"}),children:"Change"})]}):u.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mb-2",children:[" No WhatsApp contact selected for ",p(e.fromId)]}),u.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"Select a contact to send WhatsApp reminders"})]}),u.jsx(z,{variant:"secondary",size:"sm",onClick:()=>l(!0),className:"bg-yellow-100 hover:bg-yellow-200 text-yellow-800",icon:u.jsx(Yt,{className:"w-4 h-4"}),children:"Select Contact"})]})}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{const m=(c==null?void 0:c.phone)||y(e.fromId);if(m){const x=h.message||`Hi ${(c==null?void 0:c.name)||p(e.fromId)}, friendly reminder that you owe ${re(e.amount,n)} to ${p(e.toId)}. Please settle when convenient. Thanks!`,w=`https://wa.me/${m.replace(/[^\d]/g,"")}?text=${encodeURIComponent(x)}`;window.open(w,"_blank")}},className:"text-green-600 hover:text-green-700",icon:u.jsx(rt,{className:"w-4 h-4"}),disabled:!c&&!y(e.fromId),children:"Test Message"}),u.jsx(z,{variant:"ghost",size:"sm",onClick:()=>l(!0),className:"text-blue-600 hover:text-blue-700",icon:u.jsx(Al,{className:"w-4 h-4"}),children:"Browse Contacts"})]})]})]})]})}),u.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg",children:u.jsxs("label",{className:"flex items-start space-x-3",children:[u.jsx("input",{type:"checkbox",checked:h.emailEnabled,onChange:m=>f(x=>({...x,emailEnabled:m.target.checked})),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx(sn,{className:"w-5 h-5 text-blue-600"}),u.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"In-App Notification"})]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Show browser notification at the scheduled time"})]})]})})]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 sticky bottom-0",children:[u.jsx(z,{variant:"secondary",onClick:()=>a(!1),className:"flex-1",children:"Cancel"}),u.jsx(z,{onClick:g,className:"flex-1 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",icon:u.jsx(sn,{className:"w-4 h-4"}),children:"Schedule Reminder"})]})]}),u.jsx(Gb,{isOpen:o,onClose:()=>l(!1),onContactSelect:m=>{d(m),l(!1)},currentContact:c,title:`Select WhatsApp Contact for ${p(e.fromId)}`})]})},JT=({debt:e,participants:t=[],currency:n="PKR",onSettle:s,onReminderSet:r,delay:i=0})=>{const a=h=>{const f=t.find(p=>p.id===h);return f?f.name:"Unknown"},o=h=>a(h).split(" ").map(p=>p.charAt(0)).join("").toUpperCase().slice(0,2),l=h=>{const f=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-yellow-500","bg-red-500","bg-teal-500"],p=h.split("").reduce((y,g)=>g.charCodeAt(0)+((y<<5)-y),0);return f[Math.abs(p)%f.length]},c=a(e.fromId),d=a(e.toId);return u.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:i},className:"card p-4 sm:p-6 hover:shadow-md transition-all duration-200",children:[u.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:`w-12 h-12 ${l(e.fromId)} rounded-full flex items-center justify-center text-white font-semibold`,children:o(e.fromId)}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:c}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Owes"})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(yu,{className:"w-6 h-6 text-gray-400"}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:re(e.amount,n)}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Amount"})]}),u.jsx(yu,{className:"w-6 h-6 text-gray-400"})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:`w-12 h-12 ${l(e.toId)} rounded-full flex items-center justify-center text-white font-semibold`,children:o(e.toId)}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:d}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Is owed"})]})]})]}),u.jsxs("div",{className:"ml-6 space-y-2",children:[u.jsx(z,{onClick:s,variant:"success",icon:u.jsx(Hs,{className:"w-4 h-4"}),className:"whitespace-nowrap w-full",children:"Settle Up"}),u.jsx(Vg,{debt:e,participants:t,currency:n,onReminderSet:r})]})]}),u.jsxs("div",{className:"md:hidden space-y-4",children:[u.jsxs("div",{className:"text-center bg-primary-50 dark:bg-primary-900/20 rounded-lg p-4",children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Amount to settle"}),u.jsx("p",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:re(e.amount,n)})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[u.jsx("div",{className:`w-12 h-12 ${l(e.fromId)} rounded-full flex items-center justify-center text-white font-semibold`,children:o(e.fromId)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:c}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Owes money"})]})]}),u.jsx("div",{className:"mx-4",children:u.jsx(yu,{className:"w-6 h-6 text-gray-400"})}),u.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[u.jsxs("div",{className:"flex-1 text-right",children:[u.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:d}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Should receive"})]}),u.jsx("div",{className:`w-12 h-12 ${l(e.toId)} rounded-full flex items-center justify-center text-white font-semibold`,children:o(e.toId)})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(z,{onClick:s,variant:"success",icon:u.jsx(Hs,{className:"w-4 h-4"}),fullWidth:!0,className:"py-3",children:"Mark as Settled"}),u.jsx("div",{className:"w-full",children:u.jsx(Vg,{debt:e,participants:t,currency:n,onReminderSet:r})})]})]})]})},ZT=({participants:e=[],currency:t="PKR",initialDebt:n=null,onSubmit:s,onCancel:r,isLoading:i=!1})=>{var v;const{t:a}=Ve(),[o,l]=N.useState({fromId:(n==null?void 0:n.fromId)||"",toId:(n==null?void 0:n.toId)||"",amount:((v=n==null?void 0:n.amount)==null?void 0:v.toString())||"",notes:"",settledAt:new Date().toISOString().split("T")[0]}),[c,d]=N.useState({});N.useEffect(()=>{n&&l(m=>({...m,fromId:n.fromId,toId:n.toId,amount:n.amount.toString()}))},[n]);const h=()=>{const m={};if(o.fromId||(m.fromId="Please select who is paying"),o.toId?o.fromId===o.toId&&(m.toId="Payer and recipient cannot be the same person"):m.toId="Please select who is being paid",!o.amount)m.amount=a("errors.required");else{const x=parseFloat(o.amount);isNaN(x)||x<=0?m.amount=a("errors.invalidAmount"):x>1e6&&(m.amount="Amount cannot exceed 1,000,000")}if(!o.settledAt)m.settledAt=a("errors.required");else{const x=new Date(o.settledAt),w=new Date,S=new Date;S.setFullYear(w.getFullYear()-1),x>w?m.settledAt="Settlement date cannot be in the future":x<S&&(m.settledAt="Settlement date cannot be more than a year ago")}return o.notes&&o.notes.length>500&&(m.notes="Notes must be less than 500 characters"),d(m),Object.keys(m).length===0},f=m=>{if(m.preventDefault(),!h())return;const x={fromId:o.fromId,toId:o.toId,amount:parseFloat(o.amount),currency:t,notes:o.notes.trim(),settledAt:new Date(o.settledAt)};s(x)},p=(m,x)=>{l(w=>({...w,[m]:x})),c[m]&&d(w=>({...w,[m]:""}))},y=m=>{const x=e.find(w=>w.id===m);return x?x.name:"Unknown"},g=e.filter(m=>m.id!==o.fromId),b=e.filter(m=>m.id!==o.toId);return u.jsxs(R.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:f,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center",children:[u.jsx(Nt,{className:"w-5 h-5 mr-2"}),"Settlement Details"]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.jsx(ke,{className:"w-4 h-4 inline mr-1"}),"Who is paying? *"]}),u.jsxs("select",{value:o.fromId,onChange:m=>p("fromId",m.target.value),disabled:i||n&&n.fromId,className:`input ${c.fromId?"border-danger-300 dark:border-danger-600":""}`,children:[u.jsx("option",{value:"",children:"Select person paying"}),b.map(m=>u.jsx("option",{value:m.id,children:m.name},m.id))]}),c.fromId&&u.jsx("p",{className:"text-sm text-danger-600 dark:text-danger-400 mt-1",children:c.fromId})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[u.jsx(ke,{className:"w-4 h-4 inline mr-1"}),"Who is being paid? *"]}),u.jsxs("select",{value:o.toId,onChange:m=>p("toId",m.target.value),disabled:i||n&&n.toId,className:`input ${c.toId?"border-danger-300 dark:border-danger-600":""}`,children:[u.jsx("option",{value:"",children:"Select person being paid"}),g.map(m=>u.jsx("option",{value:m.id,children:m.name},m.id))]}),c.toId&&u.jsx("p",{className:"text-sm text-danger-600 dark:text-danger-400 mt-1",children:c.toId})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Re,{label:"Settlement Amount",type:"number",step:"0.01",min:"0",value:o.amount,onChange:m=>p("amount",m.target.value),error:c.amount,required:!0,placeholder:"0.00",disabled:i||n&&n.amount,icon:u.jsx(Nt,{className:"w-4 h-4"}),iconPosition:"left",helperText:`Amount in ${t}`}),u.jsx(Re,{label:"Settlement Date",type:"date",value:o.settledAt,onChange:m=>p("settledAt",m.target.value),error:c.settledAt,required:!0,disabled:i,icon:u.jsx(Xt,{className:"w-4 h-4"}),iconPosition:"left"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[u.jsx(ya,{className:"w-4 h-4 inline mr-1"}),"Settlement Notes",u.jsxs("span",{className:"text-gray-400 ml-1",children:["(",a("common.optional"),")"]})]}),u.jsx("textarea",{value:o.notes,onChange:m=>p("notes",m.target.value),placeholder:"Add any notes about this settlement (e.g., payment method, reference number)",rows:3,disabled:i,className:`input resize-none ${c.notes?"border-danger-300 dark:border-danger-600":""}`,maxLength:500}),c.notes&&u.jsx("p",{className:"text-sm text-danger-600 dark:text-danger-400 mt-1",children:c.notes}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[o.notes.length,"/500 characters"]})]})]}),o.fromId&&o.toId&&o.amount&&u.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"card p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",children:[u.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100 mb-2",children:"Settlement Summary"}),u.jsxs("p",{className:"text-green-800 dark:text-green-200",children:[u.jsx("span",{className:"font-medium",children:y(o.fromId)})," ","pays"," ",u.jsx("span",{className:"font-medium",children:re(parseFloat(o.amount)||0,t)})," ","to"," ",u.jsx("span",{className:"font-medium",children:y(o.toId)})]})]}),u.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[u.jsx(z,{type:"button",variant:"secondary",onClick:r,disabled:i,className:"flex-1",children:a("common.cancel")}),u.jsx(z,{type:"submit",loading:i,className:"flex-1",children:"Record Settlement"})]})]})},e4=()=>{const{t:e}=Ve(),t=ps(),{getCurrentGroup:n,getGroupParticipants:s,getGroupDebts:r,addSettlement:i,isLoading:a,groups:o,setCurrentGroupId:l}=We(),[c,d]=N.useState([]),[h,f]=N.useState(null),[p,y]=N.useState(!1);N.useEffect(()=>{const A=JSON.parse(localStorage.getItem("whatsappReminders")||"[]").filter(L=>new Date(L.scheduledFor)>new Date);d(A)},[]);const g=n();Ct.useEffect(()=>{!g&&o.length>0&&l(o[0].id)},[g,o,l]);const b=g?s(g.id):[],v=g?r(g.id):[],m=Ff(),x=v.reduce((C,A)=>C+A.amount,0),w=new Set(v.map(C=>C.fromId)).size,S=new Set(v.map(C=>C.toId)).size,_=async C=>{try{await i({...C,groupId:g.id}),f(null),y(!1)}catch(A){console.error("Failed to settle debt:",A)}},k=C=>{f(C),y(!0)},j=C=>{var W,U,X;d(T=>[...T,C]);const A=JSON.parse(localStorage.getItem("whatsappReminders")||"[]"),L={id:C.id,contact:{name:((W=b.find(T=>T.id===C.fromId))==null?void 0:W.name)||"Unknown",phone:((U=b.find(T=>T.id===C.fromId))==null?void 0:U.phone)||""},message:C.message,scheduledFor:C.scheduledFor.toISOString(),created:new Date().toISOString(),debtInfo:{fromId:C.fromId,toId:C.toId,amount:C.amount,currency:C.currency}};A.push(L),localStorage.setItem("whatsappReminders",JSON.stringify(A));const $=C.scheduledFor.getTime()-Date.now();$>0&&setTimeout(()=>{var E,M;const T=JSON.parse(localStorage.getItem("whatsappReminders")||"[]");if(T.find(O=>O.id===C.id)&&C.whatsappEnabled){const O=((E=b.find(I=>I.id===C.fromId))==null?void 0:E.name)||"Unknown",D=(M=b.find(I=>I.id===C.fromId))==null?void 0:M.phone;if(D){const I=D.replace(/[^\d+]/g,""),V=encodeURIComponent(C.message),B=`https://wa.me/${I}?text=${V}`;window.open(B,"_blank");const J=T.filter(ie=>ie.id!==C.id);localStorage.setItem("whatsappReminders",JSON.stringify(J)),"Notification"in window&&Notification.permission==="granted"&&new Notification("WhatsApp Reminder Sent",{body:`Reminder sent to ${O}`,icon:"/favicon.ico"})}}d(O=>O.filter(D=>D.id!==C.id))},$);const q=((X=b.find(T=>T.id===C.fromId))==null?void 0:X.name)||"Unknown",Y=C.scheduledFor.toLocaleString();alert(` Reminder scheduled for ${q} on ${Y}`)};return g?u.jsxs("div",{className:"max-w-6xl mx-auto space-y-4 sm:space-y-6 px-4 sm:px-6 lg:px-8",children:[u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100 truncate",children:e("debts.title")}),u.jsxs("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 truncate",children:["Settle debts in ",u.jsx("span",{className:"font-medium",children:g.name})]})]}),v.length>0&&u.jsxs(z,{onClick:()=>y(!0),icon:u.jsx(pA,{className:"w-4 h-4"}),className:"w-full sm:w-auto",children:[u.jsx("span",{className:"sm:hidden",children:"Record Settlement"}),u.jsx("span",{className:"hidden sm:inline",children:"Record Settlement"})]})]}),u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[u.jsx("div",{className:"card p-4 sm:p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 dark:bg-orange-900 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(Gs,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})}),u.jsxs("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:[u.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Total Outstanding"}),u.jsx("p",{className:"text-lg sm:text-2xl font-semibold text-gray-900 dark:text-gray-100 truncate",children:re(x,m.code)})]})]})}),u.jsx("div",{className:"card p-4 sm:p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(ke,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600 dark:text-red-400"})}),u.jsxs("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:[u.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"People Who Owe"}),u.jsx("p",{className:"text-lg sm:text-2xl font-semibold text-gray-900 dark:text-gray-100",children:w})]})]})}),u.jsx("div",{className:"card p-4 sm:p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(Hs,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600 dark:text-green-400"})}),u.jsxs("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:[u.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"People Owed"}),u.jsx("p",{className:"text-lg sm:text-2xl font-semibold text-gray-900 dark:text-gray-100",children:S})]})]})}),u.jsx("div",{className:"card p-4 sm:p-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(sn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400"})}),u.jsxs("div",{className:"ml-3 sm:ml-4 min-w-0 flex-1",children:[u.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400 truncate",children:"Active Reminders"}),u.jsx("p",{className:"text-lg sm:text-2xl font-semibold text-gray-900 dark:text-gray-100",children:c.length})]})]})})]}),v.length>0?u.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[u.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Settlement Plan"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:"Optimized to minimize transactions"})]}),u.jsx(Be,{children:v.map((C,A)=>u.jsx(JT,{debt:C,participants:b,currency:m.code,onSettle:()=>k(C),onReminderSet:j,delay:A*.1},`${C.fromId}-${C.toId}`))})]}):u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center py-8 sm:py-12 px-4",children:[u.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Hs,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600 dark:text-green-400"})}),u.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:e("debts.noDebts")}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto",children:"Everyone is settled up! No outstanding debts in this group."}),u.jsx(z,{onClick:()=>t("/expenses"),icon:u.jsx(Nt,{className:"w-4 h-4"}),className:"w-full sm:w-auto",children:"Add New Expense"})]}),u.jsx(xt,{isOpen:p,onClose:()=>{y(!1),f(null)},title:"Record Settlement",size:"md",children:u.jsx(ZT,{participants:b,currency:m.code,initialDebt:h,onSubmit:_,onCancel:()=>{y(!1),f(null)},isLoading:a})})]}):u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Gs,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No Group Selected"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Select a group first to view debts and settlements"}),u.jsx(z,{onClick:()=>t("/groups"),icon:u.jsx(ke,{className:"w-4 h-4"}),children:"Go to Groups"})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Fa(e){return e+.5|0}const Un=(e,t,n)=>Math.max(Math.min(e,n),t);function Ni(e){return Un(Fa(e*2.55),0,255)}function rs(e){return Un(Fa(e*255),0,255)}function mn(e){return Un(Fa(e/2.55)/100,0,1)}function $g(e){return Un(Fa(e*100),0,100)}const At={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},eh=[..."0123456789ABCDEF"],t4=e=>eh[e&15],n4=e=>eh[(e&240)>>4]+eh[e&15],lo=e=>(e&240)>>4===(e&15),s4=e=>lo(e.r)&&lo(e.g)&&lo(e.b)&&lo(e.a);function r4(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&At[e[1]]*17,g:255&At[e[2]]*17,b:255&At[e[3]]*17,a:t===5?At[e[4]]*17:255}:(t===7||t===9)&&(n={r:At[e[1]]<<4|At[e[2]],g:At[e[3]]<<4|At[e[4]],b:At[e[5]]<<4|At[e[6]],a:t===9?At[e[7]]<<4|At[e[8]]:255})),n}const i4=(e,t)=>e<255?t(e):"";function a4(e){var t=s4(e)?t4:n4;return e?"#"+t(e.r)+t(e.g)+t(e.b)+i4(e.a,t):void 0}const o4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Qb(e,t,n){const s=t*Math.min(n,1-n),r=(i,a=(i+e/30)%12)=>n-s*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function l4(e,t,n){const s=(r,i=(r+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function c4(e,t,n){const s=Qb(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)s[r]*=1-t-n,s[r]+=t;return s}function u4(e,t,n,s,r){return e===r?(t-n)/s+(t<n?6:0):t===r?(n-e)/s+2:(e-t)/s+4}function zf(e){const n=e.r/255,s=e.g/255,r=e.b/255,i=Math.max(n,s,r),a=Math.min(n,s,r),o=(i+a)/2;let l,c,d;return i!==a&&(d=i-a,c=o>.5?d/(2-i-a):d/(i+a),l=u4(n,s,r,d,i),l=l*60+.5),[l|0,c||0,o]}function Bf(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(rs)}function Vf(e,t,n){return Bf(Qb,e,t,n)}function d4(e,t,n){return Bf(c4,e,t,n)}function h4(e,t,n){return Bf(l4,e,t,n)}function Jb(e){return(e%360+360)%360}function f4(e){const t=o4.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?Ni(+t[5]):rs(+t[5]));const r=Jb(+t[2]),i=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?s=d4(r,i,a):t[1]==="hsv"?s=h4(r,i,a):s=Vf(r,i,a),{r:s[0],g:s[1],b:s[2],a:n}}function p4(e,t){var n=zf(e);n[0]=Jb(n[0]+t),n=Vf(n),e.r=n[0],e.g=n[1],e.b=n[2]}function m4(e){if(!e)return;const t=zf(e),n=t[0],s=$g(t[1]),r=$g(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${r}%, ${mn(e.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const Wg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ug={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function g4(){const e={},t=Object.keys(Ug),n=Object.keys(Wg);let s,r,i,a,o;for(s=0;s<t.length;s++){for(a=o=t[s],r=0;r<n.length;r++)i=n[r],o=o.replace(i,Wg[i]);i=parseInt(Ug[a],16),e[o]=[i>>16&255,i>>8&255,i&255]}return e}let co;function y4(e){co||(co=g4(),co.transparent=[0,0,0,0]);const t=co[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const x4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function v4(e){const t=x4.exec(e);let n=255,s,r,i;if(t){if(t[7]!==s){const a=+t[7];n=t[8]?Ni(a):Un(a*255,0,255)}return s=+t[1],r=+t[3],i=+t[5],s=255&(t[2]?Ni(s):Un(s,0,255)),r=255&(t[4]?Ni(r):Un(r,0,255)),i=255&(t[6]?Ni(i):Un(i,0,255)),{r:s,g:r,b:i,a:n}}}function b4(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${mn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const ku=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ir=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function w4(e,t,n){const s=ir(mn(e.r)),r=ir(mn(e.g)),i=ir(mn(e.b));return{r:rs(ku(s+n*(ir(mn(t.r))-s))),g:rs(ku(r+n*(ir(mn(t.g))-r))),b:rs(ku(i+n*(ir(mn(t.b))-i))),a:e.a+n*(t.a-e.a)}}function uo(e,t,n){if(e){let s=zf(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=Vf(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function Zb(e,t){return e&&Object.assign(t||{},e)}function Hg(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=rs(e[3]))):(t=Zb(e,{r:0,g:0,b:0,a:1}),t.a=rs(t.a)),t}function k4(e){return e.charAt(0)==="r"?v4(e):f4(e)}class xa{constructor(t){if(t instanceof xa)return t;const n=typeof t;let s;n==="object"?s=Hg(t):n==="string"&&(s=r4(t)||y4(t)||k4(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=Zb(this._rgb);return t&&(t.a=mn(t.a)),t}set rgb(t){this._rgb=Hg(t)}rgbString(){return this._valid?b4(this._rgb):void 0}hexString(){return this._valid?a4(this._rgb):void 0}hslString(){return this._valid?m4(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,r=t.rgb;let i;const a=n===i?.5:n,o=2*a-1,l=s.a-r.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;i=1-c,s.r=255&c*s.r+i*r.r+.5,s.g=255&c*s.g+i*r.g+.5,s.b=255&c*s.b+i*r.b+.5,s.a=a*s.a+(1-a)*r.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=w4(this._rgb,t._rgb,n)),this}clone(){return new xa(this.rgb)}alpha(t){return this._rgb.a=rs(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Fa(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return uo(this._rgb,2,t),this}darken(t){return uo(this._rgb,2,-t),this}saturate(t){return uo(this._rgb,1,t),this}desaturate(t){return uo(this._rgb,1,-t),this}rotate(t){return p4(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function un(){}const S4=(()=>{let e=0;return()=>e++})();function ae(e){return e==null}function Te(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ne(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function et(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Jt(e,t){return et(e)?e:t}function ee(e,t){return typeof e>"u"?t:e}const j4=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,ew=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function me(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function oe(e,t,n,s){let r,i,a;if(Te(e))for(i=e.length,r=0;r<i;r++)t.call(n,e[r],r);else if(ne(e))for(a=Object.keys(e),i=a.length,r=0;r<i;r++)t.call(n,e[a[r]],a[r])}function Tl(e,t){let n,s,r,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(r=e[n],i=t[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Ml(e){if(Te(e))return e.map(Ml);if(ne(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let r=0;for(;r<s;++r)t[n[r]]=Ml(e[n[r]]);return t}return e}function tw(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function N4(e,t,n,s){if(!tw(e))return;const r=t[e],i=n[e];ne(r)&&ne(i)?va(r,i,s):t[e]=Ml(i)}function va(e,t,n){const s=Te(t)?t:[t],r=s.length;if(!ne(e))return e;n=n||{};const i=n.merger||N4;let a;for(let o=0;o<r;++o){if(a=s[o],!ne(a))continue;const l=Object.keys(a);for(let c=0,d=l.length;c<d;++c)i(l[c],e,a,n)}return e}function Wi(e,t){return va(e,t,{merger:C4})}function C4(e,t,n){if(!tw(e))return;const s=t[e],r=n[e];ne(s)&&ne(r)?Wi(s,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ml(r))}const Gg={"":e=>e,x:e=>e.x,y:e=>e.y};function P4(e){const t=e.split("."),n=[];let s="";for(const r of t)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function _4(e){const t=P4(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function Ys(e,t){return(Gg[t]||(Gg[t]=_4(t)))(e)}function $f(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ba=e=>typeof e<"u",cs=e=>typeof e=="function",Kg=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function E4(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const le=Math.PI,be=2*le,A4=be+le,Dl=Number.POSITIVE_INFINITY,T4=le/180,Ie=le/2,xs=le/4,Yg=le*2/3,nw=Math.log10,cn=Math.sign;function Ui(e,t,n){return Math.abs(e-t)<n}function qg(e){const t=Math.round(e);e=Ui(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(nw(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function M4(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((r,i)=>r-i).pop(),t}function D4(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function wa(e){return!D4(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function R4(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function I4(e,t,n){let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function vn(e){return e*(le/180)}function L4(e){return e*(180/le)}function Xg(e){if(!et(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function sw(e,t){const n=t.x-e.x,s=t.y-e.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*le&&(i+=be),{angle:i,distance:r}}function th(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function O4(e,t){return(e-t+A4)%be-le}function bt(e){return(e%be+be)%be}function ka(e,t,n,s){const r=bt(e),i=bt(t),a=bt(n),o=bt(i-r),l=bt(a-r),c=bt(r-i),d=bt(r-a);return r===i||r===a||s&&i===a||o>l&&c<d}function Qe(e,t,n){return Math.max(t,Math.min(n,e))}function F4(e){return Qe(e,-32768,32767)}function bn(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function Wf(e,t,n){n=n||(a=>e[a]<t);let s=e.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const Ds=(e,t,n,s)=>Wf(e,n,s?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),z4=(e,t,n)=>Wf(e,n,s=>e[s][t]>=n);function B4(e,t,n){let s=0,r=e.length;for(;s<r&&e[s]<t;)s++;for(;r>s&&e[r-1]>n;)r--;return s>0||r<e.length?e.slice(s,r):e}const rw=["push","pop","shift","splice","unshift"];function V4(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),rw.forEach(n=>{const s="_onData"+$f(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...i){const a=r.apply(this,i);return e._chartjs.listeners.forEach(o=>{typeof o[s]=="function"&&o[s](...i)}),a}})})}function Qg(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(t);r!==-1&&s.splice(r,1),!(s.length>0)&&(rw.forEach(i=>{delete e[i]}),delete e._chartjs)}function iw(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const aw=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function ow(e,t){let n=[],s=!1;return function(...r){n=r,s||(s=!0,aw.call(window,()=>{s=!1,e.apply(t,n)}))}}function $4(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const Uf=e=>e==="start"?"left":e==="end"?"right":"center",qe=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,W4=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t;function U4(e,t,n){const s=t.length;let r=0,i=s;if(e._sorted){const{iScale:a,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=a.axis,{min:h,max:f,minDefined:p,maxDefined:y}=a.getUserBounds();if(p){if(r=Math.min(Ds(l,d,h).lo,n?s:Ds(t,d,a.getPixelForValue(h)).lo),c){const g=l.slice(0,r+1).reverse().findIndex(b=>!ae(b[o.axis]));r-=Math.max(0,g)}r=Qe(r,0,s-1)}if(y){let g=Math.max(Ds(l,a.axis,f,!0).hi+1,n?0:Ds(t,d,a.getPixelForValue(f),!0).hi+1);if(c){const b=l.slice(g-1).findIndex(v=>!ae(v[o.axis]));g+=Math.max(0,b)}i=Qe(g,r,s)-r}else i=s-r}return{start:r,count:i}}function H4(e){const{xScale:t,yScale:n,_scaleRanges:s}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return e._scaleRanges=r,!0;const i=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}const ho=e=>e===0||e===1,Jg=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*be/n)),Zg=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*be/n)+1,Hi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ie)+1,easeOutSine:e=>Math.sin(e*Ie),easeInOutSine:e=>-.5*(Math.cos(le*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>ho(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ho(e)?e:Jg(e,.075,.3),easeOutElastic:e=>ho(e)?e:Zg(e,.075,.3),easeInOutElastic(e){return ho(e)?e:e<.5?.5*Jg(e*2,.1125,.45):.5+.5*Zg(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Hi.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Hi.easeInBounce(e*2)*.5:Hi.easeOutBounce(e*2-1)*.5+.5};function Hf(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function e0(e){return Hf(e)?e:new xa(e)}function Su(e){return Hf(e)?e:new xa(e).saturate(.5).darken(.1).hexString()}const G4=["x","y","borderWidth","radius","tension"],K4=["color","borderColor","backgroundColor"];function Y4(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:K4},numbers:{type:"number",properties:G4}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function q4(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const t0=new Map;function X4(e,t){t=t||{};const n=e+JSON.stringify(t);let s=t0.get(n);return s||(s=new Intl.NumberFormat(e,t),t0.set(n,s)),s}function Gf(e,t,n){return X4(t,n).format(e)}const Q4={values(e){return Te(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let r,i=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),i=J4(e,n)}const a=nw(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Gf(e,s,l)}};function J4(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var lw={formatters:Q4};function Z4(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const qs=Object.create(null),nh=Object.create(null);function Gi(e,t){if(!t)return e;const n=t.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];e=e[i]||(e[i]=Object.create(null))}return e}function ju(e,t,n){return typeof t=="string"?va(Gi(e,t),n):va(Gi(e,""),t)}class eM{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>Su(r.backgroundColor),this.hoverBorderColor=(s,r)=>Su(r.borderColor),this.hoverColor=(s,r)=>Su(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return ju(this,t,n)}get(t){return Gi(this,t)}describe(t,n){return ju(nh,t,n)}override(t,n){return ju(qs,t,n)}route(t,n,s,r){const i=Gi(this,t),a=Gi(this,s),o="_"+n;Object.defineProperties(i,{[o]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[r];return ne(l)?Object.assign({},c,l):ee(l,c)},set(l){this[o]=l}}})}apply(t){t.forEach(n=>n(this))}}var _e=new eM({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Y4,q4,Z4]);function tM(e){return!e||ae(e.size)||ae(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function n0(e,t,n,s,r){let i=t[r];return i||(i=t[r]=e.measureText(r).width,n.push(r)),i>s&&(s=i),s}function vs(e,t,n){const s=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*s)/s+r}function s0(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function sh(e,t,n,s){cw(e,t,n,s,null)}function cw(e,t,n,s,r){let i,a,o,l,c,d,h,f;const p=t.pointStyle,y=t.rotation,g=t.radius;let b=(y||0)*T4;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(b),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:r?e.ellipse(n,s,r/2,g,0,0,be):e.arc(n,s,g,0,be),e.closePath();break;case"triangle":d=r?r/2:g,e.moveTo(n+Math.sin(b)*d,s-Math.cos(b)*g),b+=Yg,e.lineTo(n+Math.sin(b)*d,s-Math.cos(b)*g),b+=Yg,e.lineTo(n+Math.sin(b)*d,s-Math.cos(b)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,a=Math.cos(b+xs)*l,h=Math.cos(b+xs)*(r?r/2-c:l),o=Math.sin(b+xs)*l,f=Math.sin(b+xs)*(r?r/2-c:l),e.arc(n-h,s-o,c,b-le,b-Ie),e.arc(n+f,s-a,c,b-Ie,b),e.arc(n+h,s+o,c,b,b+Ie),e.arc(n-f,s+a,c,b+Ie,b+le),e.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*g,d=r?r/2:l,e.rect(n-d,s-l,2*d,2*l);break}b+=xs;case"rectRot":h=Math.cos(b)*(r?r/2:g),a=Math.cos(b)*g,o=Math.sin(b)*g,f=Math.sin(b)*(r?r/2:g),e.moveTo(n-h,s-o),e.lineTo(n+f,s-a),e.lineTo(n+h,s+o),e.lineTo(n-f,s+a),e.closePath();break;case"crossRot":b+=xs;case"cross":h=Math.cos(b)*(r?r/2:g),a=Math.cos(b)*g,o=Math.sin(b)*g,f=Math.sin(b)*(r?r/2:g),e.moveTo(n-h,s-o),e.lineTo(n+h,s+o),e.moveTo(n+f,s-a),e.lineTo(n-f,s+a);break;case"star":h=Math.cos(b)*(r?r/2:g),a=Math.cos(b)*g,o=Math.sin(b)*g,f=Math.sin(b)*(r?r/2:g),e.moveTo(n-h,s-o),e.lineTo(n+h,s+o),e.moveTo(n+f,s-a),e.lineTo(n-f,s+a),b+=xs,h=Math.cos(b)*(r?r/2:g),a=Math.cos(b)*g,o=Math.sin(b)*g,f=Math.sin(b)*(r?r/2:g),e.moveTo(n-h,s-o),e.lineTo(n+h,s+o),e.moveTo(n+f,s-a),e.lineTo(n-f,s+a);break;case"line":a=r?r/2:Math.cos(b)*g,o=Math.sin(b)*g,e.moveTo(n-a,s-o),e.lineTo(n+a,s+o);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(b)*(r?r/2:g),s+Math.sin(b)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Sa(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function vc(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function bc(e){e.restore()}function nM(e,t,n,s,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else r==="after"!=!!s?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function sM(e,t,n,s){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function rM(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ae(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function iM(e,t,n,s,r){if(r.strikethrough||r.underline){const i=e.measureText(s),a=t-i.actualBoundingBoxLeft,o=t+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,d=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(a,d),e.lineTo(o,d),e.stroke()}}function aM(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function ja(e,t,n,s,r,i={}){const a=Te(t)?t:[t],o=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(e.save(),e.font=r.string,rM(e,i),l=0;l<a.length;++l)c=a[l],i.backdrop&&aM(e,i.backdrop),o&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),ae(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,n,s,i.maxWidth)),e.fillText(c,n,s,i.maxWidth),iM(e,n,s,c,i),s+=Number(r.lineHeight);e.restore()}function Rl(e,t){const{x:n,y:s,w:r,h:i,radius:a}=t;e.arc(n+a.topLeft,s+a.topLeft,a.topLeft,1.5*le,le,!0),e.lineTo(n,s+i-a.bottomLeft),e.arc(n+a.bottomLeft,s+i-a.bottomLeft,a.bottomLeft,le,Ie,!0),e.lineTo(n+r-a.bottomRight,s+i),e.arc(n+r-a.bottomRight,s+i-a.bottomRight,a.bottomRight,Ie,0,!0),e.lineTo(n+r,s+a.topRight),e.arc(n+r-a.topRight,s+a.topRight,a.topRight,0,-Ie,!0),e.lineTo(n+a.topLeft,s)}const oM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function cM(e,t){const n=(""+e).match(oM);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const uM=e=>+e||0;function Kf(e,t){const n={},s=ne(t),r=s?Object.keys(t):t,i=ne(e)?s?a=>ee(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of r)n[a]=uM(i(a));return n}function uw(e){return Kf(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Dr(e){return Kf(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Bt(e){const t=uw(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Je(e,t){e=e||{},t=t||_e.font;let n=ee(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=ee(e.style,t.style);s&&!(""+s).match(lM)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:ee(e.family,t.family),lineHeight:cM(ee(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:ee(e.weight,t.weight),string:""};return r.string=tM(r),r}function fo(e,t,n,s){let r,i,a;for(r=0,i=e.length;r<i;++r)if(a=e[r],a!==void 0&&a!==void 0)return a}function dM(e,t,n){const{min:s,max:r}=e,i=ew(t,(r-s)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(s,-Math.abs(i)),max:a(r,i)}}function tr(e,t){return Object.assign(Object.create(e),t)}function Yf(e,t=[""],n,s,r=()=>e[0]){const i=n||e;typeof s>"u"&&(s=pw("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:s,_getTarget:r,override:o=>Yf([o,...e],t,i,s)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete e[0][l],!0},get(o,l){return hw(o,l,()=>vM(l,t,e,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,l){return i0(o).includes(l)},ownKeys(o){return i0(o)},set(o,l,c){const d=o._storage||(o._storage=r());return o[l]=d[l]=c,delete o._keys,!0}})}function Gr(e,t,n,s){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:dw(e,s),setContext:i=>Gr(e,i,n,s),override:i=>Gr(e.override(i),t,n,s)};return new Proxy(r,{deleteProperty(i,a){return delete i[a],delete e[a],!0},get(i,a,o){return hw(i,a,()=>fM(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(i,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(i,a,o){return e[a]=o,delete i[a],!0}})}function dw(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:s,isScriptable:cs(n)?n:()=>n,isIndexable:cs(s)?s:()=>s}}const hM=(e,t)=>e?e+$f(t):t,qf=(e,t)=>ne(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function hw(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function fM(e,t,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:a}=e;let o=s[t];return cs(o)&&a.isScriptable(t)&&(o=pM(t,o,e,n)),Te(o)&&o.length&&(o=mM(t,o,e,a.isIndexable)),qf(t,o)&&(o=Gr(o,r,i&&i[t],a)),o}function pM(e,t,n,s){const{_proxy:r,_context:i,_subProxy:a,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(i,a||s);return o.delete(e),qf(e,l)&&(l=Xf(r._scopes,r,e,l)),l}function mM(e,t,n,s){const{_proxy:r,_context:i,_subProxy:a,_descriptors:o}=n;if(typeof i.index<"u"&&s(e))return t[i.index%t.length];if(ne(t[0])){const l=t,c=r._scopes.filter(d=>d!==l);t=[];for(const d of l){const h=Xf(c,r,e,d);t.push(Gr(h,i,a&&a[e],o))}}return t}function fw(e,t,n){return cs(e)?e(t,n):e}const gM=(e,t)=>e===!0?t:typeof e=="string"?Ys(t,e):void 0;function yM(e,t,n,s,r){for(const i of t){const a=gM(n,i);if(a){e.add(a);const o=fw(a._fallback,n,r);if(typeof o<"u"&&o!==n&&o!==s)return o}else if(a===!1&&typeof s<"u"&&n!==s)return null}return!1}function Xf(e,t,n,s){const r=t._rootScopes,i=fw(t._fallback,n,s),a=[...e,...r],o=new Set;o.add(s);let l=r0(o,a,n,i||n,s);return l===null||typeof i<"u"&&i!==n&&(l=r0(o,a,i,l,s),l===null)?!1:Yf(Array.from(o),[""],r,i,()=>xM(t,n,s))}function r0(e,t,n,s,r){for(;n;)n=yM(e,t,n,s,r);return n}function xM(e,t,n){const s=e._getTarget();t in s||(s[t]={});const r=s[t];return Te(r)&&ne(n)?n:r||{}}function vM(e,t,n,s){let r;for(const i of t)if(r=pw(hM(i,e),n),typeof r<"u")return qf(e,r)?Xf(n,s,e,r):r}function pw(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s<"u")return s}}function i0(e){let t=e._keys;return t||(t=e._keys=bM(e._scopes)),t}function bM(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(s);return Array.from(t)}const wM=Number.EPSILON||1e-14,Kr=(e,t)=>t<e.length&&!e[t].skip&&e[t],mw=e=>e==="x"?"y":"x";function kM(e,t,n,s){const r=e.skip?t:e,i=t,a=n.skip?t:n,o=th(i,r),l=th(a,i);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=s*c,f=s*d;return{previous:{x:i.x-h*(a.x-r.x),y:i.y-h*(a.y-r.y)},next:{x:i.x+f*(a.x-r.x),y:i.y+f*(a.y-r.y)}}}function SM(e,t,n){const s=e.length;let r,i,a,o,l,c=Kr(e,0);for(let d=0;d<s-1;++d)if(l=c,c=Kr(e,d+1),!(!l||!c)){if(Ui(t[d],0,wM)){n[d]=n[d+1]=0;continue}r=n[d]/t[d],i=n[d+1]/t[d],o=Math.pow(r,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),n[d]=r*a*t[d],n[d+1]=i*a*t[d])}}function jM(e,t,n="x"){const s=mw(n),r=e.length;let i,a,o,l=Kr(e,0);for(let c=0;c<r;++c){if(a=o,o=l,l=Kr(e,c+1),!o)continue;const d=o[n],h=o[s];a&&(i=(d-a[n])/3,o[`cp1${n}`]=d-i,o[`cp1${s}`]=h-i*t[c]),l&&(i=(l[n]-d)/3,o[`cp2${n}`]=d+i,o[`cp2${s}`]=h+i*t[c])}}function NM(e,t="x"){const n=mw(t),s=e.length,r=Array(s).fill(0),i=Array(s);let a,o,l,c=Kr(e,0);for(a=0;a<s;++a)if(o=l,l=c,c=Kr(e,a+1),!!l){if(c){const d=c[t]-l[t];r[a]=d!==0?(c[n]-l[n])/d:0}i[a]=o?c?cn(r[a-1])!==cn(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}SM(e,r,i),jM(e,i,t)}function po(e,t,n){return Math.max(Math.min(e,n),t)}function CM(e,t){let n,s,r,i,a,o=Sa(e[0],t);for(n=0,s=e.length;n<s;++n)a=i,i=o,o=n<s-1&&Sa(e[n+1],t),i&&(r=e[n],a&&(r.cp1x=po(r.cp1x,t.left,t.right),r.cp1y=po(r.cp1y,t.top,t.bottom)),o&&(r.cp2x=po(r.cp2x,t.left,t.right),r.cp2y=po(r.cp2y,t.top,t.bottom)))}function PM(e,t,n,s,r){let i,a,o,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")NM(e,r);else{let c=s?e[e.length-1]:e[0];for(i=0,a=e.length;i<a;++i)o=e[i],l=kM(c,o,e[Math.min(i+1,a-(s?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}t.capBezierPoints&&CM(e,n)}function Qf(){return typeof window<"u"&&typeof document<"u"}function Jf(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Il(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const wc=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function _M(e,t){return wc(e).getPropertyValue(t)}const EM=["top","right","bottom","left"];function Fs(e,t,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=EM[r];s[i]=parseFloat(e[t+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const AM=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function TM(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:r,offsetY:i}=s;let a=!1,o,l;if(AM(r,i,e.target))o=r,l=i;else{const c=t.getBoundingClientRect();o=s.clientX-c.left,l=s.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Cs(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,r=wc(n),i=r.boxSizing==="border-box",a=Fs(r,"padding"),o=Fs(r,"border","width"),{x:l,y:c,box:d}=TM(e,n),h=a.left+(d&&o.left),f=a.top+(d&&o.top);let{width:p,height:y}=t;return i&&(p-=a.width+o.width,y-=a.height+o.height),{x:Math.round((l-h)/p*n.width/s),y:Math.round((c-f)/y*n.height/s)}}function MM(e,t,n){let s,r;if(t===void 0||n===void 0){const i=e&&Jf(e);if(!i)t=e.clientWidth,n=e.clientHeight;else{const a=i.getBoundingClientRect(),o=wc(i),l=Fs(o,"border","width"),c=Fs(o,"padding");t=a.width-c.width-l.width,n=a.height-c.height-l.height,s=Il(o.maxWidth,i,"clientWidth"),r=Il(o.maxHeight,i,"clientHeight")}}return{width:t,height:n,maxWidth:s||Dl,maxHeight:r||Dl}}const mo=e=>Math.round(e*10)/10;function DM(e,t,n,s){const r=wc(e),i=Fs(r,"margin"),a=Il(r.maxWidth,e,"clientWidth")||Dl,o=Il(r.maxHeight,e,"clientHeight")||Dl,l=MM(e,t,n);let{width:c,height:d}=l;if(r.boxSizing==="content-box"){const f=Fs(r,"border","width"),p=Fs(r,"padding");c-=p.width+f.width,d-=p.height+f.height}return c=Math.max(0,c-i.width),d=Math.max(0,s?c/s:d-i.height),c=mo(Math.min(c,a,l.maxWidth)),d=mo(Math.min(d,o,l.maxHeight)),c&&!d&&(d=mo(c/2)),(t!==void 0||n!==void 0)&&s&&l.height&&d>l.height&&(d=l.height,c=mo(Math.floor(d*s))),{width:c,height:d}}function a0(e,t,n){const s=t||1,r=Math.floor(e.height*s),i=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||a.height!==r||a.width!==i?(e.currentDevicePixelRatio=s,a.height=r,a.width=i,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const RM=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Qf()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function o0(e,t){const n=_M(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Ps(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function IM(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:s==="middle"?n<.5?e.y:t.y:s==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function LM(e,t,n,s){const r={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},a=Ps(e,r,n),o=Ps(r,i,n),l=Ps(i,t,n),c=Ps(a,o,n),d=Ps(o,l,n);return Ps(c,d,n)}const OM=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},FM=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Rr(e,t,n){return e?OM(t,n):FM()}function gw(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function yw(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function xw(e){return e==="angle"?{between:ka,compare:O4,normalize:bt}:{between:bn,compare:(t,n)=>t-n,normalize:t=>t}}function l0({start:e,end:t,count:n,loop:s,style:r}){return{start:e%n,end:t%n,loop:s&&(t-e+1)%n===0,style:r}}function zM(e,t,n){const{property:s,start:r,end:i}=n,{between:a,normalize:o}=xw(s),l=t.length;let{start:c,end:d,loop:h}=e,f,p;if(h){for(c+=l,d+=l,f=0,p=l;f<p&&a(o(t[c%l][s]),r,i);++f)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:e.style}}function vw(e,t,n){if(!n)return[e];const{property:s,start:r,end:i}=n,a=t.length,{compare:o,between:l,normalize:c}=xw(s),{start:d,end:h,loop:f,style:p}=zM(e,t,n),y=[];let g=!1,b=null,v,m,x;const w=()=>l(r,x,v)&&o(r,x)!==0,S=()=>o(i,v)===0||l(i,x,v),_=()=>g||w(),k=()=>!g||S();for(let j=d,C=d;j<=h;++j)m=t[j%a],!m.skip&&(v=c(m[s]),v!==x&&(g=l(v,r,i),b===null&&_()&&(b=o(v,r)===0?j:C),b!==null&&k()&&(y.push(l0({start:b,end:j,loop:f,count:a,style:p})),b=null),C=j,x=v));return b!==null&&y.push(l0({start:b,end:h,loop:f,count:a,style:p})),y}function bw(e,t){const n=[],s=e.segments;for(let r=0;r<s.length;r++){const i=vw(s[r],e.points,t);i.length&&n.push(...i)}return n}function BM(e,t,n,s){let r=0,i=t-1;if(n&&!s)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(i+=r);i>r&&e[i%t].skip;)i--;return i%=t,{start:r,end:i}}function VM(e,t,n,s){const r=e.length,i=[];let a=t,o=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%r];c.skip||c.stop?o.skip||(s=!1,i.push({start:t%r,end:(l-1)%r,loop:s}),t=a=c.stop?l:null):(a=l,o.skip&&(t=l)),o=c}return a!==null&&i.push({start:t%r,end:a%r,loop:s}),i}function $M(e,t){const n=e.points,s=e.options.spanGaps,r=n.length;if(!r)return[];const i=!!e._loop,{start:a,end:o}=BM(n,r,i,s);if(s===!0)return c0(e,[{start:a,end:o,loop:i}],n,t);const l=o<a?o+r:o,c=!!e._fullLoop&&a===0&&o===r-1;return c0(e,VM(n,a,l,c),n,t)}function c0(e,t,n,s){return!s||!s.setContext||!n?t:WM(e,t,n,s)}function WM(e,t,n,s){const r=e._chart.getContext(),i=u0(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,l=n.length,c=[];let d=i,h=t[0].start,f=h;function p(y,g,b,v){const m=o?-1:1;if(y!==g){for(y+=l;n[y%l].skip;)y-=m;for(;n[g%l].skip;)g+=m;y%l!==g%l&&(c.push({start:y%l,end:g%l,loop:b,style:v}),d=v,h=g%l)}}for(const y of t){h=o?h:y.start;let g=n[h%l],b;for(f=h+1;f<=y.end;f++){const v=n[f%l];b=u0(s.setContext(tr(r,{type:"segment",p0:g,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:a}))),UM(b,d)&&p(h,f-1,y.loop,d),g=v,d=b}h<f-1&&p(h,f-1,y.loop,d)}return c}function u0(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function UM(e,t){if(!t)return!1;const n=[],s=function(r,i){return Hf(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function go(e,t,n){return e.options.clip?e[n]:t[n]}function HM(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:go(n,t,"left"),right:go(n,t,"right"),top:go(s,t,"top"),bottom:go(s,t,"bottom")}:t}function ww(e,t){const n=t._clip;if(n.disabled)return!1;const s=HM(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class GM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,r){const i=n.listeners[r],a=n.duration;i.forEach(o=>o({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(s-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=aw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let a=i.length-1,o=!1,l;for(;a>=0;--a)l=i[a],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),o=!0):(i[a]=i[i.length-1],i.pop());o&&(r.draw(),this._notify(r,s,t,"progress")),i.length||(s.running=!1,this._notify(r,s,t,"complete"),s.initial=!1),n+=i.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var dn=new GM;const d0="transparent",KM={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=e0(e||d0),r=s.valid&&e0(t||d0);return r&&r.valid?r.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class YM{constructor(t,n,s,r){const i=n[s];r=fo([t.to,r,i,t.from]);const a=fo([t.from,i,r]);this._active=!0,this._fn=t.fn||KM[t.type||typeof a],this._easing=Hi[t.easing]||Hi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,a=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=fo([t.to,n,r,t.from]),this._from=fo([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,r=this._prop,i=this._from,a=this._loop,o=this._to;let l;if(this._active=i!==o&&(a||n<s),!this._active){this._target[r]=o,this._notify(!0);return}if(n<0){this._target[r]=i;return}l=n/s%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(i,o,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class kw{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ne(t))return;const n=Object.keys(_e.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const i=t[r];if(!ne(i))return;const a={};for(const o of n)a[o]=i[o];(Te(i.properties)&&i.properties||[r]).forEach(o=>{(o===r||!s.has(o))&&s.set(o,a)})})}_animateOptions(t,n){const s=n.options,r=XM(t,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&qM(t.options.$animations,s).then(()=>{t.options=s},()=>{}),i}_createAnimations(t,n){const s=this._properties,r=[],i=t.$animations||(t.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(t,n));continue}const d=n[c];let h=i[c];const f=s.get(c);if(h)if(f&&h.active()){h.update(f,d,o);continue}else h.cancel();if(!f||!f.duration){t[c]=d;continue}i[c]=h=new YM(f,t,c,d),r.push(h)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return dn.add(this._chart,s),!0}}function qM(e,t){const n=[],s=Object.keys(t);for(let r=0;r<s.length;r++){const i=e[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function XM(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function h0(e,t){const n=e&&e.options||{},s=n.reverse,r=n.min===void 0?t:0,i=n.max===void 0?t:0;return{start:s?i:r,end:s?r:i}}function QM(e,t,n){if(n===!1)return!1;const s=h0(e,n),r=h0(t,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function JM(e){let t,n,s,r;return ne(e)?(t=e.top,n=e.right,s=e.bottom,r=e.left):t=n=s=r=e,{top:t,right:n,bottom:s,left:r,disabled:e===!1}}function Sw(e,t){const n=[],s=e._getSortedDatasetMetas(t);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function f0(e,t,n,s={}){const r=e.keys,i=s.mode==="single";let a,o,l,c;if(t===null)return;let d=!1;for(a=0,o=r.length;a<o;++a){if(l=+r[a],l===n){if(d=!0,s.all)continue;break}c=e.values[l],et(c)&&(i||t===0||cn(t)===cn(c))&&(t+=c)}return!d&&!s.all?0:t}function ZM(e,t){const{iScale:n,vScale:s}=t,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",a=Object.keys(e),o=new Array(a.length);let l,c,d;for(l=0,c=a.length;l<c;++l)d=a[l],o[l]={[r]:d,[i]:e[d]};return o}function Nu(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function eD(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function tD(e){const{min:t,max:n,minDefined:s,maxDefined:r}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function nD(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function p0(e,t,n,s){for(const r of t.getMatchingVisibleMetas(s).reverse()){const i=e[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function m0(e,t){const{chart:n,_cachedMeta:s}=e,r=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:o}=s,l=i.axis,c=a.axis,d=eD(i,a,s),h=t.length;let f;for(let p=0;p<h;++p){const y=t[p],{[l]:g,[c]:b}=y,v=y._stacks||(y._stacks={});f=v[c]=nD(r,d,g),f[o]=b,f._top=p0(f,a,!0,s.type),f._bottom=p0(f,a,!1,s.type);const m=f._visualValues||(f._visualValues={});m[o]=b}}function Cu(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function sD(e,t){return tr(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function rD(e,t,n){return tr(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function hi(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const r of t){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const Pu=e=>e==="reset"||e==="none",g0=(e,t)=>t?e:Object.assign({},e),iD=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Sw(n,!0),values:null};class zs{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Nu(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&hi(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(h,f,p,y)=>h==="x"?f:h==="r"?y:p,i=n.xAxisID=ee(s.xAxisID,Cu(t,"x")),a=n.yAxisID=ee(s.yAxisID,Cu(t,"y")),o=n.rAxisID=ee(s.rAxisID,Cu(t,"r")),l=n.indexAxis,c=n.iAxisID=r(l,i,a,o),d=n.vAxisID=r(l,a,i,o);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Qg(this._data,this),t._stacked&&hi(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(ne(n)){const r=this._cachedMeta;this._data=ZM(n,r)}else if(s!==n){if(s){Qg(s,this);const r=this._cachedMeta;hi(r),r._parsed=[]}n&&Object.isExtensible(n)&&V4(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=Nu(n.vScale,n),n.stack!==s.stack&&(r=!0,hi(n),n.stack=s.stack),this._resyncElements(t),(r||i!==n._stacked)&&(m0(this,n._parsed),n._stacked=Nu(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:a}=s,o=i.axis;let l=t===0&&n===r.length?!0:s._sorted,c=t>0&&s._parsed[t-1],d,h,f;if(this._parsing===!1)s._parsed=r,s._sorted=!0,f=r;else{Te(r[t])?f=this.parseArrayData(s,r,t,n):ne(r[t])?f=this.parseObjectData(s,r,t,n):f=this.parsePrimitiveData(s,r,t,n);const p=()=>h[o]===null||c&&h[o]<c[o];for(d=0;d<n;++d)s._parsed[d+t]=h=f[d],l&&(p()&&(l=!1),c=h);s._sorted=l}a&&m0(this,f)}parsePrimitiveData(t,n,s,r){const{iScale:i,vScale:a}=t,o=i.axis,l=a.axis,c=i.getLabels(),d=i===a,h=new Array(r);let f,p,y;for(f=0,p=r;f<p;++f)y=f+s,h[f]={[o]:d||i.parse(c[y],y),[l]:a.parse(n[y],y)};return h}parseArrayData(t,n,s,r){const{xScale:i,yScale:a}=t,o=new Array(r);let l,c,d,h;for(l=0,c=r;l<c;++l)d=l+s,h=n[d],o[l]={x:i.parse(h[0],d),y:a.parse(h[1],d)};return o}parseObjectData(t,n,s,r){const{xScale:i,yScale:a}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let d,h,f,p;for(d=0,h=r;d<h;++d)f=d+s,p=n[f],c[d]={x:i.parse(Ys(p,o),f),y:a.parse(Ys(p,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const r=this.chart,i=this._cachedMeta,a=n[t.axis],o={keys:Sw(r,!0),values:n._stacks[t.axis]._visualValues};return f0(o,a,i.index,{mode:s})}updateRangeFromParsed(t,n,s,r){const i=s[n.axis];let a=i===null?NaN:i;const o=r&&s._stacks[n.axis];r&&o&&(r.values=o,a=f0(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&t===s.iScale,a=r.length,o=this._getOtherScale(t),l=iD(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=tD(o);let f,p;function y(){p=r[f];const g=p[o.axis];return!et(p[t.axis])||d>g||h<g}for(f=0;f<a&&!(!y()&&(this.updateRangeFromParsed(c,t,p,l),i));++f);if(i){for(f=a-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let r,i,a;for(r=0,i=n.length;r<i;++r)a=n[r][t.axis],et(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(t);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=JM(ee(this.options.clip,QM(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||r.length-o,c=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(t,i,o,l),d=o;d<o+l;++d){const h=r[d];h.hidden||(h.active&&c?a.push(h):h.draw(t,i))}for(d=0;d<a.length;++d)a[d].draw(t,i)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];i=a.$context||(a.$context=rD(this.getContext(),t,a)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=sD(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const r=n==="active",i=this._cachedDataOpts,a=t+"-"+n,o=i[a],l=this.enableOptionSharing&&ba(s);if(o)return g0(o,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,t),h=r?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),d),p=Object.keys(_e.elements[t]),y=()=>this.getContext(s,r,n),g=c.resolveNamedOptions(f,p,y,h);return g.$shared&&(g.$shared=l,i[a]=Object.freeze(g0(g,l))),g}_resolveAnimations(t,n,s){const r=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,o=i[a];if(o)return o;let l;if(r.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(t,s,n))}const c=new kw(r,l&&l.animations);return l&&l._cacheable&&(i[a]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Pu(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),r=this._sharedOptions,i=this.getSharedOptions(s),a=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:a}}updateElement(t,n,s,r){Pu(r)?Object.assign(t,s):this._resolveAnimations(n,r).update(t,s)}updateSharedOptions(t,n,s){t&&!Pu(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,r){t.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const r=s.length,i=n.length,a=Math.min(i,r);a&&this.parse(0,a),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,n,s=!0){const r=this._cachedMeta,i=r.data,a=t+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(i),o=t;o<a;++o)i[o]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,n),s&&this.updateElements(i,t,n,"reset")}updateElements(t,n,s,r){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(t,n);s._stacked&&hi(s,r)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,r]=t;this[n](s,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}G(zs,"defaults",{}),G(zs,"datasetElementType",null),G(zs,"dataElementType",null);function aD(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=iw(s.sort((r,i)=>r-i))}return e._cache.$bar}function oD(e){const t=e.iScale,n=aD(t,e.type);let s=t._length,r,i,a,o;const l=()=>{a===32767||a===-32768||(ba(o)&&(s=Math.min(s,Math.abs(a-o)||s)),o=a)};for(r=0,i=n.length;r<i;++r)a=t.getPixelForValue(n[r]),l();for(o=void 0,r=0,i=t.ticks.length;r<i;++r)a=t.getPixelForTick(r),l();return s}function lD(e,t,n,s){const r=n.barThickness;let i,a;return ae(r)?(i=t.min*n.categoryPercentage,a=n.barPercentage):(i=r*s,a=1),{chunk:i/s,ratio:a,start:t.pixels[e]-i/2}}function cD(e,t,n,s){const r=t.pixels,i=r[e];let a=e>0?r[e-1]:null,o=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;a===null&&(a=i-(o===null?t.end-t.start:o-i)),o===null&&(o=i+i-a);const c=i-(i-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/s,ratio:n.barPercentage,start:c}}function uD(e,t,n,s){const r=n.parse(e[0],s),i=n.parse(e[1],s),a=Math.min(r,i),o=Math.max(r,i);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:i,min:a,max:o}}function jw(e,t,n,s){return Te(e)?uD(e,t,n,s):t[n.axis]=n.parse(e,s),t}function y0(e,t,n,s){const r=e.iScale,i=e.vScale,a=r.getLabels(),o=r===i,l=[];let c,d,h,f;for(c=n,d=n+s;c<d;++c)f=t[c],h={},h[r.axis]=o||r.parse(a[c],c),l.push(jw(f,h,i,c));return l}function _u(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function dD(e,t,n){return e!==0?cn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function hD(e){let t,n,s,r,i;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:t,top:r,bottom:i}}function fD(e,t,n,s){let r=t.borderSkipped;const i={};if(!r){e.borderSkipped=i;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:d}=hD(e);r==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?r=c:(n._bottom||0)===s?r=d:(i[x0(d,a,o,l)]=!0,r=c)),i[x0(r,a,o,l)]=!0,e.borderSkipped=i}function x0(e,t,n,s){return s?(e=pD(e,t,n),e=v0(e,n,t)):e=v0(e,t,n),e}function pD(e,t,n){return e===t?n:e===n?t:e}function v0(e,t,n){return e==="start"?t:e==="end"?n:e}function mD(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Vo extends zs{parsePrimitiveData(t,n,s,r){return y0(t,n,s,r)}parseArrayData(t,n,s,r){return y0(t,n,s,r)}parseObjectData(t,n,s,r){const{iScale:i,vScale:a}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?o:l,d=a.axis==="x"?o:l,h=[];let f,p,y,g;for(f=s,p=s+r;f<p;++f)g=n[f],y={},y[i.axis]=i.parse(Ys(g,c),f),h.push(jw(Ys(g,d),y,a,f));return h}updateRangeFromParsed(t,n,s,r){super.updateRangeFromParsed(t,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(t),a=i._custom,o=_u(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,r){const i=r==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,r);for(let p=n;p<n+s;p++){const y=this.getParsed(p),g=i||ae(y[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,d),v=(y._stacks||{})[o.axis],m={horizontal:c,base:g.base,enableBorderRadius:!v||_u(y._custom)||a===v._top||a===v._bottom,x:c?g.head:b.center,y:c?b.center:g.head,height:c?b.size:Math.abs(g.size),width:c?Math.abs(g.size):b.size};f&&(m.options=h||this.resolveDataElementOptions(p,t[p].active?"active":r));const x=m.options||t[p].options;fD(m,x,v,a),mD(m,x,d.ratio),this.updateElement(t[p],p,m,r)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=s.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[s.axis],c=d=>{const h=d._parsed.find(p=>p[s.axis]===l),f=h&&h[d.vScale.axis];if(ae(f)||isNaN(f))return!0};for(const d of r)if(!(n!==void 0&&c(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[ee(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const r=this._getStacks(t,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,a;for(i=0,a=n.data.length;i<a;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const o=t.barThickness;return{min:o||oD(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:a}}=this,o=i||0,l=this.getParsed(t),c=l._custom,d=_u(c);let h=l[n.axis],f=0,p=s?this.applyStack(n,l,s):h,y,g;p!==h&&(f=p-h,p=h),d&&(h=c.barStart,p=c.barEnd-c.barStart,h!==0&&cn(h)!==cn(c.barEnd)&&(f=0),f+=h);const b=!ae(i)&&!d?i:f;let v=n.getPixelForValue(b);if(this.chart.getDataVisibility(t)?y=n.getPixelForValue(f+p):y=v,g=y-v,Math.abs(g)<a){g=dD(g,n,o)*a,h===o&&(v-=g/2);const m=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),w=Math.min(m,x),S=Math.max(m,x);v=Math.max(Math.min(v,S),w),y=v+g,s&&!d&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(y)-n.getValueForPixel(v))}if(v===n.getPixelForValue(o)){const m=cn(g)*n.getLineWidthForValue(o)/2;v+=m,g-=m}return{size:g,base:v,head:y,center:y+g/2}}_calculateBarIndexPixels(t,n){const s=n.scale,r=this.options,i=r.skipNull,a=ee(r.maxBarThickness,1/0);let o,l;const c=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(t):n.stackCount,h=r.barThickness==="flex"?cD(t,n,r,d*c):lD(t,n,r,d*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(ee(f,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0)+p;o=h.start+h.chunk*y+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else o=s.getPixelForValue(this.getParsed(t)[s.axis],t),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}G(Vo,"id","bar"),G(Vo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),G(Vo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function gD(e,t,n){let s=1,r=1,i=0,a=0;if(t<be){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),h=Math.cos(l),f=Math.sin(l),p=(x,w,S)=>ka(x,o,l,!0)?1:Math.max(w,w*n,S,S*n),y=(x,w,S)=>ka(x,o,l,!0)?-1:Math.min(w,w*n,S,S*n),g=p(0,c,h),b=p(Ie,d,f),v=y(le,c,h),m=y(le+Ie,d,f);s=(g-v)/2,r=(b-m)/2,i=-(g+v)/2,a=-(b+m)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:a}}class Ci extends zs{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=l=>+s[l];if(ne(s[t])){const{key:l="value"}=this._parsing;i=c=>+Ys(s[c],l)}let a,o;for(a=t,o=t+n;a<o;++a)r._parsed[a]=i(a)}}_getRotation(){return vn(this.options.rotation-90)}_getCircumference(){return vn(this.options.circumference)}_getRotationExtents(){let t=be,n=-be;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),a=r._getCircumference();t=Math.min(t,i),n=Math.max(n,i+a)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(s.width,s.height)-a)/2,0),l=Math.min(j4(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:y,offsetY:g}=gD(h,d,l),b=(s.width-a)/f,v=(s.height-a)/p,m=Math.max(Math.min(b,v)/2,0),x=ew(this.options.radius,m),w=Math.max(x*l,0),S=(x-w)/this._getVisibleDatasetWeightTotal();this.offsetX=y*x,this.offsetY=g*x,r.total=this.calculateTotal(),this.outerRadius=x-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(i,0,i.length,t)}_circumference(t,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/be)}updateElements(t,n,s,r){const i=r==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,d=(o.left+o.right)/2,h=(o.top+o.bottom)/2,f=i&&c.animateScale,p=f?0:this.innerRadius,y=f?0:this.outerRadius,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(n,r);let v=this._getRotation(),m;for(m=0;m<n;++m)v+=this._circumference(m,i);for(m=n;m<n+s;++m){const x=this._circumference(m,i),w=t[m],S={x:d+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+x,circumference:x,outerRadius:y,innerRadius:p};b&&(S.options=g||this.resolveDataElementOptions(m,w.active?"active":r)),v+=x,this.updateElement(w,m,S,r)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let s=0,r;for(r=0;r<n.length;r++){const i=t._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?be*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=Gf(n._parsed[t],s.options.locale);return{label:r[t]||"",value:i}}getMaxBorderWidth(t){let n=0;const s=this.chart;let r,i,a,o,l;if(!t){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){a=s.getDatasetMeta(r),t=a.data,o=a.controller;break}}if(!t)return 0;for(r=0,i=t.length;r<i;++r)l=o.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let s=0,r=t.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(t){return Math.max(ee(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}G(Ci,"id","doughnut"),G(Ci,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),G(Ci,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),G(Ci,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:r}}=t.legend.options;return n.labels.map((i,a)=>{const l=t.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class $o extends zs{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=U4(n,r,a);this._drawStart=o,this._drawCount=l,H4(n)&&(o=0,l=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:c},t),this.updateElements(r,o,l,t)}updateElements(t,n,s,r){const i=r==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,r),f=a.axis,p=o.axis,{spanGaps:y,segment:g}=this.options,b=wa(y)?y:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||r==="none",m=n+s,x=t.length;let w=n>0&&this.getParsed(n-1);for(let S=0;S<x;++S){const _=t[S],k=v?_:{};if(S<n||S>=m){k.skip=!0;continue}const j=this.getParsed(S),C=ae(j[p]),A=k[f]=a.getPixelForValue(j[f],S),L=k[p]=i||C?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,j,l):j[p],S);k.skip=isNaN(A)||isNaN(L)||C,k.stop=S>0&&Math.abs(j[f]-w[f])>b,g&&(k.parsed=j,k.raw=c.data[S]),h&&(k.options=d||this.resolveDataElementOptions(S,_.active?"active":r)),v||this.updateElement(_,S,k,r),w=j}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}G($o,"id","line"),G($o,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),G($o,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function bs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Zf{constructor(t){G(this,"options");this.options=t||{}}static override(t){Object.assign(Zf.prototype,t)}init(){}formats(){return bs()}parse(){return bs()}format(){return bs()}add(){return bs()}diff(){return bs()}startOf(){return bs()}endOf(){return bs()}}var yD={_date:Zf};function xD(e,t,n,s){const{controller:r,data:i,_sorted:a}=e,o=r._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&a&&i.length){const c=o._reversePixels?z4:Ds;if(s){if(r._sharedOptions){const d=i[0],h=typeof d.getRange=="function"&&d.getRange(t);if(h){const f=c(i,t,n-h),p=c(i,t,n+h);return{lo:f.lo,hi:p.hi}}}}else{const d=c(i,t,n);if(l){const{vScale:h}=r._cachedMeta,{_parsed:f}=e,p=f.slice(0,d.lo+1).reverse().findIndex(g=>!ae(g[h.axis]));d.lo-=Math.max(0,p);const y=f.slice(d.hi).findIndex(g=>!ae(g[h.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:i.length-1}}function kc(e,t,n,s,r){const i=e.getSortedVisibleDatasetMetas(),a=n[t];for(let o=0,l=i.length;o<l;++o){const{index:c,data:d}=i[o],{lo:h,hi:f}=xD(i[o],t,a,r);for(let p=h;p<=f;++p){const y=d[p];y.skip||s(y,c,p)}}}function vD(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,r){const i=t?Math.abs(s.x-r.x):0,a=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Eu(e,t,n,s,r){const i=[];return!r&&!e.isPointInArea(t)||kc(e,n,t,function(o,l,c){!r&&!Sa(o,e.chartArea,0)||o.inRange(t.x,t.y,s)&&i.push({element:o,datasetIndex:l,index:c})},!0),i}function bD(e,t,n,s){let r=[];function i(a,o,l){const{startAngle:c,endAngle:d}=a.getProps(["startAngle","endAngle"],s),{angle:h}=sw(a,{x:t.x,y:t.y});ka(h,c,d)&&r.push({element:a,datasetIndex:o,index:l})}return kc(e,n,t,i),r}function wD(e,t,n,s,r,i){let a=[];const o=vD(n);let l=Number.POSITIVE_INFINITY;function c(d,h,f){const p=d.inRange(t.x,t.y,r);if(s&&!p)return;const y=d.getCenterPoint(r);if(!(!!i||e.isPointInArea(y))&&!p)return;const b=o(t,y);b<l?(a=[{element:d,datasetIndex:h,index:f}],l=b):b===l&&a.push({element:d,datasetIndex:h,index:f})}return kc(e,n,t,c),a}function Au(e,t,n,s,r,i){return!i&&!e.isPointInArea(t)?[]:n==="r"&&!s?bD(e,t,n,r):wD(e,t,n,s,r,i)}function b0(e,t,n,s,r){const i=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return kc(e,n,t,(l,c,d)=>{l[a]&&l[a](t[n],r)&&(i.push({element:l,datasetIndex:c,index:d}),o=o||l.inRange(t.x,t.y,r))}),s&&!o?[]:i}var kD={modes:{index(e,t,n,s){const r=Cs(t,e),i=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Eu(e,r,i,s,a):Au(e,r,i,!1,s,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const d=o[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(e,t,n,s){const r=Cs(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Eu(e,r,i,s,a):Au(e,r,i,!1,s,a);if(o.length>0){const l=o[0].datasetIndex,c=e.getDatasetMeta(l).data;o=[];for(let d=0;d<c.length;++d)o.push({element:c[d],datasetIndex:l,index:d})}return o},point(e,t,n,s){const r=Cs(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;return Eu(e,r,i,s,a)},nearest(e,t,n,s){const r=Cs(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;return Au(e,r,i,n.intersect,s,a)},x(e,t,n,s){const r=Cs(t,e);return b0(e,r,"x",n.intersect,s)},y(e,t,n,s){const r=Cs(t,e);return b0(e,r,"y",n.intersect,s)}}};const Nw=["left","top","right","bottom"];function fi(e,t){return e.filter(n=>n.pos===t)}function w0(e,t){return e.filter(n=>Nw.indexOf(n.pos)===-1&&n.box.axis===t)}function pi(e,t){return e.sort((n,s)=>{const r=t?s:n,i=t?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function SD(e){const t=[];let n,s,r,i,a,o;for(n=0,s=(e||[]).length;n<s;++n)r=e[n],{position:i,options:{stack:a,stackWeight:o=1}}=r,t.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&i+a,stackWeight:o});return t}function jD(e){const t={};for(const n of e){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!Nw.includes(r))continue;const a=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return t}function ND(e,t){const n=jD(e),{vBoxMaxWidth:s,hBoxMaxHeight:r}=t;let i,a,o;for(i=0,a=e.length;i<a;++i){o=e[i];const{fullSize:l}=o.box,c=n[o.stack],d=c&&o.stackWeight/c.weight;o.horizontal?(o.width=d?d*s:l&&t.availableWidth,o.height=r):(o.width=s,o.height=d?d*r:l&&t.availableHeight)}return n}function CD(e){const t=SD(e),n=pi(t.filter(c=>c.box.fullSize),!0),s=pi(fi(t,"left"),!0),r=pi(fi(t,"right")),i=pi(fi(t,"top"),!0),a=pi(fi(t,"bottom")),o=w0(t,"x"),l=w0(t,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(l).concat(a).concat(o),chartArea:fi(t,"chartArea"),vertical:s.concat(r).concat(l),horizontal:i.concat(a).concat(o)}}function k0(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function Cw(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function PD(e,t,n,s){const{pos:r,box:i}=n,a=e.maxPadding;if(!ne(r)){n.size&&(e[r]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,e[r]+=n.size}i.getPadding&&Cw(a,i.getPadding());const o=Math.max(0,t.outerWidth-k0(a,e,"left","right")),l=Math.max(0,t.outerHeight-k0(a,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function _D(e){const t=e.maxPadding;function n(s){const r=Math.max(t[s]-e[s],0);return e[s]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function ED(e,t){const n=t.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{i[a]=Math.max(t[a],n[a])}),i}return s(e?["left","right"]:["top","bottom"])}function Pi(e,t,n,s){const r=[];let i,a,o,l,c,d;for(i=0,a=e.length,c=0;i<a;++i){o=e[i],l=o.box,l.update(o.width||t.w,o.height||t.h,ED(o.horizontal,t));const{same:h,other:f}=PD(t,n,o,s);c|=h&&r.length,d=d||f,l.fullSize||r.push(o)}return c&&Pi(r,t,n,s)||d}function yo(e,t,n,s,r){e.top=n,e.left=t,e.right=t+s,e.bottom=n+r,e.width=s,e.height=r}function S0(e,t,n,s){const r=n.padding;let{x:i,y:a}=t;for(const o of e){const l=o.box,c=s[o.stack]||{placed:0,weight:1},d=o.stackWeight/c.weight||1;if(o.horizontal){const h=t.w*d,f=c.size||l.height;ba(c.start)&&(a=c.start),l.fullSize?yo(l,r.left,a,n.outerWidth-r.right-r.left,f):yo(l,t.left+c.placed,a,h,f),c.start=a,c.placed+=h,a=l.bottom}else{const h=t.h*d,f=c.size||l.width;ba(c.start)&&(i=c.start),l.fullSize?yo(l,i,r.top,f,n.outerHeight-r.bottom-r.top):yo(l,i,t.top+c.placed,f,h),c.start=i,c.placed+=h,i=l.right}}t.x=i,t.y=a}var Lt={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const r=Bt(e.options.layout.padding),i=Math.max(t-r.width,0),a=Math.max(n-r.height,0),o=CD(e.boxes),l=o.vertical,c=o.horizontal;oe(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=l.reduce((g,b)=>b.box.options&&b.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),f=Object.assign({},r);Cw(f,Bt(s));const p=Object.assign({maxPadding:f,w:i,h:a,x:r.left,y:r.top},r),y=ND(l.concat(c),h);Pi(o.fullSize,p,h,y),Pi(l,p,h,y),Pi(c,p,h,y)&&Pi(l,p,h,y),_D(p),S0(o.leftAndTop,p,h,y),p.x+=p.w,p.y+=p.h,S0(o.rightAndBottom,p,h,y),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},oe(o.chartArea,g=>{const b=g.box;Object.assign(b,e.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Pw{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,r){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(t){return!0}updateConfig(t){}}class AD extends Pw{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Wo="$chartjs",TD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},j0=e=>e===null||e==="";function MD(e,t){const n=e.style,s=e.getAttribute("height"),r=e.getAttribute("width");if(e[Wo]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",j0(r)){const i=o0(e,"width");i!==void 0&&(e.width=i)}if(j0(s))if(e.style.height==="")e.height=e.width/(t||2);else{const i=o0(e,"height");i!==void 0&&(e.height=i)}return e}const _w=RM?{passive:!0}:!1;function DD(e,t,n){e&&e.addEventListener(t,n,_w)}function RD(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,_w)}function ID(e,t){const n=TD[e.type]||e.type,{x:s,y:r}=Cs(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Ll(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function LD(e,t,n){const s=e.canvas,r=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||Ll(o.addedNodes,s),a=a&&!Ll(o.removedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function OD(e,t,n){const s=e.canvas,r=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||Ll(o.removedNodes,s),a=a&&!Ll(o.addedNodes,s);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Na=new Map;let N0=0;function Ew(){const e=window.devicePixelRatio;e!==N0&&(N0=e,Na.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function FD(e,t){Na.size||window.addEventListener("resize",Ew),Na.set(e,t)}function zD(e){Na.delete(e),Na.size||window.removeEventListener("resize",Ew)}function BD(e,t,n){const s=e.canvas,r=s&&Jf(s);if(!r)return;const i=ow((o,l)=>{const c=r.clientWidth;n(o,l),c<r.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||i(c,d)});return a.observe(r),FD(e,i),a}function Tu(e,t,n){n&&n.disconnect(),t==="resize"&&zD(e)}function VD(e,t,n){const s=e.canvas,r=ow(i=>{e.ctx!==null&&n(ID(i,e))},e);return DD(s,t,r),r}class $D extends Pw{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(MD(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[Wo])return!1;const s=n[Wo].initial;["height","width"].forEach(i=>{const a=s[i];ae(a)?n.removeAttribute(i):n.setAttribute(i,a)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[Wo],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),a={attach:LD,detach:OD,resize:BD}[n]||VD;r[n]=a(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),r=s[n];if(!r)return;({attach:Tu,detach:Tu,resize:Tu}[n]||RD)(t,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,r){return DM(t,n,s,r)}isAttached(t){const n=t&&Jf(t);return!!(n&&n.isConnected)}}function WD(e){return!Qf()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?AD:$D}var Co;let Tn=(Co=class{constructor(){G(this,"x");G(this,"y");G(this,"active",!1);G(this,"options");G(this,"$animations")}tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return wa(this.x)&&wa(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const r={};return t.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}},G(Co,"defaults",{}),G(Co,"defaultRoutes"),Co);function UD(e,t){const n=e.options.ticks,s=HD(e),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?KD(t):[],a=i.length,o=i[0],l=i[a-1],c=[];if(a>r)return YD(t,c,i,a/r),c;const d=GD(i,t,r);if(a>0){let h,f;const p=a>1?Math.round((l-o)/(a-1)):null;for(xo(t,c,d,ae(p)?0:o-p,o),h=0,f=a-1;h<f;h++)xo(t,c,d,i[h],i[h+1]);return xo(t,c,d,l,ae(p)?t.length:l+p),c}return xo(t,c,d),c}function HD(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(s,r))}function GD(e,t,n){const s=qD(e),r=t.length/n;if(!s)return Math.max(r,1);const i=M4(s);for(let a=0,o=i.length-1;a<o;a++){const l=i[a];if(l>r)return l}return Math.max(r,1)}function KD(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function YD(e,t,n,s){let r=0,i=n[0],a;for(s=Math.ceil(s),a=0;a<e.length;a++)a===i&&(t.push(e[a]),r++,i=n[r*s])}function xo(e,t,n,s,r){const i=ee(s,0),a=Math.min(ee(r,e.length),e.length);let o=0,l,c,d;for(n=Math.ceil(n),r&&(l=r-s,n=l/Math.floor(l/n)),d=i;d<0;)o++,d=Math.round(i+o*n);for(c=Math.max(i,0);c<a;c++)c===d&&(t.push(e[c]),o++,d=Math.round(i+o*n))}function qD(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const XD=e=>e==="left"?"right":e==="right"?"left":e,C0=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,P0=(e,t)=>Math.min(t||e,e);function _0(e,t){const n=[],s=e.length/t,r=e.length;let i=0;for(;i<r;i+=s)n.push(e[Math.floor(i)]);return n}function QD(e,t,n){const s=e.ticks.length,r=Math.min(t,s-1),i=e._startPixel,a=e._endPixel,o=1e-6;let l=e.getPixelForTick(r),c;if(!(n&&(s===1?c=Math.max(l-i,a-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<i-o||l>a+o)))return l}function JD(e,t){oe(e,n=>{const s=n.gc,r=s.length/2;let i;if(r>t){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function mi(e){return e.drawTicks?e.tickLength:0}function E0(e,t){if(!e.display)return 0;const n=Je(e.font,t),s=Bt(e.padding);return(Te(e.text)?e.text.length:1)*n.lineHeight+s.height}function ZD(e,t){return tr(e,{scale:t,type:"scale"})}function eR(e,t,n){return tr(e,{tick:n,index:t,type:"tick"})}function tR(e,t,n){let s=Uf(e);return(n&&t!=="right"||!n&&t==="right")&&(s=XD(s)),s}function nR(e,t,n,s){const{top:r,left:i,bottom:a,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let h=0,f,p,y;const g=a-r,b=o-i;if(e.isHorizontal()){if(p=qe(s,i,o),ne(n)){const v=Object.keys(n)[0],m=n[v];y=d[v].getPixelForValue(m)+g-t}else n==="center"?y=(c.bottom+c.top)/2+g-t:y=C0(e,n,t);f=o-i}else{if(ne(n)){const v=Object.keys(n)[0],m=n[v];p=d[v].getPixelForValue(m)-b+t}else n==="center"?p=(c.left+c.right)/2-b+t:p=C0(e,n,t);y=qe(s,a,r),h=n==="left"?-Ie:Ie}return{titleX:p,titleY:y,maxWidth:f,rotation:h}}class ei extends Tn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return t=Jt(t,Number.POSITIVE_INFINITY),n=Jt(n,Number.NEGATIVE_INFINITY),s=Jt(s,Number.POSITIVE_INFINITY),r=Jt(r,Number.NEGATIVE_INFINITY),{min:Jt(t,s),max:Jt(n,r),minDefined:et(t),maxDefined:et(n)}}getMinMax(t){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),a;if(r&&i)return{min:n,max:s};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,t),r||(n=Math.min(n,a.min)),i||(s=Math.max(s,a.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:Jt(n,Jt(s,n)),max:Jt(s,Jt(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){me(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:r,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=dM(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?_0(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=UD(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){me(this.options.afterUpdate,[this])}beforeSetDimensions(){me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){me(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),me(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s],i.label=me(n.callback,[i.value,s,t],this)}afterTickToLabelConversion(){me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=P0(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let a=r,o,l,c;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=Qe(this.chart.width-h,0,this.maxWidth);o=t.offset?this.maxWidth/s:p/(s-1),h+6>o&&(o=p/(s-(t.offset?.5:1)),l=this.maxHeight-mi(t.grid)-n.padding-E0(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),a=L4(Math.min(Math.asin(Qe((d.highest.height+6)/o,-1,1)),Math.asin(Qe(l/c,-1,1))-Math.asin(Qe(f/c,-1,1)))),a=Math.max(r,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){me(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=E0(r,n.options.font);if(o?(t.width=this.maxWidth,t.height=mi(i)+l):(t.height=this.maxHeight,t.width=mi(i)+l),s.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:f}=this._getLabelSizes(),p=s.padding*2,y=vn(this.labelRotation),g=Math.cos(y),b=Math.sin(y);if(o){const v=s.mirror?0:b*h.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+v+p)}else{const v=s.mirror?0:g*h.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+v+p)}this._calculatePadding(c,d,b,g)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,r){const{ticks:{align:i,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=r*t.width,p=s*n.height):(f=s*t.height,p=r*n.width):i==="start"?p=n.width:i==="end"?f=t.width:i!=="inner"&&(f=t.width/2,p=n.width/2),this.paddingLeft=Math.max((f-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+a)*this.width/(this.width-h),0)}else{let d=n.height/2,h=t.height/2;i==="start"?(d=0,h=t.height):i==="end"&&(d=n.height,h=0),this.paddingTop=d+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){me(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)ae(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=_0(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:r,_longestTextCache:i}=this,a=[],o=[],l=Math.floor(n/P0(n,s));let c=0,d=0,h,f,p,y,g,b,v,m,x,w,S;for(h=0;h<n;h+=l){if(y=t[h].label,g=this._resolveTickFontOptions(h),r.font=b=g.string,v=i[b]=i[b]||{data:{},gc:[]},m=g.lineHeight,x=w=0,!ae(y)&&!Te(y))x=n0(r,v.data,v.gc,x,y),w=m;else if(Te(y))for(f=0,p=y.length;f<p;++f)S=y[f],!ae(S)&&!Te(S)&&(x=n0(r,v.data,v.gc,x,S),w+=m);a.push(x),o.push(w),c=Math.max(x,c),d=Math.max(w,d)}JD(i,n);const _=a.indexOf(c),k=o.indexOf(d),j=C=>({width:a[C]||0,height:o[C]||0});return{first:j(0),last:j(n-1),widest:j(_),highest:j(k),widths:a,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return F4(this._alignToPixels?vs(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=eR(this.getContext(),t,s))}return this.$context||(this.$context=ZD(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=vn(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=t.autoSkipPadding||0,o=i?i.widest.width+a:0,l=i?i.highest.height+a:0;return this.isHorizontal()?l*s>o*r?o/s:l/r:l*r<o*s?l/s:o/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:a,border:o}=r,l=i.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=mi(i),p=[],y=o.setContext(this.getContext()),g=y.display?y.width:0,b=g/2,v=function(U){return vs(s,U,g)};let m,x,w,S,_,k,j,C,A,L,$,q;if(a==="top")m=v(this.bottom),k=this.bottom-f,C=m-b,L=v(t.top)+b,q=t.bottom;else if(a==="bottom")m=v(this.top),L=t.top,q=v(t.bottom)-b,k=m+b,C=this.top+f;else if(a==="left")m=v(this.right),_=this.right-f,j=m-b,A=v(t.left)+b,$=t.right;else if(a==="right")m=v(this.left),A=t.left,$=v(t.right)-b,_=m+b,j=this.left+f;else if(n==="x"){if(a==="center")m=v((t.top+t.bottom)/2+.5);else if(ne(a)){const U=Object.keys(a)[0],X=a[U];m=v(this.chart.scales[U].getPixelForValue(X))}L=t.top,q=t.bottom,k=m+b,C=k+f}else if(n==="y"){if(a==="center")m=v((t.left+t.right)/2);else if(ne(a)){const U=Object.keys(a)[0],X=a[U];m=v(this.chart.scales[U].getPixelForValue(X))}_=m-b,j=_-f,A=t.left,$=t.right}const Y=ee(r.ticks.maxTicksLimit,h),W=Math.max(1,Math.ceil(h/Y));for(x=0;x<h;x+=W){const U=this.getContext(x),X=i.setContext(U),T=o.setContext(U),P=X.lineWidth,E=X.color,M=T.dash||[],O=T.dashOffset,D=X.tickWidth,I=X.tickColor,V=X.tickBorderDash||[],B=X.tickBorderDashOffset;w=QD(this,x,l),w!==void 0&&(S=vs(s,w,P),c?_=j=A=$=S:k=C=L=q=S,p.push({tx1:_,ty1:k,tx2:j,ty2:C,x1:A,y1:L,x2:$,y2:q,width:P,color:E,borderDash:M,borderDashOffset:O,tickWidth:D,tickColor:I,tickBorderDash:V,tickBorderDashOffset:B}))}return this._ticksLength=h,this._borderValue=m,p}_computeLabelItems(t){const n=this.axis,s=this.options,{position:r,ticks:i}=s,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=i,f=mi(s.grid),p=f+d,y=h?-d:p,g=-vn(this.labelRotation),b=[];let v,m,x,w,S,_,k,j,C,A,L,$,q="middle";if(r==="top")_=this.bottom-y,k=this._getXAxisLabelAlignment();else if(r==="bottom")_=this.top+y,k=this._getXAxisLabelAlignment();else if(r==="left"){const W=this._getYAxisLabelAlignment(f);k=W.textAlign,S=W.x}else if(r==="right"){const W=this._getYAxisLabelAlignment(f);k=W.textAlign,S=W.x}else if(n==="x"){if(r==="center")_=(t.top+t.bottom)/2+p;else if(ne(r)){const W=Object.keys(r)[0],U=r[W];_=this.chart.scales[W].getPixelForValue(U)+p}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")S=(t.left+t.right)/2-p;else if(ne(r)){const W=Object.keys(r)[0],U=r[W];S=this.chart.scales[W].getPixelForValue(U)}k=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?q="top":l==="end"&&(q="bottom"));const Y=this._getLabelSizes();for(v=0,m=o.length;v<m;++v){x=o[v],w=x.label;const W=i.setContext(this.getContext(v));j=this.getPixelForTick(v)+i.labelOffset,C=this._resolveTickFontOptions(v),A=C.lineHeight,L=Te(w)?w.length:1;const U=L/2,X=W.color,T=W.textStrokeColor,P=W.textStrokeWidth;let E=k;a?(S=j,k==="inner"&&(v===m-1?E=this.options.reverse?"left":"right":v===0?E=this.options.reverse?"right":"left":E="center"),r==="top"?c==="near"||g!==0?$=-L*A+A/2:c==="center"?$=-Y.highest.height/2-U*A+A:$=-Y.highest.height+A/2:c==="near"||g!==0?$=A/2:c==="center"?$=Y.highest.height/2-U*A:$=Y.highest.height-L*A,h&&($*=-1),g!==0&&!W.showLabelBackdrop&&(S+=A/2*Math.sin(g))):(_=j,$=(1-L)*A/2);let M;if(W.showLabelBackdrop){const O=Bt(W.backdropPadding),D=Y.heights[v],I=Y.widths[v];let V=$-O.top,B=0-O.left;switch(q){case"middle":V-=D/2;break;case"bottom":V-=D;break}switch(k){case"center":B-=I/2;break;case"right":B-=I;break;case"inner":v===m-1?B-=I:v>0&&(B-=I/2);break}M={left:B,top:V,width:I+O.width,height:D+O.height,color:W.backdropColor}}b.push({label:w,font:C,textOffset:$,options:{rotation:g,color:X,strokeColor:T,strokeWidth:P,textAlign:E,textBaseline:q,translation:[S,_],backdrop:M}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-vn(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,a=this._getLabelSizes(),o=t+i,l=a.widest.width;let c,d;return n==="left"?r?(d=this.right+i,s==="near"?c="left":s==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-o,s==="near"?c="right":s==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?r?(d=this.left+i,s==="near"?c="right":s==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+o,s==="near"?c="left":s==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:r,width:i,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,r,i,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,a;const o=(l,c,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(i=0,a=r.length;i<a;++i){const l=r[i];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),a=s.display?i.width:0;if(!a)return;const o=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,h,f;this.isHorizontal()?(c=vs(t,this.left,a)-a/2,d=vs(t,this.right,o)+o/2,h=f=l):(h=vs(t,this.top,a)-a/2,f=vs(t,this.bottom,o)+o/2,c=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&vc(s,r);const i=this.getLabelItems(t);for(const a of i){const o=a.options,l=a.font,c=a.label,d=a.textOffset;ja(s,c,0,d,l,o)}r&&bc(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=Je(s.font),a=Bt(s.padding),o=s.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||ne(n)?(l+=a.bottom,Te(s.text)&&(l+=i.lineHeight*(s.text.length-1))):l+=a.top;const{titleX:c,titleY:d,maxWidth:h,rotation:f}=nR(this,l,n,o);ja(t,s.text,0,0,i,{color:s.color,maxWidth:h,rotation:f,textAlign:tR(o,n,r),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=ee(t.grid&&t.grid.z,-1),r=ee(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ei.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,a;for(i=0,a=n.length;i<a;++i){const o=n[i];o[s]===this.id&&(!t||o.type===t)&&r.push(o)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Je(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class vo{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;iR(n)&&(s=this.register(n));const r=this.items,i=t.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,sR(t,a,s),this.override&&_e.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,r=this.scope;s in n&&delete n[s],r&&s in _e[r]&&(delete _e[r][s],this.override&&delete qs[s])}}function sR(e,t,n){const s=va(Object.create(null),[n?_e.get(n):{},_e.get(t),e.defaults]);_e.set(t,s),e.defaultRoutes&&rR(t,e.defaultRoutes),e.descriptors&&_e.describe(t,e.descriptors)}function rR(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),r=s.pop(),i=[e].concat(s).join("."),a=t[n].split("."),o=a.pop(),l=a.join(".");_e.route(i,r,l,o)})}function iR(e){return"id"in e&&"defaults"in e}class aR{constructor(){this.controllers=new vo(zs,"datasets",!0),this.elements=new vo(Tn,"elements"),this.plugins=new vo(Object,"plugins"),this.scales=new vo(ei,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(t,i,r):oe(r,a=>{const o=s||this._getRegistryForType(a);this._exec(t,o,a)})})}_exec(t,n,s){const r=$f(t);me(s["before"+r],[],s),n[t](s),me(s["after"+r],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return r}}var tn=new aR;class oR{constructor(){this._init=[]}notify(t,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(i,t,n,s);return n==="afterDestroy"&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,s,r){r=r||{};for(const i of t){const a=i.plugin,o=a[s],l=[n,r,i.options];if(me(o,l,a)===!1&&r.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,r=ee(s.options&&s.options.plugins,{}),i=lR(s);return r===!1&&!n?[]:uR(t,i,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,r=(i,a)=>i.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(r(n,s),t,"stop"),this._notify(r(s,n),t,"start")}}function lR(e){const t={},n=[],s=Object.keys(tn.plugins.items);for(let i=0;i<s.length;i++)n.push(tn.getPlugin(s[i]));const r=e.plugins||[];for(let i=0;i<r.length;i++){const a=r[i];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function cR(e,t){return!t&&e===!1?null:e===!0?{}:e}function uR(e,{plugins:t,localIds:n},s,r){const i=[],a=e.getContext();for(const o of t){const l=o.id,c=cR(s[l],r);c!==null&&i.push({plugin:o,options:dR(e.config,{plugin:o,local:n[l]},c,a)})}return i}function dR(e,{plugin:t,local:n},s,r){const i=e.pluginScopeKeys(t),a=e.getOptionScopes(s,i);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function rh(e,t){const n=_e.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function hR(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function fR(e,t){return e===t?"_index_":"_value_"}function A0(e){if(e==="x"||e==="y"||e==="r")return e}function pR(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function ih(e,...t){if(A0(e))return e;for(const n of t){const s=n.axis||pR(n.position)||e.length>1&&A0(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function T0(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function mR(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return T0(e,"x",n[0])||T0(e,"y",n[0])}return{}}function gR(e,t){const n=qs[e.type]||{scales:{}},s=t.scales||{},r=rh(e.type,t),i=Object.create(null);return Object.keys(s).forEach(a=>{const o=s[a];if(!ne(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=ih(a,o,mR(a,e),_e.scales[o.type]),c=fR(l,r),d=n.scales||{};i[a]=Wi(Object.create(null),[{axis:l},o,d[l],d[c]])}),e.data.datasets.forEach(a=>{const o=a.type||e.type,l=a.indexAxis||rh(o,t),d=(qs[o]||{}).scales||{};Object.keys(d).forEach(h=>{const f=hR(h,l),p=a[f+"AxisID"]||f;i[p]=i[p]||Object.create(null),Wi(i[p],[{axis:f},s[p],d[h]])})}),Object.keys(i).forEach(a=>{const o=i[a];Wi(o,[_e.scales[o.type],_e.scale])}),i}function Aw(e){const t=e.options||(e.options={});t.plugins=ee(t.plugins,{}),t.scales=gR(e,t)}function Tw(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function yR(e){return e=e||{},e.data=Tw(e.data),Aw(e),e}const M0=new Map,Mw=new Set;function bo(e,t){let n=M0.get(e);return n||(n=t(),M0.set(e,n),Mw.add(n)),n}const gi=(e,t,n)=>{const s=Ys(t,n);s!==void 0&&e.add(s)};class xR{constructor(t){this._config=yR(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Tw(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Aw(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return bo(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return bo(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return bo(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return bo(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let r=s.get(t);return(!r||n)&&(r=new Map,s.set(t,r)),r}getOptionScopes(t,n,s){const{options:r,type:i}=this,a=this._cachedScopes(t,s),o=a.get(n);if(o)return o;const l=new Set;n.forEach(d=>{t&&(l.add(t),d.forEach(h=>gi(l,t,h))),d.forEach(h=>gi(l,r,h)),d.forEach(h=>gi(l,qs[i]||{},h)),d.forEach(h=>gi(l,_e,h)),d.forEach(h=>gi(l,nh,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Mw.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,qs[n]||{},_e.datasets[n]||{},{type:n},_e,nh]}resolveNamedOptions(t,n,s,r=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=D0(this._resolverCache,t,r);let l=a;if(bR(a,n)){i.$shared=!1,s=cs(s)?s():s;const c=this.createResolver(t,s,o);l=Gr(a,s,c)}for(const c of n)i[c]=l[c];return i}createResolver(t,n,s=[""],r){const{resolver:i}=D0(this._resolverCache,t,s);return ne(n)?Gr(i,n,void 0,r):i}}function D0(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const r=n.join();let i=s.get(r);return i||(i={resolver:Yf(t,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},s.set(r,i)),i}const vR=e=>ne(e)&&Object.getOwnPropertyNames(e).some(t=>cs(e[t]));function bR(e,t){const{isScriptable:n,isIndexable:s}=dw(e);for(const r of t){const i=n(r),a=s(r),o=(a||i)&&e[r];if(i&&(cs(o)||vR(o))||a&&Te(o))return!0}return!1}var wR="4.5.0";const kR=["top","bottom","left","right","chartArea"];function R0(e,t){return e==="top"||e==="bottom"||kR.indexOf(e)===-1&&t==="x"}function I0(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function L0(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),me(n&&n.onComplete,[e],t)}function SR(e){const t=e.chart,n=t.options.animation;me(n&&n.onProgress,[e],t)}function Dw(e){return Qf()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Uo={},O0=e=>{const t=Dw(e);return Object.values(Uo).filter(n=>n.canvas===t).pop()};function jR(e,t,n){const s=Object.keys(e);for(const r of s){const i=+r;if(i>=t){const a=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=a)}}}function NR(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}var Dn;let Sc=(Dn=class{static register(...t){tn.add(...t),F0()}static unregister(...t){tn.remove(...t),F0()}constructor(t,n){const s=this.config=new xR(n),r=Dw(t),i=O0(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||WD(r)),this.platform.updateConfig(s);const o=this.platform.acquireContext(r,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,d=l&&l.width;if(this.id=S4(),this.ctx=o,this.canvas=l,this.width=d,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new oR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$4(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Uo[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}dn.listen(this,"complete",L0),dn.listen(this,"progress",SR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return ae(t)?n&&i?i:r?s/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return tn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():a0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return s0(this.canvas,this.ctx),this}stop(){return dn.stop(this),this}resize(t,n){dn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,t,n,i),o=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,a0(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),me(s.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};oe(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,r=Object.keys(s).reduce((a,o)=>(a[o]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const o=n[a],l=ih(a,o),c=l==="r",d=l==="x";return{options:o,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),oe(i,a=>{const o=a.options,l=o.id,c=ih(l,o),d=ee(o.type,a.dtype);(o.position===void 0||R0(o.position,c)!==R0(a.dposition))&&(o.position=a.dposition),r[l]=!0;let h=null;if(l in s&&s[l].type===d)h=s[l];else{const f=tn.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(o,t)}),oe(r,(a,o)=>{a||delete s[o]}),oe(s,a=>{Lt.configure(this,a,a.options),Lt.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(I0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let a=this.getDatasetMeta(s);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=o,a.indexAxis=i.indexAxis||rh(o,this.options),a.order=i.order||0,a.index=s,a.label=""+i.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const l=tn.getController(o),{datasetElementType:c,dataElementType:d}=_e.datasets[o];Object.assign(l,{dataElementType:tn.getElement(d),datasetElementType:c&&tn.getElement(c)}),a.controller=new l(this,s),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){oe(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:h}=this.getDatasetMeta(c),f=!r&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),r||oe(i,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(I0("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){oe(this.scales,t=>{Lt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Kg(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const a=s==="_removeElements"?-i:i;jR(t,r,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(t.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!Kg(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Lt.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],oe(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,cs(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),r={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(dn.has(this)?this.attached&&!dn.running(this)&&dn.start(this):(this.draw(),L0({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const a=n[r];(!t||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},r=ww(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&vc(n,r),t.controller.draw(),r&&bc(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Sa(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,r){const i=kD.modes[n];return typeof i=="function"?i(this,t,s,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=tr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(t),a=i.controller._resolveAnimations(void 0,r);ba(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),a.update(i,{visible:s}),this.update(o=>o.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),dn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),s0(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Uo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(i,a)=>{n.addEventListener(this,i,a),t[i]=a},r=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};oe(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},r=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{r("attach",o),this.attached=!0,this.resize(),s("resize",i),s("detach",a)};a=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){oe(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},oe(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const r=s?"set":"remove";let i,a,o,l;for(n==="dataset"&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,l=t.length;o<l;++o){a=t[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!Tl(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const r=this.options.hover,i=(l,c)=>l.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=i(n,t),o=s?t:i(t,n);a.length&&this.updateHoverStyle(a,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:r=[],options:i}=this,a=n,o=this._getActiveElements(t,r,s,a),l=E4(t),c=NR(t,this._lastEvent,s,l);s&&(this._lastEvent=null,me(i.onHover,[t,o,this],this),l&&me(i.onClick,[t,o,this],this));const d=!Tl(o,r);return(d||n)&&(this._active=o,this._updateHoverStyles(o,r,n)),this._lastEvent=c,d}_getActiveElements(t,n,s,r){if(t.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}},G(Dn,"defaults",_e),G(Dn,"instances",Uo),G(Dn,"overrides",qs),G(Dn,"registry",tn),G(Dn,"version",wR),G(Dn,"getChart",O0),Dn);function F0(){return oe(Sc.instances,e=>e._plugins.invalidate())}function CR(e,t,n){const{startAngle:s,x:r,y:i,outerRadius:a,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,h=Math.min(c/a,bt(s-n));if(e.beginPath(),e.arc(r,i,a-c/2,s+h/2,n-h/2),o>0){const f=Math.min(c/o,bt(s-n));e.arc(r,i,o+c/2,n-f/2,s+f/2,!0)}else{const f=Math.min(c/2,a*bt(s-n));if(d==="round")e.arc(r,i,f,n-le/2,s+le/2,!0);else if(d==="bevel"){const p=2*f*f,y=-p*Math.cos(n+le/2)+r,g=-p*Math.sin(n+le/2)+i,b=p*Math.cos(s+le/2)+r,v=p*Math.sin(s+le/2)+i;e.lineTo(y,g),e.lineTo(b,v)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function PR(e,t,n){const{startAngle:s,pixelMargin:r,x:i,y:a,outerRadius:o,innerRadius:l}=t;let c=r/o;e.beginPath(),e.arc(i,a,o,s-c,n+c),l>r?(c=r/l,e.arc(i,a,l,n+c,s-c,!0)):e.arc(i,a,r,n+Ie,s-Ie),e.closePath(),e.clip()}function _R(e){return Kf(e,["outerStart","outerEnd","innerStart","innerEnd"])}function ER(e,t,n,s){const r=_R(e.options.borderRadius),i=(n-t)/2,a=Math.min(i,s*t/2),o=l=>{const c=(n-Math.min(i,l))*s/2;return Qe(l,0,Math.min(i,c))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:Qe(r.innerStart,0,a),innerEnd:Qe(r.innerEnd,0,a)}}function ar(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function Ol(e,t,n,s,r,i){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,h=Math.max(t.outerRadius+s+n-c,0),f=d>0?d+s+n+c:0;let p=0;const y=r-l;if(s){const W=d>0?d-s:0,U=h>0?h-s:0,X=(W+U)/2,T=X!==0?y*X/(X+s):y;p=(y-T)/2}const g=Math.max(.001,y*h-n/le)/h,b=(y-g)/2,v=l+b+p,m=r-b-p,{outerStart:x,outerEnd:w,innerStart:S,innerEnd:_}=ER(t,f,h,m-v),k=h-x,j=h-w,C=v+x/k,A=m-w/j,L=f+S,$=f+_,q=v+S/L,Y=m-_/$;if(e.beginPath(),i){const W=(C+A)/2;if(e.arc(a,o,h,C,W),e.arc(a,o,h,W,A),w>0){const P=ar(j,A,a,o);e.arc(P.x,P.y,w,A,m+Ie)}const U=ar($,m,a,o);if(e.lineTo(U.x,U.y),_>0){const P=ar($,Y,a,o);e.arc(P.x,P.y,_,m+Ie,Y+Math.PI)}const X=(m-_/f+(v+S/f))/2;if(e.arc(a,o,f,m-_/f,X,!0),e.arc(a,o,f,X,v+S/f,!0),S>0){const P=ar(L,q,a,o);e.arc(P.x,P.y,S,q+Math.PI,v-Ie)}const T=ar(k,v,a,o);if(e.lineTo(T.x,T.y),x>0){const P=ar(k,C,a,o);e.arc(P.x,P.y,x,v-Ie,C)}}else{e.moveTo(a,o);const W=Math.cos(C)*h+a,U=Math.sin(C)*h+o;e.lineTo(W,U);const X=Math.cos(A)*h+a,T=Math.sin(A)*h+o;e.lineTo(X,T)}e.closePath()}function AR(e,t,n,s,r){const{fullCircles:i,startAngle:a,circumference:o}=t;let l=t.endAngle;if(i){Ol(e,t,n,s,l,r);for(let c=0;c<i;++c)e.fill();isNaN(o)||(l=a+(o%be||be))}return Ol(e,t,n,s,l,r),e.fill(),l}function TR(e,t,n,s,r){const{fullCircles:i,startAngle:a,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:f,borderRadius:p}=l,y=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=f,y?(e.lineWidth=c*2,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let g=t.endAngle;if(i){Ol(e,t,n,s,g,r);for(let b=0;b<i;++b)e.stroke();isNaN(o)||(g=a+(o%be||be))}y&&PR(e,t,g),l.selfJoin&&g-a>=le&&p===0&&d!=="miter"&&CR(e,t,g),i||(Ol(e,t,n,s,g,r),e.stroke())}class _i extends Tn{constructor(n){super();G(this,"circumference");G(this,"endAngle");G(this,"fullCircles");G(this,"innerRadius");G(this,"outerRadius");G(this,"pixelMargin");G(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:a,distance:o}=sw(i,{x:n,y:s}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),p=(this.options.spacing+this.options.borderWidth)/2,y=ee(f,c-l),g=ka(a,l,c)&&l!==c,b=y>=be||g,v=bn(o,d+p,h+p);return b&&v}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:d}=this.options,h=(i+a)/2,f=(o+l+d+c)/2;return{x:s+Math.cos(h)*f,y:r+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,a=(s.spacing||0)/2,o=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>be?Math.floor(r/be):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(le,r||0)),d=i*c;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,AR(n,this,d,a,o),TR(n,this,d,a,o),n.restore()}}G(_i,"id","arc"),G(_i,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),G(_i,"defaultRoutes",{backgroundColor:"backgroundColor"}),G(_i,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Rw(e,t,n=t){e.lineCap=ee(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ee(n.borderDash,t.borderDash)),e.lineDashOffset=ee(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ee(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ee(n.borderWidth,t.borderWidth),e.strokeStyle=ee(n.borderColor,t.borderColor)}function MR(e,t,n){e.lineTo(n.x,n.y)}function DR(e){return e.stepped?nM:e.tension||e.cubicInterpolationMode==="monotone"?sM:MR}function Iw(e,t,n={}){const s=e.length,{start:r=0,end:i=s-1}=n,{start:a,end:o}=t,l=Math.max(r,a),c=Math.min(i,o),d=r<a&&i<a||r>o&&i>o;return{count:s,start:l,loop:t.loop,ilen:c<l&&!d?s+c-l:c-l}}function RR(e,t,n,s){const{points:r,options:i}=t,{count:a,start:o,loop:l,ilen:c}=Iw(r,n,s),d=DR(i);let{move:h=!0,reverse:f}=s||{},p,y,g;for(p=0;p<=c;++p)y=r[(o+(f?c-p:p))%a],!y.skip&&(h?(e.moveTo(y.x,y.y),h=!1):d(e,g,y,f,i.stepped),g=y);return l&&(y=r[(o+(f?c:0))%a],d(e,g,y,f,i.stepped)),!!l}function IR(e,t,n,s){const r=t.points,{count:i,start:a,ilen:o}=Iw(r,n,s),{move:l=!0,reverse:c}=s||{};let d=0,h=0,f,p,y,g,b,v;const m=w=>(a+(c?o-w:w))%i,x=()=>{g!==b&&(e.lineTo(d,b),e.lineTo(d,g),e.lineTo(d,v))};for(l&&(p=r[m(0)],e.moveTo(p.x,p.y)),f=0;f<=o;++f){if(p=r[m(f)],p.skip)continue;const w=p.x,S=p.y,_=w|0;_===y?(S<g?g=S:S>b&&(b=S),d=(h*d+w)/++h):(x(),e.lineTo(w,S),y=_,h=0,g=b=S),v=S}x()}function ah(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?IR:RR}function LR(e){return e.stepped?IM:e.tension||e.cubicInterpolationMode==="monotone"?LM:Ps}function OR(e,t,n,s){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,s)&&r.closePath()),Rw(e,t.options),e.stroke(r)}function FR(e,t,n,s){const{segments:r,options:i}=t,a=ah(t);for(const o of r)Rw(e,i,o.style),e.beginPath(),a(e,t,o,{start:n,end:n+s-1})&&e.closePath(),e.stroke()}const zR=typeof Path2D=="function";function BR(e,t,n,s){zR&&!t.options.segment?OR(e,t,n,s):FR(e,t,n,s)}class Hn extends Tn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;PM(this._points,s,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$M(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,s=t.length;return s&&n[t[s-1].end]}interpolate(t,n){const s=this.options,r=t[n],i=this.points,a=bw(this,{property:n,start:r,end:r});if(!a.length)return;const o=[],l=LR(s);let c,d;for(c=0,d=a.length;c<d;++c){const{start:h,end:f}=a[c],p=i[h],y=i[f];if(p===y){o.push(p);continue}const g=Math.abs((r-p[n])/(y[n]-p[n])),b=l(p,y,g,s.stepped);b[n]=t[n],o.push(b)}return o.length===1?o[0]:o}pathSegment(t,n,s){return ah(this)(t,this,n,s)}path(t,n,s){const r=this.segments,i=ah(this);let a=this._loop;n=n||0,s=s||this.points.length-n;for(const o of r)a&=i(t,this,o,{start:n,end:n+s-1});return!!a}draw(t,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),BR(t,this,s,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}G(Hn,"id","line"),G(Hn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),G(Hn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),G(Hn,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function z0(e,t,n,s){const r=e.options,{[n]:i}=e.getProps([n],s);return Math.abs(t-i)<r.radius+r.hitRadius}class Ho extends Tn{constructor(n){super();G(this,"parsed");G(this,"skip");G(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:a,y:o}=this.getProps(["x","y"],r);return Math.pow(n-a,2)+Math.pow(s-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return z0(this,n,"x",s)}inYRange(n,s){return z0(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!Sa(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,sh(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}G(Ho,"id","point"),G(Ho,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),G(Ho,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Lw(e,t){const{x:n,y:s,base:r,width:i,height:a}=e.getProps(["x","y","base","width","height"],t);let o,l,c,d,h;return e.horizontal?(h=a/2,o=Math.min(n,r),l=Math.max(n,r),c=s-h,d=s+h):(h=i/2,o=n-h,l=n+h,c=Math.min(s,r),d=Math.max(s,r)),{left:o,top:c,right:l,bottom:d}}function Gn(e,t,n,s){return e?0:Qe(t,n,s)}function VR(e,t,n){const s=e.options.borderWidth,r=e.borderSkipped,i=uw(s);return{t:Gn(r.top,i.top,0,n),r:Gn(r.right,i.right,0,t),b:Gn(r.bottom,i.bottom,0,n),l:Gn(r.left,i.left,0,t)}}function $R(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,i=Dr(r),a=Math.min(t,n),o=e.borderSkipped,l=s||ne(r);return{topLeft:Gn(!l||o.top||o.left,i.topLeft,0,a),topRight:Gn(!l||o.top||o.right,i.topRight,0,a),bottomLeft:Gn(!l||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:Gn(!l||o.bottom||o.right,i.bottomRight,0,a)}}function WR(e){const t=Lw(e),n=t.right-t.left,s=t.bottom-t.top,r=VR(e,n/2,s/2),i=$R(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:i},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function Mu(e,t,n,s){const r=t===null,i=n===null,o=e&&!(r&&i)&&Lw(e,s);return o&&(r||bn(t,o.left,o.right))&&(i||bn(n,o.top,o.bottom))}function UR(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function HR(e,t){e.rect(t.x,t.y,t.w,t.h)}function Du(e,t,n={}){const s=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-s,a=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+s,y:e.y+r,w:e.w+i,h:e.h+a,radius:e.radius}}class Go extends Tn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:a}=WR(this),o=UR(a.radius)?Rl:HR;t.save(),(a.w!==i.w||a.h!==i.h)&&(t.beginPath(),o(t,Du(a,n,i)),t.clip(),o(t,Du(i,-n,a)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),o(t,Du(i,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,s){return Mu(this,t,n,s)}inXRange(t,n){return Mu(this,t,null,n)}inYRange(t,n){return Mu(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}G(Go,"id","bar"),G(Go,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),G(Go,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function GR(e,t,n){const s=e.segments,r=e.points,i=t.points,a=[];for(const o of s){let{start:l,end:c}=o;c=jc(l,c,r);const d=oh(n,r[l],r[c],o.loop);if(!t.segments){a.push({source:o,target:d,start:r[l],end:r[c]});continue}const h=bw(t,d);for(const f of h){const p=oh(n,i[f.start],i[f.end],f.loop),y=vw(o,r,p);for(const g of y)a.push({source:g,target:f,start:{[n]:B0(d,p,"start",Math.max)},end:{[n]:B0(d,p,"end",Math.min)}})}}return a}function oh(e,t,n,s){if(s)return;let r=t[e],i=n[e];return e==="angle"&&(r=bt(r),i=bt(i)),{property:e,start:r,end:i}}function KR(e,t){const{x:n=null,y:s=null}=e||{},r=t.points,i=[];return t.segments.forEach(({start:a,end:o})=>{o=jc(a,o,r);const l=r[a],c=r[o];s!==null?(i.push({x:l.x,y:s}),i.push({x:c.x,y:s})):n!==null&&(i.push({x:n,y:l.y}),i.push({x:n,y:c.y}))}),i}function jc(e,t,n){for(;t>e;t--){const s=n[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function B0(e,t,n,s){return e&&t?s(e[n],t[n]):e?e[n]:t?t[n]:0}function Ow(e,t){let n=[],s=!1;return Te(e)?(s=!0,n=e):n=KR(e,t),n.length?new Hn({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function V0(e){return e&&e.fill!==!1}function YR(e,t,n){let r=e[t].fill;const i=[t];let a;if(!n)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!et(r))return r;if(a=e[r],!a)return!1;if(a.visible)return r;i.push(r),r=a.fill}return!1}function qR(e,t,n){const s=ZR(e);if(ne(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return et(r)&&Math.floor(r)===r?XR(s[0],t,r,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function XR(e,t,n,s){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=s?!1:n}function QR(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:ne(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function JR(e,t,n){let s;return e==="start"?s=n:e==="end"?s=t.options.reverse?t.min:t.max:ne(e)?s=e.value:s=t.getBaseValue(),s}function ZR(e){const t=e.options,n=t.fill;let s=ee(n&&n.target,n);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function eI(e){const{scale:t,index:n,line:s}=e,r=[],i=s.segments,a=s.points,o=tI(t,n);o.push(Ow({x:null,y:t.bottom},s));for(let l=0;l<i.length;l++){const c=i[l];for(let d=c.start;d<=c.end;d++)nI(r,a[d],o)}return new Hn({points:r,options:{}})}function tI(e,t){const n=[],s=e.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){const i=s[r];if(i.index===t)break;i.hidden||n.unshift(i.dataset)}return n}function nI(e,t,n){const s=[];for(let r=0;r<n.length;r++){const i=n[r],{first:a,last:o,point:l}=sI(i,t,"x");if(!(!l||a&&o)){if(a)s.unshift(l);else if(e.push(l),!o)break}}e.push(...s)}function sI(e,t,n){const s=e.interpolate(t,n);if(!s)return{};const r=s[n],i=e.segments,a=e.points;let o=!1,l=!1;for(let c=0;c<i.length;c++){const d=i[c],h=a[d.start][n],f=a[d.end][n];if(bn(r,h,f)){o=r===h,l=r===f;break}}return{first:o,last:l,point:s}}class Fw{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,s){const{x:r,y:i,radius:a}=this;return n=n||{start:0,end:be},t.arc(r,i,a,n.end,n.start,!0),!s.bounds}interpolate(t){const{x:n,y:s,radius:r}=this,i=t.angle;return{x:n+Math.cos(i)*r,y:s+Math.sin(i)*r,angle:i}}}function rI(e){const{chart:t,fill:n,line:s}=e;if(et(n))return iI(t,n);if(n==="stack")return eI(e);if(n==="shape")return!0;const r=aI(e);return r instanceof Fw?r:Ow(r,s)}function iI(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function aI(e){return(e.scale||{}).getPointPositionForValue?lI(e):oI(e)}function oI(e){const{scale:t={},fill:n}=e,s=QR(n,t);if(et(s)){const r=t.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function lI(e){const{scale:t,fill:n}=e,s=t.options,r=t.getLabels().length,i=s.reverse?t.max:t.min,a=JR(n,t,i),o=[];if(s.grid.circular){const l=t.getPointPositionForValue(0,i);return new Fw({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(a)})}for(let l=0;l<r;++l)o.push(t.getPointPositionForValue(l,a));return o}function Ru(e,t,n){const s=rI(t),{chart:r,index:i,line:a,scale:o,axis:l}=t,c=a.options,d=c.fill,h=c.backgroundColor,{above:f=h,below:p=h}=d||{},y=r.getDatasetMeta(i),g=ww(r,y);s&&a.points.length&&(vc(e,n),cI(e,{line:a,target:s,above:f,below:p,area:n,scale:o,axis:l,clip:g}),bc(e))}function cI(e,t){const{line:n,target:s,above:r,below:i,area:a,scale:o,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let d=i;i!==r&&(c==="x"?($0(e,s,a.top),Iu(e,{line:n,target:s,color:r,scale:o,property:c,clip:l}),e.restore(),e.save(),$0(e,s,a.bottom)):c==="y"&&(W0(e,s,a.left),Iu(e,{line:n,target:s,color:i,scale:o,property:c,clip:l}),e.restore(),e.save(),W0(e,s,a.right),d=r)),Iu(e,{line:n,target:s,color:d,scale:o,property:c,clip:l}),e.restore()}function $0(e,t,n){const{segments:s,points:r}=t;let i=!0,a=!1;e.beginPath();for(const o of s){const{start:l,end:c}=o,d=r[l],h=r[jc(l,c,r)];i?(e.moveTo(d.x,d.y),i=!1):(e.lineTo(d.x,n),e.lineTo(d.x,d.y)),a=!!t.pathSegment(e,o,{move:a}),a?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function W0(e,t,n){const{segments:s,points:r}=t;let i=!0,a=!1;e.beginPath();for(const o of s){const{start:l,end:c}=o,d=r[l],h=r[jc(l,c,r)];i?(e.moveTo(d.x,d.y),i=!1):(e.lineTo(n,d.y),e.lineTo(d.x,d.y)),a=!!t.pathSegment(e,o,{move:a}),a?e.closePath():e.lineTo(n,h.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Iu(e,t){const{line:n,target:s,property:r,color:i,scale:a,clip:o}=t,l=GR(n,s,r);for(const{source:c,target:d,start:h,end:f}of l){const{style:{backgroundColor:p=i}={}}=c,y=s!==!0;e.save(),e.fillStyle=p,uI(e,a,o,y&&oh(r,h,f)),e.beginPath();const g=!!n.pathSegment(e,c);let b;if(y){g?e.closePath():U0(e,s,f,r);const v=!!s.pathSegment(e,d,{move:g,reverse:!0});b=g&&v,b||U0(e,s,h,r)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}function uI(e,t,n,s){const r=t.chart.chartArea,{property:i,start:a,end:o}=s||{};if(i==="x"||i==="y"){let l,c,d,h;i==="x"?(l=a,c=r.top,d=o,h=r.bottom):(l=r.left,c=a,d=r.right,h=o),e.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),c=Math.max(c,n.top),h=Math.min(h,n.bottom)),e.rect(l,c,d-l,h-c),e.clip()}}function U0(e,t,n,s){const r=t.interpolate(n,s);r&&e.lineTo(r.x,r.y)}var dI={id:"filler",afterDatasetsUpdate(e,t,n){const s=(e.data.datasets||[]).length,r=[];let i,a,o,l;for(a=0;a<s;++a)i=e.getDatasetMeta(a),o=i.dataset,l=null,o&&o.options&&o instanceof Hn&&(l={visible:e.isDatasetVisible(a),index:a,fill:qR(o,a,s),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:o}),i.$filler=l,r.push(l);for(a=0;a<s;++a)l=r[a],!(!l||l.fill===!1)&&(l.fill=YR(r,a,n.propagate))},beforeDraw(e,t,n){const s=n.drawTime==="beforeDraw",r=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let a=r.length-1;a>=0;--a){const o=r[a].$filler;o&&(o.line.updateControlPoints(i,o.axis),s&&o.fill&&Ru(e.ctx,o,i))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=e.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){const i=s[r].$filler;V0(i)&&Ru(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,n){const s=t.meta.$filler;!V0(s)||n.drawTime!=="beforeDatasetDraw"||Ru(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const H0=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},hI=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class G0 extends Tn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=me(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,r)=>t.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,r=Je(s.font),i=r.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=H0(s,i);let c,d;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(a,i,o,l)+10):(d=this.maxHeight,c=this._fitCols(a,r,o,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,r){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=r+o;let h=t;i.textAlign="left",i.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((y,g)=>{const b=s+n/2+i.measureText(y.text).width;(g===0||c[c.length-1]+b+2*o>a)&&(h+=d,c[c.length-(g>0?0:1)]=0,p+=d,f++),l[g]={left:0,top:p,row:f,width:b,height:r},c[c.length-1]+=b+o}),h}_fitCols(t,n,s,r){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=a-t;let h=o,f=0,p=0,y=0,g=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:m,itemHeight:x}=fI(s,n,i,b,r);v>0&&p+x+2*o>d&&(h+=f+o,c.push({width:f,height:p}),y+=f+o,g++,f=p=0),l[v]={left:y,top:p,col:g,width:m,height:x},f=Math.max(f,m),p+=x+o}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,a=Rr(i,this.left,this.width);if(this.isHorizontal()){let o=0,l=qe(s,this.left+r,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=qe(s,this.left+r,this.right-this.lineWidths[o])),c.top+=this.top+t+r,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+r}else{let o=0,l=qe(s,this.top+t+r,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=qe(s,this.top+t+r,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+r,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;vc(t,this),this._draw(),bc(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:a}=t,o=_e.color,l=Rr(t.rtl,this.left,this.width),c=Je(a.font),{padding:d}=a,h=c.size,f=h/2;let p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:y,boxHeight:g,itemHeight:b}=H0(a,h),v=function(_,k,j){if(isNaN(y)||y<=0||isNaN(g)||g<0)return;r.save();const C=ee(j.lineWidth,1);if(r.fillStyle=ee(j.fillStyle,o),r.lineCap=ee(j.lineCap,"butt"),r.lineDashOffset=ee(j.lineDashOffset,0),r.lineJoin=ee(j.lineJoin,"miter"),r.lineWidth=C,r.strokeStyle=ee(j.strokeStyle,o),r.setLineDash(ee(j.lineDash,[])),a.usePointStyle){const A={radius:g*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:C},L=l.xPlus(_,y/2),$=k+f;cw(r,A,L,$,a.pointStyleWidth&&y)}else{const A=k+Math.max((h-g)/2,0),L=l.leftForLtr(_,y),$=Dr(j.borderRadius);r.beginPath(),Object.values($).some(q=>q!==0)?Rl(r,{x:L,y:A,w:y,h:g,radius:$}):r.rect(L,A,y,g),r.fill(),C!==0&&r.stroke()}r.restore()},m=function(_,k,j){ja(r,j.text,_,k+b/2,c,{strikethrough:j.hidden,textAlign:l.textAlign(j.textAlign)})},x=this.isHorizontal(),w=this._computeTitleHeight();x?p={x:qe(i,this.left+d,this.right-s[0]),y:this.top+d+w,line:0}:p={x:this.left+d,y:qe(i,this.top+w+d,this.bottom-n[0].height),line:0},gw(this.ctx,t.textDirection);const S=b+d;this.legendItems.forEach((_,k)=>{r.strokeStyle=_.fontColor,r.fillStyle=_.fontColor;const j=r.measureText(_.text).width,C=l.textAlign(_.textAlign||(_.textAlign=a.textAlign)),A=y+f+j;let L=p.x,$=p.y;l.setWidth(this.width),x?k>0&&L+A+d>this.right&&($=p.y+=S,p.line++,L=p.x=qe(i,this.left+d,this.right-s[p.line])):k>0&&$+S>this.bottom&&(L=p.x=L+n[p.line].width+d,p.line++,$=p.y=qe(i,this.top+w+d,this.bottom-n[p.line].height));const q=l.x(L);if(v(q,$,_),L=W4(C,L+y+f,x?L+A:this.right,t.rtl),m(l.x(L),$,_),x)p.x+=A+d;else if(typeof _.text!="string"){const Y=c.lineHeight;p.y+=zw(_,Y)+d}else p.y+=S}),yw(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=Je(n.font),r=Bt(n.padding);if(!n.display)return;const i=Rr(t.rtl,this.left,this.width),a=this.ctx,o=n.position,l=s.size/2,c=r.top+l;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,h=qe(t.align,h,this.right-f);else{const y=this.columnSizes.reduce((g,b)=>Math.max(g,b.height),0);d=c+qe(t.align,this.top,this.bottom-y-t.labels.padding-this._computeTitleHeight())}const p=qe(o,h,h+f);a.textAlign=i.textAlign(Uf(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=s.string,ja(a,n.text,p,d,s)}_computeTitleHeight(){const t=this.options.title,n=Je(t.font),s=Bt(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,r,i;if(bn(t,this.left,this.right)&&bn(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],bn(t,r.left,r.left+r.width)&&bn(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!gI(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,i=hI(r,s);r&&!i&&me(n.onLeave,[t,r,this],this),this._hoveredItem=s,s&&!i&&me(n.onHover,[t,s,this],this)}else s&&me(n.onClick,[t,s,this],this)}}function fI(e,t,n,s,r){const i=pI(s,e,t,n),a=mI(r,s,t.lineHeight);return{itemWidth:i,itemHeight:a}}function pI(e,t,n,s){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((i,a)=>i.length>a.length?i:a)),t+n.size/2+s.measureText(r).width}function mI(e,t,n){let s=e;return typeof t.text!="string"&&(s=zw(t,n)),s}function zw(e,t){const n=e.text?e.text.length:0;return t*n}function gI(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var yI={id:"legend",_element:G0,start(e,t,n){const s=e.legend=new G0({ctx:e.ctx,options:n,chart:e});Lt.configure(e,s,n),Lt.addBox(e,s)},stop(e){Lt.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;Lt.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),t.hidden=!0):(r.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:a,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=Bt(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Bw extends Tn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=Te(s.text)?s.text.length:1;this._padding=Bt(s.padding);const i=r*Je(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:s,bottom:r,right:i,options:a}=this,o=a.align;let l=0,c,d,h;return this.isHorizontal()?(d=qe(o,s,i),h=n+t,c=i-s):(a.position==="left"?(d=s+t,h=qe(o,r,n),l=le*-.5):(d=i-t,h=qe(o,n,r),l=le*.5),c=r-n),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const s=Je(n.font),i=s.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(i);ja(t,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:Uf(n.align),textBaseline:"middle",translation:[a,o]})}}function xI(e,t){const n=new Bw({ctx:e.ctx,options:t,chart:e});Lt.configure(e,n,t),Lt.addBox(e,n),e.titleBlock=n}var vI={id:"title",_element:Bw,start(e,t,n){xI(e,n)},stop(e){const t=e.titleBlock;Lt.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;Lt.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ei={average(e){if(!e.length)return!1;let t,n,s=new Set,r=0,i=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const l=o.tooltipPosition();s.add(l.x),r+=l.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((o,l)=>o+l)/s.size,y:r/i}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,r=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=e.length;i<a;++i){const l=e[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=th(t,c);d<r&&(r=d,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function Zt(e,t){return t&&(Te(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function hn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function bI(e,t){const{element:n,datasetIndex:s,index:r}=t,i=e.getDatasetMeta(s).controller,{label:a,value:o}=i.getLabelAndValue(r);return{chart:e,label:a,parsed:i.getParsed(r),raw:e.data.datasets[s].data[r],formattedValue:o,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function K0(e,t){const n=e.chart.ctx,{body:s,footer:r,title:i}=e,{boxWidth:a,boxHeight:o}=t,l=Je(t.bodyFont),c=Je(t.titleFont),d=Je(t.footerFont),h=i.length,f=r.length,p=s.length,y=Bt(t.padding);let g=y.height,b=0,v=s.reduce((w,S)=>w+S.before.length+S.lines.length+S.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v){const w=t.displayColors?Math.max(o,l.lineHeight):l.lineHeight;g+=p*w+(v-p)*l.lineHeight+(v-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let m=0;const x=function(w){b=Math.max(b,n.measureText(w).width+m)};return n.save(),n.font=c.string,oe(e.title,x),n.font=l.string,oe(e.beforeBody.concat(e.afterBody),x),m=t.displayColors?a+2+t.boxPadding:0,oe(s,w=>{oe(w.before,x),oe(w.lines,x),oe(w.after,x)}),m=0,n.font=d.string,oe(e.footer,x),n.restore(),b+=y.width,{width:b,height:g}}function wI(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function kI(e,t,n,s){const{x:r,width:i}=s,a=n.caretSize+n.caretPadding;if(e==="left"&&r+i+a>t.width||e==="right"&&r-i-a<0)return!0}function SI(e,t,n,s){const{x:r,width:i}=n,{width:a,chartArea:{left:o,right:l}}=e;let c="center";return s==="center"?c=r<=(o+l)/2?"left":"right":r<=i/2?c="left":r>=a-i/2&&(c="right"),kI(c,e,t,n)&&(c="center"),c}function Y0(e,t,n){const s=n.yAlign||t.yAlign||wI(e,n);return{xAlign:n.xAlign||t.xAlign||SI(e,t,n,s),yAlign:s}}function jI(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function NI(e,t,n){let{y:s,height:r}=e;return t==="top"?s+=n:t==="bottom"?s-=r+n:s-=r/2,s}function q0(e,t,n,s){const{caretSize:r,caretPadding:i,cornerRadius:a}=e,{xAlign:o,yAlign:l}=n,c=r+i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=Dr(a);let y=jI(t,o);const g=NI(t,l,c);return l==="center"?o==="left"?y+=c:o==="right"&&(y-=c):o==="left"?y-=Math.max(d,f)+r:o==="right"&&(y+=Math.max(h,p)+r),{x:Qe(y,0,s.width-t.width),y:Qe(g,0,s.height-t.height)}}function wo(e,t,n){const s=Bt(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function X0(e){return Zt([],hn(e))}function CI(e,t,n){return tr(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Q0(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Vw={beforeTitle:un,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:un,beforeBody:un,beforeLabel:un,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ae(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:un,afterBody:un,beforeFooter:un,footer:un,afterFooter:un};function lt(e,t,n,s){const r=e[t].call(n,s);return typeof r>"u"?Vw[t].call(n,s):r}class lh extends Tn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new kw(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=CI(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,r=lt(s,"beforeTitle",this,t),i=lt(s,"title",this,t),a=lt(s,"afterTitle",this,t);let o=[];return o=Zt(o,hn(r)),o=Zt(o,hn(i)),o=Zt(o,hn(a)),o}getBeforeBody(t,n){return X0(lt(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,r=[];return oe(t,i=>{const a={before:[],lines:[],after:[]},o=Q0(s,i);Zt(a.before,hn(lt(o,"beforeLabel",this,i))),Zt(a.lines,lt(o,"label",this,i)),Zt(a.after,hn(lt(o,"afterLabel",this,i))),r.push(a)}),r}getAfterBody(t,n){return X0(lt(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,r=lt(s,"beforeFooter",this,t),i=lt(s,"footer",this,t),a=lt(s,"afterFooter",this,t);let o=[];return o=Zt(o,hn(r)),o=Zt(o,hn(i)),o=Zt(o,hn(a)),o}_createItems(t){const n=this._active,s=this.chart.data,r=[],i=[],a=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(bI(this.chart,n[l]));return t.filter&&(o=o.filter((d,h,f)=>t.filter(d,h,f,s))),t.itemSort&&(o=o.sort((d,h)=>t.itemSort(d,h,s))),oe(o,d=>{const h=Q0(t.callbacks,d);r.push(lt(h,"labelColor",this,d)),i.push(lt(h,"labelPointStyle",this,d)),a.push(lt(h,"labelTextColor",this,d))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(t,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,a=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const o=Ei[s.position].call(this,r,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);const l=this._size=K0(this,s),c=Object.assign({},o,l),d=Y0(this.chart,s,c),h=q0(s,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,r){const i=this.getCaretPosition(t,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(t,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:a,cornerRadius:o}=s,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:h}=Dr(o),{x:f,y:p}=t,{width:y,height:g}=n;let b,v,m,x,w,S;return i==="center"?(w=p+g/2,r==="left"?(b=f,v=b-a,x=w+a,S=w-a):(b=f+y,v=b+a,x=w-a,S=w+a),m=b):(r==="left"?v=f+Math.max(l,d)+a:r==="right"?v=f+y-Math.max(c,h)-a:v=this.caretX,i==="top"?(x=p,w=x-a,b=v-a,m=v+a):(x=p+g,w=x+a,b=v+a,m=v-a),S=x),{x1:b,x2:v,x3:m,y1:x,y2:w,y3:S}}drawTitle(t,n,s){const r=this.title,i=r.length;let a,o,l;if(i){const c=Rr(s.rtl,this.x,this.width);for(t.x=wo(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",a=Je(s.titleFont),o=s.titleSpacing,n.fillStyle=s.titleColor,n.font=a.string,l=0;l<i;++l)n.fillText(r[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+o,l+1===i&&(t.y+=s.titleMarginBottom-o)}}_drawColorBox(t,n,s,r,i){const a=this.labelColors[s],o=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=i,d=Je(i.bodyFont),h=wo(this,"left",i),f=r.x(h),p=l<d.lineHeight?(d.lineHeight-l)/2:0,y=n.y+p;if(i.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=r.leftForLtr(f,c)+c/2,v=y+l/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,sh(t,g,b,v),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,sh(t,g,b,v)}else{t.lineWidth=ne(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const g=r.leftForLtr(f,c),b=r.leftForLtr(r.xPlus(f,1),c-2),v=Dr(a.borderRadius);Object.values(v).some(m=>m!==0)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Rl(t,{x:g,y,w:c,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Rl(t,{x:b,y:y+1,w:c-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(g,y,c,l),t.strokeRect(g,y,c,l),t.fillStyle=a.backgroundColor,t.fillRect(b,y+1,c-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:d}=s,h=Je(s.bodyFont);let f=h.lineHeight,p=0;const y=Rr(s.rtl,this.x,this.width),g=function(j){n.fillText(j,y.x(t.x+p),t.y+f/2),t.y+=f+i},b=y.textAlign(a);let v,m,x,w,S,_,k;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,t.x=wo(this,b,s),n.fillStyle=s.bodyColor,oe(this.beforeBody,g),p=o&&b!=="right"?a==="center"?c/2+d:c+2+d:0,w=0,_=r.length;w<_;++w){for(v=r[w],m=this.labelTextColors[w],n.fillStyle=m,oe(v.before,g),x=v.lines,o&&x.length&&(this._drawColorBox(n,t,w,y,s),f=Math.max(h.lineHeight,l)),S=0,k=x.length;S<k;++S)g(x[S]),f=h.lineHeight;oe(v.after,g)}p=0,f=h.lineHeight,oe(this.afterBody,g),t.y-=i}drawFooter(t,n,s){const r=this.footer,i=r.length;let a,o;if(i){const l=Rr(s.rtl,this.x,this.width);for(t.x=wo(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",a=Je(s.footerFont),n.fillStyle=s.footerColor,n.font=a.string,o=0;o<i;++o)n.fillText(r[o],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+s.footerSpacing}}drawBackground(t,n,s,r){const{xAlign:i,yAlign:a}=this,{x:o,y:l}=t,{width:c,height:d}=s,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:y}=Dr(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(o+h,l),a==="top"&&this.drawCaret(t,n,s,r),n.lineTo(o+c-f,l),n.quadraticCurveTo(o+c,l,o+c,l+f),a==="center"&&i==="right"&&this.drawCaret(t,n,s,r),n.lineTo(o+c,l+d-y),n.quadraticCurveTo(o+c,l+d,o+c-y,l+d),a==="bottom"&&this.drawCaret(t,n,s,r),n.lineTo(o+p,l+d),n.quadraticCurveTo(o,l+d,o,l+d-p),a==="center"&&i==="left"&&this.drawCaret(t,n,s,r),n.lineTo(o,l+h),n.quadraticCurveTo(o,l,o+h,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const a=Ei[t.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=K0(this,t),l=Object.assign({},a,this._size),c=Y0(n,t,l),d=q0(t,l,c,n);(r._to!==d.x||i._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=Bt(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(t.save(),t.globalAlpha=s,this.drawBackground(i,t,r,n),gw(t,n.textDirection),i.y+=a.top,this.drawTitle(i,t,n),this.drawBody(i,t,n),this.drawFooter(i,t,n),yw(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,r=t.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),i=!Tl(s,r),a=this._positionChanged(r,n);(i||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],a=this._getActiveElements(t,i,n,s),o=this._positionChanged(a,t),l=n||!Tl(a,i)||o;return l&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,s,r){const i=this.options;if(t.type==="mouseout")return[];if(!r)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,i.mode,i,s);return i.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:s,caretY:r,options:i}=this,a=Ei[i.position].call(this,t,n);return a!==!1&&(s!==a.x||r!==a.y)}}G(lh,"positioners",Ei);var PI={id:"tooltip",_element:lh,positioners:Ei,afterInit(e,t,n){n&&(e.tooltip=new lh({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Vw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const _I=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function EI(e,t,n,s){const r=e.indexOf(t);if(r===-1)return _I(e,t,n,s);const i=e.lastIndexOf(t);return r!==i?n:r}const AI=(e,t)=>e===null?null:Qe(Math.round(e),0,t);function J0(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ch extends ei{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ae(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:EI(s,t,ee(n,t),this._addedLabels),AI(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=t===0&&n===i.length-1?i:i.slice(t,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let a=t;a<=n;a++)r.push({value:a});return r}getLabelForValue(t){return J0.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}G(ch,"id","category"),G(ch,"defaults",{ticks:{callback:J0}});function TI(e,t){const n=[],{bounds:r,step:i,min:a,max:o,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:f}=e,p=i||1,y=d-1,{min:g,max:b}=t,v=!ae(a),m=!ae(o),x=!ae(c),w=(b-g)/(h+1);let S=qg((b-g)/y/p)*p,_,k,j,C;if(S<1e-14&&!v&&!m)return[{value:g},{value:b}];C=Math.ceil(b/S)-Math.floor(g/S),C>y&&(S=qg(C*S/y/p)*p),ae(l)||(_=Math.pow(10,l),S=Math.ceil(S*_)/_),r==="ticks"?(k=Math.floor(g/S)*S,j=Math.ceil(b/S)*S):(k=g,j=b),v&&m&&i&&R4((o-a)/i,S/1e3)?(C=Math.round(Math.min((o-a)/S,d)),S=(o-a)/C,k=a,j=o):x?(k=v?a:k,j=m?o:j,C=c-1,S=(j-k)/C):(C=(j-k)/S,Ui(C,Math.round(C),S/1e3)?C=Math.round(C):C=Math.ceil(C));const A=Math.max(Xg(S),Xg(k));_=Math.pow(10,ae(l)?A:l),k=Math.round(k*_)/_,j=Math.round(j*_)/_;let L=0;for(v&&(f&&k!==a?(n.push({value:a}),k<a&&L++,Ui(Math.round((k+L*S)*_)/_,a,Z0(a,w,e))&&L++):k<a&&L++);L<C;++L){const $=Math.round((k+L*S)*_)/_;if(m&&$>o)break;n.push({value:$})}return m&&f&&j!==o?n.length&&Ui(n[n.length-1].value,o,Z0(o,w,e))?n[n.length-1].value=o:n.push({value:o}):(!m||j===o)&&n.push({value:j}),n}function Z0(e,t,{horizontal:n,minRotation:s}){const r=vn(s),i=(n?Math.sin(r):Math.cos(r))||.001,a=.75*t*(""+e).length;return Math.min(t/i,a)}class MI extends ei{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ae(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const a=l=>r=n?r:l,o=l=>i=s?i:l;if(t){const l=cn(r),c=cn(i);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(r===i){let l=i===0?1:Math.abs(i*.05);o(i+l),t||a(r-l)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=TI(r,i);return t.bounds==="ticks"&&I4(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const r=(s-n)/Math.max(t.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return Gf(t,this.chart.options.locale,this.options.ticks.format)}}class uh extends MI{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=et(t)?t:0,this.max=et(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=vn(this.options.ticks.minRotation),r=(t?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}G(uh,"id","linear"),G(uh,"defaults",{ticks:{callback:lw.formatters.numeric}});const Nc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ht=Object.keys(Nc);function ey(e,t){return e-t}function ty(e,t){if(ae(t))return null;const n=e._adapter,{parser:s,round:r,isoWeekday:i}=e._parseOpts;let a=t;return typeof s=="function"&&(a=s(a)),et(a)||(a=typeof s=="string"?n.parse(a,s):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(wa(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,r)),+a)}function ny(e,t,n,s){const r=ht.length;for(let i=ht.indexOf(e);i<r-1;++i){const a=Nc[ht[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(o*a.size))<=s)return ht[i]}return ht[r-1]}function DI(e,t,n,s,r){for(let i=ht.length-1;i>=ht.indexOf(n);i--){const a=ht[i];if(Nc[a].common&&e._adapter.diff(r,s,a)>=t-1)return a}return ht[n?ht.indexOf(n):0]}function RI(e){for(let t=ht.indexOf(e)+1,n=ht.length;t<n;++t)if(Nc[ht[t]].common)return ht[t]}function sy(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:r}=Wf(n,t),i=n[s]>=t?n[s]:n[r];e[i]=!0}}function II(e,t,n,s){const r=e._adapter,i=+r.startOf(t[0].value,s),a=t[t.length-1].value;let o,l;for(o=i;o<=a;o=+r.add(o,1,s))l=n[o],l>=0&&(t[l].major=!0);return t}function ry(e,t,n){const s=[],r={},i=t.length;let a,o;for(a=0;a<i;++a)o=t[a],r[o]=a,s.push({value:o,major:!1});return i===0||!n?s:II(e,s,r,n)}class Fl extends ei{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),r=this._adapter=new yD._date(t.adapters.date);r.init(n),Wi(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:ty(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:r,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!o&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=et(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=et(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,a=this.max,o=B4(r,i,a);return this._unit=n.unit||(s.autoSkip?ny(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):DI(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:RI(this._unit),this.initOffsets(r),t.reverse&&o.reverse(),ry(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,r,i;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,i=this.getDecimalForValue(t[t.length-1]),t.length===1?s=i:s=(i-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=Qe(n,0,a),s=Qe(s,0,a),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,a=i.unit||ny(i.minUnit,n,s,this._getLabelCapacity(n)),o=ee(r.ticks.stepSize,1),l=a==="week"?i.isoWeekday:!1,c=wa(l)||l===!0,d={};let h=n,f,p;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":a),t.diff(s,n,a)>1e5*o)throw new Error(n+" and "+s+" are too far apart with stepSize of "+o+" "+a);const y=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<s;f=+t.add(f,o,a),p++)sy(d,f,y);return(f===s||r.bounds==="ticks"||p===1)&&sy(d,f,y),Object.keys(d).sort(ey).map(g=>+g)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,i=this._unit,a=n||r[i];return this._adapter.format(t,a)}_tickFormatFunction(t,n,s,r){const i=this.options,a=i.ticks.callback;if(a)return me(a,[t,n,s],this);const o=i.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&o[l],h=c&&o[c],f=s[n],p=c&&h&&f&&f.major;return this._adapter.format(t,r||(p?h:d))}generateTickLabels(t){let n,s,r;for(n=0,s=t.length;n<s;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,r=vn(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),a=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:s*i+o*a,h:s*a+o*i}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(t,0,ry(this,[t],this._majorUnit),r),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)t.push(ty(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return iw(t.sort(ey))}}G(Fl,"id","time"),G(Fl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ko(e,t,n){let s=0,r=e.length-1,i,a,o,l;n?(t>=e[s].pos&&t<=e[r].pos&&({lo:s,hi:r}=Ds(e,"pos",t)),{pos:i,time:o}=e[s],{pos:a,time:l}=e[r]):(t>=e[s].time&&t<=e[r].time&&({lo:s,hi:r}=Ds(e,"time",t)),{time:i,pos:o}=e[s],{time:a,pos:l}=e[r]);const c=a-i;return c?o+(l-o)*(t-i)/c:o}class iy extends Fl{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=ko(n,this.min),this._tableRange=ko(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,r=[],i=[];let a,o,l,c,d;for(a=0,o=t.length;a<o;++a)c=t[a],c>=n&&c<=s&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(a=0,o=r.length;a<o;++a)d=r[a+1],l=r[a-1],c=r[a],Math.round((d+l)/2)!==c&&i.push({time:c,pos:a/(o-1)});return i}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(ko(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return ko(this._table,s*this._tableRange+this._minPos,!0)}}G(iy,"id","timeseries"),G(iy,"defaults",Fl.defaults);const $w="label";function ay(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function LI(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function Ww(e,t){e.labels=t}function Uw(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$w;const s=[];e.datasets=t.map(r=>{const i=e.datasets.find(a=>a[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function OI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$w;const n={labels:[],datasets:[]};return Ww(n,e.labels),Uw(n,e.datasets,t),n}function FI(e,t){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:a,data:o,options:l,plugins:c=[],fallbackContent:d,updateMode:h,...f}=e,p=N.useRef(null),y=N.useRef(null),g=()=>{p.current&&(y.current=new Sc(p.current,{type:a,data:OI(o,i),options:l&&{...l},plugins:c}),ay(t,y.current))},b=()=>{ay(t,null),y.current&&(y.current.destroy(),y.current=null)};return N.useEffect(()=>{!r&&y.current&&l&&LI(y.current,l)},[r,l]),N.useEffect(()=>{!r&&y.current&&Ww(y.current.config.data,o.labels)},[r,o.labels]),N.useEffect(()=>{!r&&y.current&&o.datasets&&Uw(y.current.config.data,o.datasets,i)},[r,o.datasets]),N.useEffect(()=>{y.current&&(r?(b(),setTimeout(g)):y.current.update(h))},[r,l,o.labels,o.datasets,h]),N.useEffect(()=>{y.current&&(b(),setTimeout(g))},[a]),N.useEffect(()=>(g(),()=>b()),[]),Ct.createElement("canvas",{ref:p,role:"img",height:n,width:s,...f},d)}const zI=N.forwardRef(FI);function ep(e,t){return Sc.register(t),N.forwardRef((n,s)=>Ct.createElement(zI,{...n,ref:s,type:e}))}const BI=ep("line",$o),oy=ep("bar",Vo),VI=ep("doughnut",Ci);Sc.register(ch,uh,Go,vI,PI,yI,_i,Ho,Hn,dI);const So=({title:e,type:t,data:n=[],currency:s="PKR",icon:r,delay:i=0})=>{const a=()=>{if(n.length===0)return u.jsx("div",{className:"text-gray-500 text-center py-8",children:"No data available"});const h=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#06b6d4","#84cc16","#f97316","#ec4899","#6366f1"],f={labels:n.map(y=>y.name),datasets:[{data:n.map(y=>y.value),backgroundColor:h.slice(0,n.length),borderColor:h.slice(0,n.length).map(y=>y+"80"),borderWidth:2,hoverOffset:4}]},p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12}}},tooltip:{callbacks:{label:function(y){const g=re(y.parsed,s),b=(y.parsed/n.reduce((v,m)=>v+m.value,0)*100).toFixed(1);return`${y.label}: ${g} (${b}%)`}}}}};return u.jsx("div",{className:"h-80",children:u.jsx(VI,{data:f,options:p})})},o=()=>{if(n.length===0)return u.jsx("div",{className:"text-gray-500 text-center py-8",children:"No data available"});const h={labels:n.map(p=>p.name),datasets:[{label:"Amount Paid",data:n.map(p=>p.totalPaid||p.value||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2,borderRadius:8,borderSkipped:!1}]},f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(p){const y=re(p.parsed.y,s),g=n[p.dataIndex];let b=`Amount: ${y}`;return g.expenseCount&&(b+=` (${g.expenseCount} expense${g.expenseCount!==1?"s":""})`),b}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(p){return re(p,s)}}},x:{ticks:{maxRotation:45,minRotation:0}}}};return u.jsx("div",{className:"h-80",children:u.jsx(oy,{data:h,options:f})})},l=()=>{if(n.length===0)return u.jsx("div",{className:"text-gray-500 text-center py-8",children:"No data available"});const h={labels:n.map(p=>p.formattedMonth),datasets:[{label:"Monthly Spending",data:n.map(p=>p.amount),borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,fill:!0,tension:.4,pointBackgroundColor:"rgba(59, 130, 246, 1)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:6,pointHoverRadius:8}]},f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(p){return`Amount: ${re(p.parsed.y,s)}`}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(p){return re(p,s)}}},x:{ticks:{maxRotation:45,minRotation:0}}},elements:{point:{hoverBackgroundColor:"rgba(59, 130, 246, 1)"}}};return u.jsx("div",{className:"h-80",children:u.jsx(BI,{data:h,options:f})})},c=()=>{if(n.length===0)return u.jsx("div",{className:"text-gray-500 text-center py-8",children:"No debts to display"});const h=n.map(g=>({name:g.fromName,amount:g.amount,type:"owes"})),f=n.map(g=>({name:g.toName,amount:g.amount,type:"owed"})),p={labels:[...new Set([...h.map(g=>g.name),...f.map(g=>g.name)])],datasets:[{label:"Amount Owed",data:f.reduce((g,b)=>{const v=g.find(m=>m.name===b.name);return v?v.amount+=b.amount:g.push({name:b.name,amount:b.amount}),g},[]).map(g=>g.amount),backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:2},{label:"Amount Owes",data:h.reduce((g,b)=>{const v=g.find(m=>m.name===b.name);return v?v.amount+=b.amount:g.push({name:b.name,amount:b.amount}),g},[]).map(g=>-g.amount),backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2}]},y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(g){const b=Math.abs(g.parsed.y),v=g.parsed.y>=0?"is owed":"owes";return`${g.dataset.label}: ${re(b,s)} (${v})`}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(g){return re(Math.abs(g),s)}}}}};return u.jsx("div",{className:"h-80",children:u.jsx(oy,{data:p,options:y})})},d=()=>{switch(t){case"pie":return a();case"bar":return o();case"line":return l();case"debt":return c();default:return u.jsx("div",{className:"text-gray-500",children:"Chart type not supported"})}};return u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i},className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[r,u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e})]}),u.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n.length," item",n.length!==1?"s":""]})]}),u.jsx("div",{className:"min-h-[200px]",children:d()})]})},jo=({title:e,value:t,icon:n,color:s="blue",trend:r=null,delay:i=0})=>{const a={blue:"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400",green:"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400",purple:"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400",orange:"bg-orange-100 dark:bg-orange-900 text-orange-600 dark:text-orange-400",red:"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-400"};return u.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i},className:"card p-6 hover:shadow-md transition-all duration-200",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:e}),u.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t}),r&&u.jsxs("p",{className:`text-sm mt-1 ${r.direction==="up"?"text-green-600 dark:text-green-400":r.direction==="down"?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400"}`,children:[r.direction==="up"&&" ",r.direction==="down"&&" ",r.value]})]}),u.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${a[s]}`,children:n})]})})},$I=()=>{const{t:e}=Ve(),t=ps(),{getCurrentGroup:n,getGroupExpenses:s,getGroupParticipants:r,getGroupDebts:i,groups:a,setCurrentGroupId:o}=We(),[l,c]=N.useState("all"),d=n();Ct.useEffect(()=>{!d&&a.length>0&&o(a[0].id)},[d,a,o]);const h=d?s(d.id):[],f=d?r(d.id):[],p=d?i(d.id):[],y=Ff(),g=N.useMemo(()=>{if(l==="all")return h;const _=new Date,k=new Date;switch(l){case"month":k.setMonth(_.getMonth()-1);break;case"quarter":k.setMonth(_.getMonth()-3);break;case"year":k.setFullYear(_.getFullYear()-1);break;default:return h}return h.filter(j=>new Date(j.date)>=k)},[h,l]),b=N.useMemo(()=>XE(g,f),[g,f]),v=N.useMemo(()=>Object.entries(b.categoryBreakdown).map(([k,j])=>({name:k,value:j,percentage:b.totalAmount>0?(j/b.totalAmount*100).toFixed(1):0})).sort((k,j)=>j.value-k.value),[b]),m=N.useMemo(()=>Object.entries(b.participantContributions).map(([_,k])=>({id:_,name:k.name,totalPaid:k.totalPaid,expenseCount:k.expenseCount,percentage:b.totalAmount>0?(k.totalPaid/b.totalAmount*100).toFixed(1):0})).sort((_,k)=>k.totalPaid-_.totalPaid),[b]),x=N.useMemo(()=>Object.entries(b.monthlyTrends).map(([k,j])=>({month:k,amount:j,formattedMonth:new Date(k+"-01").toLocaleDateString("en-US",{month:"short",year:"numeric"})})).sort((k,j)=>k.month.localeCompare(j.month)),[b]),w=N.useMemo(()=>p.map(_=>{var k,j;return{..._,fromName:((k=f.find(C=>C.id===_.fromId))==null?void 0:k.name)||"Unknown",toName:((j=f.find(C=>C.id===_.toId))==null?void 0:j.name)||"Unknown"}}),[p,f]),S=[{value:"all",label:"All Time"},{value:"year",label:"Last Year"},{value:"quarter",label:"Last 3 Months"},{value:"month",label:"Last Month"}];return d?u.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e("analytics.title")}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Insights for ",u.jsx("span",{className:"font-medium",children:d.name})]})]}),u.jsx("div",{className:"flex gap-2",children:S.map(_=>u.jsx(z,{variant:l===_.value?"primary":"secondary",size:"sm",onClick:()=>c(_.value),children:_.label},_.value))})]}),u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(jo,{title:e("analytics.totalExpenses"),value:b.totalExpenses,icon:u.jsx(Mr,{className:"w-6 h-6"}),color:"blue"}),u.jsx(jo,{title:e("analytics.totalAmount"),value:re(b.totalAmount,d.currency),icon:u.jsx(Nt,{className:"w-6 h-6"}),color:"green"}),u.jsx(jo,{title:e("analytics.averageExpense"),value:re(b.averageExpense,d.currency),icon:u.jsx(NA,{className:"w-6 h-6"}),color:"purple"}),u.jsx(jo,{title:"Active Participants",value:f.length,icon:u.jsx(ke,{className:"w-6 h-6"}),color:"orange"})]}),g.length>0?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:u.jsx(So,{title:e("analytics.categoryBreakdown"),type:"pie",data:v,currency:y.code,icon:u.jsx(bA,{className:"w-5 h-5"})})}),u.jsx(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:u.jsx(So,{title:e("analytics.participantContributions"),type:"bar",data:m,currency:y.code,icon:u.jsx(ke,{className:"w-5 h-5"})})}),w.length>0&&u.jsx(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:u.jsx(So,{title:"Debt Analysis",type:"debt",data:w,currency:y.code,icon:u.jsx(Gs,{className:"w-5 h-5"})})}),x.length>1&&u.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"lg:col-span-2",children:u.jsx(So,{title:e("analytics.monthlyTrends"),type:"line",data:x,currency:y.code,icon:u.jsx(Xt,{className:"w-5 h-5"})})})]}):u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Mr,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No Data Available"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:l==="all"?"Add some expenses to see analytics and insights":"No expenses found for the selected time range"}),l==="all"?u.jsx(z,{onClick:()=>t("/expenses"),icon:u.jsx(Nt,{className:"w-4 h-4"}),children:"Add Expenses"}):u.jsx(z,{variant:"secondary",onClick:()=>c("all"),children:"View All Time"})]})]}):u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Mr,{className:"w-8 h-8 text-gray-400"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No Group Selected"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Select a group first to view analytics"}),u.jsx(z,{onClick:()=>t("/groups"),icon:u.jsx(ke,{className:"w-4 h-4"}),children:"Go to Groups"})]})})},WI=({isOpen:e,onClose:t})=>{const[n,s]=N.useState([]),[r,i]=N.useState(!1),[a,o]=N.useState(null);N.useEffect(()=>{e&&l()},[e]);const l=()=>{const y=JSON.parse(localStorage.getItem("whatsappReminders")||"[]"),g=new Date,b=y.filter(v=>new Date(v.scheduledFor)>g);localStorage.setItem("whatsappReminders",JSON.stringify(b)),s(b)},c=y=>{const g=n.filter(b=>b.id!==y);s(g),localStorage.setItem("whatsappReminders",JSON.stringify(g)),i(!1),o(null)},d=y=>{o(y),i(!0)},h=y=>{const g=new Date(y);return{date:g.toLocaleDateString(),time:g.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),relative:f(g)}},f=y=>{const g=new Date,b=y.getTime()-g.getTime(),v=Math.floor(b/(1e3*60*60*24)),m=Math.floor(b%(1e3*60*60*24)/(1e3*60*60)),x=Math.floor(b%(1e3*60*60)/(1e3*60));return v>0?`in ${v} day${v>1?"s":""}`:m>0?`in ${m} hour${m>1?"s":""}`:x>0?`in ${x} minute${x>1?"s":""}`:"very soon"},p=y=>{const g=new Date,m=(new Date(y).getTime()-g.getTime())/(1e3*60*60);return m<1?"text-red-600 bg-red-50 border-red-200":m<24?"text-orange-600 bg-orange-50 border-orange-200":"text-green-600 bg-green-50 border-green-200"};return u.jsxs(u.Fragment,{children:[u.jsx(xt,{isOpen:e,onClose:t,title:"WhatsApp Reminders",size:"lg",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:n.length}),u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Reminders"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:n.filter(y=>new Date(y.scheduledFor).getTime()-new Date().getTime()<24*60*60*1e3).length}),u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Due Today"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:n.filter(y=>new Date(y.scheduledFor).getTime()-new Date().getTime()>=24*60*60*1e3).length}),u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Future"})]})]}),u.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:u.jsx(Be,{children:n.length>0?n.map(y=>{const g=h(y.scheduledFor);return u.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`p-4 rounded-lg border-2 ${p(y.scheduledFor)} dark:bg-gray-800 dark:border-gray-600`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:y.contact.name.charAt(0).toUpperCase()}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:y.contact.name}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.contact.phone})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Xt,{className:"w-4 h-4 text-gray-500"}),u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:g.date})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Mf,{className:"w-4 h-4 text-gray-500"}),u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:g.time})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[u.jsx(sn,{className:"w-4 h-4 text-blue-500"}),u.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:g.relative})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-700 p-3 rounded border",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx(rt,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Message Preview"})]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:y.message})]})]}),u.jsx("div",{className:"ml-4",children:u.jsx(z,{variant:"danger",size:"sm",onClick:()=>d(y),icon:u.jsx(Ks,{className:"w-4 h-4"}),className:"p-2",title:"Delete Reminder"})})]})},y.id)}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx(sn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No Active Reminders"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Schedule WhatsApp reminders from the contact picker to see them here."})]})})}),u.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-700",children:[u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:" Reminders will automatically open WhatsApp at the scheduled time"}),u.jsx(z,{onClick:t,variant:"primary",children:"Close"})]})]})}),u.jsx(xt,{isOpen:r,onClose:()=>i(!1),title:"Delete Reminder",size:"sm",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(Tf,{className:"w-8 h-8 text-red-500"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Delete this reminder?"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This action cannot be undone."})]})]}),a&&u.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:u.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[u.jsx("strong",{children:a.contact.name})," - ",h(a.scheduledFor).date," at ",h(a.scheduledFor).time]})}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx(z,{variant:"secondary",onClick:()=>i(!1),className:"flex-1",children:"Cancel"}),u.jsx(z,{variant:"danger",onClick:()=>c(a.id),className:"flex-1",icon:u.jsx(Ks,{className:"w-4 h-4"}),children:"Delete"})]})]})})]})},UI=()=>{const{t:e,i18n:t}=Ve(),{theme:n,setTheme:s}=Bb(),{settings:r,updateSettings:i,clearAllData:a,isLoading:o}=We(),[l,c]=N.useState(!1),[d,h]=N.useState(!1),[f,p]=N.useState(!1),[y,g]=N.useState(!1),b=j=>{s(j),i({theme:j})},v=j=>{t.changeLanguage(j),i({language:j})},m=j=>{i({defaultCurrency:j}),dt.getState().notifyInfo("Currency Updated",`Default currency changed to ${j}. Current group currency updated automatically.`)},x=j=>{i({notifications:{...r.notifications,[j]:!r.notifications[j]}})},w=async()=>{try{await a(),c(!1)}catch(j){console.error("Failed to clear data:",j)}},S=()=>{try{const{groups:j,participants:C,expenses:A,settlements:L}=We.getState(),$={version:"1.0.0",exportDate:new Date().toISOString(),data:{groups:j,participants:C,expenses:A,settlements:L,settings:r}},q=JSON.stringify($,null,2),Y=new Blob([q],{type:"application/json"}),W=document.createElement("a");W.href=URL.createObjectURL(Y),W.download=`easysplit-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(W),W.click(),document.body.removeChild(W),dt.getState().notifyInfo("Data Exported","Your data has been successfully exported to a JSON file.")}catch(j){console.error("Export failed:",j),dt.getState().notifyError("Export Failed","Failed to export data. Please try again.")}},_=()=>{const j=document.createElement("input");j.type="file",j.accept=".json",j.onchange=async C=>{const A=C.target.files[0];if(A)try{const L=await A.text(),$=JSON.parse(L);if(!$.data||!$.version)throw new Error("Invalid backup file format");const{groups:q,participants:Y,expenses:W,settlements:U,settings:X}=$.data,T=We.getState();T.groups=q||[],T.participants=Y||[],T.expenses=W||[],T.settlements=U||[],X&&i(X),We.setState({groups:q||[],participants:Y||[],expenses:W||[],settlements:U||[]}),dt.getState().notifyInfo("Data Imported",`Successfully imported ${(q==null?void 0:q.length)||0} groups, ${(Y==null?void 0:Y.length)||0} participants, and ${(W==null?void 0:W.length)||0} expenses.`)}catch(L){console.error("Import failed:",L),dt.getState().notifyError("Import Failed","Failed to import data. Please check the file format.")}},j.click()},k=[{value:"light",label:e("settings.themes.light"),icon:Ob},{value:"dark",label:e("settings.themes.dark"),icon:Lb},{value:"system",label:e("settings.themes.system"),icon:Ib}];return u.jsxs("div",{className:"max-w-4xl mx-auto space-y-4 sm:space-y-6 px-4 sm:px-6 lg:px-8",children:[u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[u.jsx(If,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary-600 dark:text-primary-400 flex-shrink-0"}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100 truncate",children:e("settings.title")}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 truncate",children:"Customize your EasySplit experience"})]})]}),u.jsx(z,{onClick:()=>p(!0),variant:"secondary",icon:u.jsx(Tb,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white",children:"User Guide"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[u.jsx(xA,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e("settings.theme")})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:k.map(j=>{const C=j.icon;return u.jsxs("button",{onClick:()=>b(j.value),className:`p-4 rounded-lg border-2 transition-all duration-200 ${n===j.value?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[u.jsx(C,{className:`w-6 h-6 mx-auto mb-2 ${n===j.value?"text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400"}`}),u.jsx("p",{className:`text-sm font-medium ${n===j.value?"text-primary-700 dark:text-primary-300":"text-gray-700 dark:text-gray-300"}`,children:j.label})]},j.value)})})]}),u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[u.jsx(fA,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Language & Region"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("settings.language")}),u.jsx("select",{value:r.language,onChange:j=>v(j.target.value),className:"input",children:BA.map(j=>u.jsxs("option",{value:j.code,children:[j.flag," ",j.name]},j.code))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("settings.currency")}),u.jsx("select",{value:r.defaultCurrency,onChange:j=>m(j.target.value),className:"input",children:Hb.map(j=>u.jsxs("option",{value:j.code,children:[j.symbol," ",j.code," - ",j.name]},j.code))})]})]})]}),u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[u.jsx(sn,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e("settings.notifications")})]}),u.jsx("div",{className:"space-y-4",children:Object.entries(r.notifications||{}).map(([j,C])=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[j.charAt(0).toUpperCase()+j.slice(1)," Notifications"]}),u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Get notified about ",j," activities"]})]}),u.jsx("button",{onClick:()=>x(j),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${C?"bg-primary-600":"bg-gray-200 dark:bg-gray-700"}`,children:u.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${C?"translate-x-6":"translate-x-1"}`})})]},j))})]}),u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card p-4 sm:p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[u.jsx(Nt,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),u.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Data Management"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[u.jsxs(z,{variant:"secondary",onClick:S,icon:u.jsx(_l,{className:"w-4 h-4"}),fullWidth:!0,className:"text-sm sm:text-base py-2 sm:py-3",children:[u.jsx("span",{className:"sm:hidden",children:"Export"}),u.jsx("span",{className:"hidden sm:inline",children:e("settings.export")})]}),u.jsxs(z,{variant:"secondary",onClick:_,icon:u.jsx(Fb,{className:"w-4 h-4"}),fullWidth:!0,className:"text-sm sm:text-base py-2 sm:py-3",children:[u.jsx("span",{className:"sm:hidden",children:"Import"}),u.jsx("span",{className:"hidden sm:inline",children:e("settings.import")})]}),u.jsxs(z,{variant:"danger",onClick:()=>c(!0),icon:u.jsx(Ks,{className:"w-4 h-4"}),fullWidth:!0,className:"text-sm sm:text-base py-2 sm:py-3",children:[u.jsx("span",{className:"sm:hidden",children:"Clear Data"}),u.jsx("span",{className:"hidden sm:inline",children:e("settings.clearData")})]})]}),u.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:u.jsxs("p",{className:"text-xs sm:text-sm text-yellow-800 dark:text-yellow-200",children:[u.jsx("strong",{children:"Warning:"})," Clearing data will permanently remove all groups, expenses, and participants. This action cannot be undone."]})})]}),u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[u.jsx(Mf,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"WhatsApp Reminders"})]}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Manage your scheduled WhatsApp reminders for expense notifications and payment requests."}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsx(z,{variant:"secondary",onClick:()=>g(!0),icon:u.jsx(sn,{className:"w-4 h-4"}),fullWidth:!0,children:"View Active Reminders"}),u.jsx(z,{variant:"secondary",onClick:()=>{const C=JSON.parse(localStorage.getItem("whatsappReminders")||"[]").filter(A=>new Date(A.scheduledFor)>new Date).length;alert(`You have ${C} active WhatsApp reminders scheduled.`)},icon:u.jsx(rt,{className:"w-4 h-4"}),fullWidth:!0,children:"Check Status"})]}),u.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg border border-green-200 dark:border-green-700",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx(rt,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"How it works"})]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Schedule reminders when importing contacts. WhatsApp will automatically open at the scheduled time with your message ready to send. Perfect for debt collection and expense notifications!"})]})]}),u.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"card p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[u.jsx(rt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Support & Contact"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[u.jsx(z,{variant:"secondary",onClick:()=>window.open("mailto:support@easysplit.app","_blank"),icon:u.jsx(Df,{className:"w-4 h-4"}),fullWidth:!0,children:"Email Support"}),u.jsx(z,{variant:"secondary",onClick:()=>window.open("https://wa.me/923001234567?text=Hi! I need help with EasySplit app.","_blank"),icon:u.jsx(rt,{className:"w-4 h-4"}),fullWidth:!0,className:"text-green-600 hover:text-green-700 border-green-200 hover:border-green-300",children:"WhatsApp Support"}),u.jsx(z,{variant:"secondary",onClick:()=>window.open("https://github.com/easysplit/easysplit-app","_blank"),icon:u.jsx(hA,{className:"w-4 h-4"}),fullWidth:!0,children:"GitHub"})]}),u.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx(mA,{className:"w-4 h-4 text-red-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Need Help?"})]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"We're here to help! Contact us via email or WhatsApp for quick support. You can also check our GitHub repository for updates and documentation."})]})]}),u.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"card p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(Rb,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e("settings.about")}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Version 1.0.0  Built with React & Vite"})]})]}),u.jsx(z,{variant:"ghost",onClick:()=>h(!0),children:"Learn More"})]})})]}),u.jsx(xc,{isOpen:l,onClose:()=>c(!1),onConfirm:w,title:"Clear All Data",message:e("settings.confirmClearData"),confirmText:"Clear All Data",cancelText:e("common.cancel"),variant:"danger",isLoading:o}),u.jsx(xt,{isOpen:d,onClose:()=>h(!1),title:"About EasySplit",size:"md",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("span",{className:"text-2xl",children:""})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"EasySplit v1.0.0"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"A Progressive Web App for splitting expenses among groups"})]}),u.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Built with:"})," React, Vite, Tailwind CSS, Zustand, Framer Motion"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Features:"})," Offline support, Multi-group management, Flexible splitting, Debt optimization"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Storage:"})," IndexedDB for offline data persistence"]})]}),u.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:u.jsx(z,{variant:"primary",onClick:()=>h(!1),fullWidth:!0,children:"Close"})})]})}),u.jsx(Wb,{isOpen:f,onClose:()=>p(!1)}),u.jsx(WI,{isOpen:y,onClose:()=>g(!1)})]})},HI=()=>{const{t:e}=Ve(),{updateSettings:t}=We(),n=()=>{t({showOnboarding:!1})};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:u.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 text-center",children:[u.jsx(R.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-20 h-20 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx("span",{className:"text-3xl",children:""})}),u.jsx(R.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:e("onboarding.welcome")}),u.jsx(R.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-gray-600 dark:text-gray-400 mb-8",children:"Split expenses with friends and family easily. Track who owes what and settle up with just a few taps."}),u.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:u.jsx(z,{onClick:n,size:"lg",fullWidth:!0,children:e("onboarding.finish")})})]})})};function GI(){const{i18n:e}=Ve(),{isLoading:t,error:n,settings:s,initializeApp:r,clearError:i}=We();return N.useEffect(()=>{DA(),r()},[r]),N.useEffect(()=>{s.language&&e.language!==s.language&&e.changeLanguage(s.language)},[s.language,e]),t?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:u.jsx($b,{size:"lg"})}):s.showOnboarding?u.jsx(Eg,{children:u.jsx(Tg,{children:u.jsx(HI,{})})}):u.jsx(Eg,{children:u.jsx(Tg,{children:u.jsx(kj,{children:u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900 transition-all duration-500 relative",children:[u.jsxs("div",{className:"fixed inset-0 opacity-30 dark:opacity-10 pointer-events-none",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/20 to-purple-400/20 dark:from-blue-600/10 dark:to-purple-600/10"}),u.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_30%_20%,rgba(59,130,246,0.1),transparent_50%)]"}),u.jsx("div",{className:"absolute bottom-0 right-0 w-full h-full bg-[radial-gradient(circle_at_80%_80%,rgba(147,51,234,0.1),transparent_50%)]"})]}),u.jsx(Be,{mode:"wait",children:n&&u.jsx(R.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-4 left-4 right-4 z-50",children:u.jsxs("div",{className:"bg-danger-500 text-white px-4 py-3 rounded-lg shadow-lg flex items-center justify-between",children:[u.jsx("span",{children:n}),u.jsx("button",{onClick:i,className:"ml-4 text-white hover:text-gray-200 transition-colors","aria-label":"Close error",children:""})]})})}),u.jsx(MA,{children:u.jsxs(pj,{children:[u.jsx(Rn,{path:"/",element:u.jsx(zA,{})}),u.jsx(Rn,{path:"/groups",element:u.jsx($A,{})}),u.jsx(Rn,{path:"/participants",element:u.jsx(HA,{})}),u.jsx(Rn,{path:"/expenses",element:u.jsx(QT,{})}),u.jsx(Rn,{path:"/debts",element:u.jsx(e4,{})}),u.jsx(Rn,{path:"/analytics",element:u.jsx($I,{})}),u.jsx(Rn,{path:"/settings",element:u.jsx(UI,{})})]})}),u.jsx(OA,{}),u.jsx(FA,{})]})})})})}const Z=e=>typeof e=="string",yi=()=>{let e,t;const n=new Promise((s,r)=>{e=s,t=r});return n.resolve=e,n.reject=t,n},ly=e=>e==null?"":""+e,KI=(e,t,n)=>{e.forEach(s=>{t[s]&&(n[s]=t[s])})},YI=/###/g,cy=e=>e&&e.indexOf("###")>-1?e.replace(YI,"."):e,uy=e=>!e||Z(e),Ki=(e,t,n)=>{const s=Z(t)?t.split("."):t;let r=0;for(;r<s.length-1;){if(uy(e))return{};const i=cy(s[r]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++r}return uy(e)?{}:{obj:e,k:cy(s[r])}},dy=(e,t,n)=>{const{obj:s,k:r}=Ki(e,t,Object);if(s!==void 0||t.length===1){s[r]=n;return}let i=t[t.length-1],a=t.slice(0,t.length-1),o=Ki(e,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=Ki(e,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=n},qI=(e,t,n,s)=>{const{obj:r,k:i}=Ki(e,t,Object);r[i]=r[i]||[],r[i].push(n)},zl=(e,t)=>{const{obj:n,k:s}=Ki(e,t);if(n)return n[s]},XI=(e,t,n)=>{const s=zl(e,n);return s!==void 0?s:zl(t,n)},Hw=(e,t,n)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in e?Z(e[s])||e[s]instanceof String||Z(t[s])||t[s]instanceof String?n&&(e[s]=t[s]):Hw(e[s],t[s],n):e[s]=t[s]);return e},or=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var QI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const JI=e=>Z(e)?e.replace(/[&<>"'\/]/g,t=>QI[t]):e;class ZI{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const e5=[" ",",","?","!",";"],t5=new ZI(20),n5=(e,t,n)=>{t=t||"",n=n||"";const s=e5.filter(a=>t.indexOf(a)<0&&n.indexOf(a)<0);if(s.length===0)return!0;const r=t5.getRegExp(`(${s.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!r.test(e);if(!i){const a=e.indexOf(n);a>0&&!r.test(e.substring(0,a))&&(i=!0)}return i},dh=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const s=t.split(n);let r=e;for(let i=0;i<s.length;){if(!r||typeof r!="object")return;let a,o="";for(let l=i;l<s.length;++l)if(l!==i&&(o+=n),o+=s[l],a=r[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<s.length-1)continue;i+=l-i+1;break}r=a}return r},Bl=e=>e&&e.replace("_","-"),s5={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Vl{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||s5,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,s,r){return r&&!this.debug?null:(Z(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Vl(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Vl(this.logger,t)}}var rn=new Vl;class Cc{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const r=this.observers[s].get(n)||0;this.observers[s].set(n,r+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(a=>{let[o,l]=a;for(let c=0;c<l;c++)o(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let c=0;c<l;c++)o.apply(o,[t,...s])})}}class hy extends Cc{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,a=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;t.indexOf(".")>-1?o=t.split("."):(o=[t,n],s&&(Array.isArray(s)?o.push(...s):Z(s)&&i?o.push(...s.split(i)):o.push(s)));const l=zl(this.data,o);return!l&&!n&&!s&&t.indexOf(".")>-1&&(t=o[0],n=o[1],s=o.slice(2).join(".")),l||!a||!Z(s)?l:dh(this.data&&this.data[t]&&this.data[t][n],s,i)}addResource(t,n,s,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[t,n];s&&(o=o.concat(a?s.split(a):s)),t.indexOf(".")>-1&&(o=t.split("."),r=n,n=o[1]),this.addNamespaces(n),dy(this.data,o,r),i.silent||this.emit("added",t,n,s,r)}addResources(t,n,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in s)(Z(s[i])||Array.isArray(s[i]))&&this.addResource(t,n,i,s[i],{silent:!0});r.silent||this.emit("added",t,n,s)}addResourceBundle(t,n,s,r,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[t,n];t.indexOf(".")>-1&&(o=t.split("."),r=s,s=n,n=o[1]),this.addNamespaces(n);let l=zl(this.data,o)||{};a.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?Hw(l,s,i):l={...l,...s},dy(this.data,o,l),a.silent||this.emit("added",t,n,s)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(r=>n[r]&&Object.keys(n[r]).length>0)}toJSON(){return this.data}}var Gw={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,s,r){return e.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,n,s,r))}),t}};const fy={};class $l extends Cc{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),KI(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=rn.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const s=this.resolve(t,n);return s&&s.res!==void 0}extractFromKey(t,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const r=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const a=s&&t.indexOf(s)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!n5(t,s,r);if(a&&!o){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:Z(i)?[i]:i};const c=t.split(s);(s!==r||s===r&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),t=c.join(r)}return{key:t,namespaces:Z(i)?[i]:i}}translate(t,n,s){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const r=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(t[t.length-1],n),l=o[o.length-1],c=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(d){const w=n.nsSeparator||this.options.nsSeparator;return r?{res:`${l}${w}${a}`,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${w}${a}`}return r?{res:a,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:a}const h=this.resolve(t,n);let f=h&&h.res;const p=h&&h.usedKey||a,y=h&&h.exactUsedKey||a,g=Object.prototype.toString.apply(f),b=["[object Number]","[object Function]","[object RegExp]"],v=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,x=!Z(f)&&typeof f!="boolean"&&typeof f!="number";if(m&&f&&x&&b.indexOf(g)<0&&!(Z(v)&&Array.isArray(f))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,{...n,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return r?(h.res=w,h.usedParams=this.getUsedParamsDetails(n),h):w}if(i){const w=Array.isArray(f),S=w?[]:{},_=w?y:p;for(const k in f)if(Object.prototype.hasOwnProperty.call(f,k)){const j=`${_}${i}${k}`;S[k]=this.translate(j,{...n,joinArrays:!1,ns:o}),S[k]===j&&(S[k]=f[k])}f=S}}else if(m&&Z(v)&&Array.isArray(f))f=f.join(v),f&&(f=this.extendTranslation(f,t,n,s));else{let w=!1,S=!1;const _=n.count!==void 0&&!Z(n.count),k=$l.hasDefaultValue(n),j=_?this.pluralResolver.getSuffix(c,n.count,n):"",C=n.ordinal&&_?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",A=_&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),L=A&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${j}`]||n[`defaultValue${C}`]||n.defaultValue;!this.isValidLookup(f)&&k&&(w=!0,f=L),this.isValidLookup(f)||(S=!0,f=a);const q=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:f,Y=k&&L!==f&&this.options.updateMissing;if(S||w||Y){if(this.logger.log(Y?"updateKey":"missingKey",c,l,a,Y?L:f),i){const T=this.resolve(a,{...n,keySeparator:!1});T&&T.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let T=0;T<U.length;T++)W.push(U[T]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(n.lng||this.language):W.push(n.lng||this.language);const X=(T,P,E)=>{const M=k&&E!==f?E:q;this.options.missingKeyHandler?this.options.missingKeyHandler(T,l,P,M,Y,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(T,l,P,M,Y,n),this.emit("missingKey",T,l,P,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?W.forEach(T=>{const P=this.pluralResolver.getSuffixes(T,n);A&&n[`defaultValue${this.options.pluralSeparator}zero`]&&P.indexOf(`${this.options.pluralSeparator}zero`)<0&&P.push(`${this.options.pluralSeparator}zero`),P.forEach(E=>{X([T],a+E,n[`defaultValue${E}`]||L)})}):X(W,a,L))}f=this.extendTranslation(f,t,n,h,s),S&&f===a&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${a}`),(S||w)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,w?f:void 0):f=this.options.parseMissingKeyHandler(f))}return r?(h.res=f,h.usedParams=this.getUsedParamsDetails(n),h):f}extendTranslation(t,n,s,r,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const c=Z(t)&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const f=t.match(this.interpolator.nestingRegexp);d=f&&f.length}let h=s.replace&&!Z(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,s.lng||this.language||r.usedLng,s),c){const f=t.match(this.interpolator.nestingRegexp),p=f&&f.length;d<p&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(s.lng=this.language||r.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var f=arguments.length,p=new Array(f),y=0;y<f;y++)p[y]=arguments[y];return i&&i[0]===p[0]&&!s.context?(a.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):a.translate(...p,n)},s)),s.interpolation&&this.interpolator.reset()}const o=s.postProcess||this.options.postProcess,l=Z(o)?[o]:o;return t!=null&&l&&l.length&&s.applyPostProcessor!==!1&&(t=Gw.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,r,i,a,o;return Z(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(s))return;const c=this.extractFromKey(l,n),d=c.key;r=d;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=n.count!==void 0&&!Z(n.count),p=f&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),y=n.context!==void 0&&(Z(n.context)||typeof n.context=="number")&&n.context!=="",g=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(b=>{this.isValidLookup(s)||(o=b,!fy[`${g[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(fy[`${g[0]}-${b}`]=!0,this.logger.warn(`key "${r}" for languages "${g.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(v=>{if(this.isValidLookup(s))return;a=v;const m=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(m,d,v,b,n);else{let w;f&&(w=this.pluralResolver.getSuffix(v,n.count,n));const S=`${this.options.pluralSeparator}zero`,_=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(m.push(d+w),n.ordinal&&w.indexOf(_)===0&&m.push(d+w.replace(_,this.options.pluralSeparator)),p&&m.push(d+S)),y){const k=`${d}${this.options.contextSeparator}${n.context}`;m.push(k),f&&(m.push(k+w),n.ordinal&&w.indexOf(_)===0&&m.push(k+w.replace(_,this.options.pluralSeparator)),p&&m.push(k+S))}}let x;for(;x=m.pop();)this.isValidLookup(s)||(i=x,s=this.getResource(v,b,x,n))}))})}),{res:s,usedKey:r,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,s,r):this.resourceStore.getResource(t,n,s,r)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!Z(t.replace);let r=s?t.replace:t;if(s&&typeof t.count<"u"&&(r.count=t.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!s){r={...r};for(const i of n)delete r[i]}return r}static hasDefaultValue(t){const n="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&n===s.substring(0,n.length)&&t[s]!==void 0)return!0;return!1}}const Lu=e=>e.charAt(0).toUpperCase()+e.slice(1);class py{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=rn.create("languageUtils")}getScriptPartFromCode(t){if(t=Bl(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Bl(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(Z(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let r=Intl.getCanonicalLocales(t)[0];if(r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r)return r}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let s=t.split("-");return this.options.lowerCaseLng?s=s.map(r=>r.toLowerCase()):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),n.indexOf(s[1].toLowerCase())>-1&&(s[1]=Lu(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),n.indexOf(s[1].toLowerCase())>-1&&(s[1]=Lu(s[1].toLowerCase())),n.indexOf(s[2].toLowerCase())>-1&&(s[2]=Lu(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(s=>{if(n)return;const r=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(r))&&(n=r)}),!n&&this.options.supportedLngs&&t.forEach(s=>{if(n)return;const r=this.getLanguagePartFromCode(s);if(this.isSupportedCode(r))return n=r;n=this.options.supportedLngs.find(i=>{if(i===r)return i;if(!(i.indexOf("-")<0&&r.indexOf("-")<0)&&(i.indexOf("-")>0&&r.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===r||i.indexOf(r)===0&&r.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),Z(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let s=t[n];return s||(s=t[this.getScriptPartFromCode(n)]),s||(s=t[this.formatLanguageCode(n)]),s||(s=t[this.getLanguagePartFromCode(n)]),s||(s=t.default),s||[]}toResolveHierarchy(t,n){const s=this.getFallbackCodes(n||this.options.fallbackLng||[],t),r=[],i=a=>{a&&(this.isSupportedCode(a)?r.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Z(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):Z(t)&&i(this.formatLanguageCode(t)),s.forEach(a=>{r.indexOf(a)<0&&i(this.formatLanguageCode(a))}),r}}let r5=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],i5={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const a5=["v1","v2","v3"],o5=["v4"],my={zero:0,one:1,two:2,few:3,many:4,other:5},l5=()=>{const e={};return r5.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:i5[t.fc]}})}),e};class c5{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=rn.create("pluralResolver"),(!this.options.compatibilityJSON||o5.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=l5(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const s=Bl(t==="dev"?"en":t),r=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:s,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(s,{type:r})}catch{if(!t.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(l,n)}return this.pluralRulesCache[i]=a,a}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(t,n);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}getPluralFormsOfKey(t,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,s).map(r=>`${n}${r}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(t,n);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((r,i)=>my[r]-my[i]).map(r=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r}`):s.numbers.map(r=>this.getSuffix(t,r,n)):[]}getSuffix(t,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(t,s);return r?this.shouldUseIntlApi()?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(n)}`:this.getSuffixRetroCompatible(r,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const s=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let r=t.numbers[s];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));const i=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}shouldUseIntlApi(){return!a5.includes(this.options.compatibilityJSON)}}const gy=function(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=XI(e,t,n);return!i&&r&&Z(n)&&(i=dh(e,n,s),i===void 0&&(i=dh(t,n,s))),i},Ou=e=>e.replace(/\$/g,"$$$$");class u5{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=rn.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:r,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:p,nestingSuffix:y,nestingSuffixEscaped:g,nestingOptionsSeparator:b,maxReplaces:v,alwaysFormat:m}=t.interpolation;this.escape=n!==void 0?n:JI,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=i?or(i):a||"{{",this.suffix=o?or(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=f?or(f):p||or("$t("),this.nestingSuffix=y?or(y):g||or(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=v||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,s)=>n&&n.source===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,s,r){let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=p=>{if(p.indexOf(this.formatSeparator)<0){const v=gy(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,s,{...r,...n,interpolationkey:p}):v}const y=p.split(this.formatSeparator),g=y.shift().trim(),b=y.join(this.formatSeparator).trim();return this.format(gy(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure),b,s,{...r,...n,interpolationkey:g})};this.resetRegExp();const d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>Ou(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?Ou(this.escape(p)):Ou(p)}].forEach(p=>{for(o=0;i=p.regex.exec(t);){const y=i[1].trim();if(a=c(y),a===void 0)if(typeof d=="function"){const b=d(t,i,r);a=Z(b)?b:""}else if(r&&Object.prototype.hasOwnProperty.call(r,y))a="";else if(h){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),a="";else!Z(a)&&!this.useRawValueToEscape&&(a=ly(a));const g=p.safeValue(a);if(t=t.replace(i[0],g),h?(p.regex.lastIndex+=a.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),t}nest(t,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,i,a;const o=(l,c)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const h=l.split(new RegExp(`${d}[ ]*{`));let f=`{${h[1]}`;l=h[0],f=this.interpolate(f,a);const p=f.match(/'/g),y=f.match(/"/g);(p&&p.length%2===0&&!y||y.length%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),c&&(a={...c,...a})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${d}${f}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;r=this.nestingRegexp.exec(t);){let l=[];a={...s},a=a.replace&&!Z(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let c=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const d=r[1].split(this.formatSeparator).map(h=>h.trim());r[1]=d.shift(),l=d,c=!0}if(i=n(o.call(this,r[1].trim(),a),a),i&&r[0]===t&&!Z(i))return i;Z(i)||(i=ly(i)),i||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${t}`),i=""),c&&(i=l.reduce((d,h)=>this.format(d,h,s.lng,{...s,interpolationkey:r[1].trim()}),i.trim())),t=t.replace(r[0],i),this.regexp.lastIndex=0}return t}}const d5=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const r=s[1].substring(0,s[1].length-1);t==="currency"&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):t==="relativetime"&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),d=o.trim();n[d]||(n[d]=c),c==="false"&&(n[d]=!1),c==="true"&&(n[d]=!0),isNaN(c)||(n[d]=parseInt(c,10))}})}return{formatName:t,formatOptions:n}},lr=e=>{const t={};return(n,s,r)=>{let i=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(i={...i,[r.interpolationkey]:void 0});const a=s+JSON.stringify(i);let o=t[a];return o||(o=e(Bl(s),r),t[a]=o),o(n)}};class h5{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=rn.create("formatter"),this.options=t,this.formats={number:lr((n,s)=>{const r=new Intl.NumberFormat(n,{...s});return i=>r.format(i)}),currency:lr((n,s)=>{const r=new Intl.NumberFormat(n,{...s,style:"currency"});return i=>r.format(i)}),datetime:lr((n,s)=>{const r=new Intl.DateTimeFormat(n,{...s});return i=>r.format(i)}),relativetime:lr((n,s)=>{const r=new Intl.RelativeTimeFormat(n,{...s});return i=>r.format(i,s.range||"day")}),list:lr((n,s)=>{const r=new Intl.ListFormat(n,{...s});return i=>r.format(i)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=lr(n)}format(t,n,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{const{formatName:c,formatOptions:d}=d5(l);if(this.formats[c]){let h=o;try{const f=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},p=f.locale||f.lng||r.locale||r.lng||s;h=this.formats[c](o,p,{...d,...r,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${c}`);return o},t)}}const f5=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class p5 extends Cc{constructor(t,n,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=rn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,r.backend,r)}queueLoad(t,n,s,r){const i={},a={},o={},l={};return t.forEach(c=>{let d=!0;n.forEach(h=>{const f=`${c}|${h}`;!s.reload&&this.store.hasResourceBundle(c,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,d=!1,a[f]===void 0&&(a[f]=!0),i[f]===void 0&&(i[f]=!0),l[h]===void 0&&(l[h]=!0)))}),d||(o[c]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(t,n,s){const r=t.split("|"),i=r[0],a=r[1];n&&this.emit("failedLoading",i,a,n),!n&&s&&this.store.addResourceBundle(i,a,s,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&s&&(this.state[t]=0);const o={};this.queue.forEach(l=>{qI(l.loaded,[i],a),f5(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const d=l.loaded[c];d.length&&d.forEach(h=>{o[c][h]===void 0&&(o[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(t,n,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:s,tried:r,wait:i,callback:a});return}this.readingCalls++;const o=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&d&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,s,r+1,i*2,a)},i);return}a(c,d)},l=this.backend[s].bind(this.backend);if(l.length===2){try{const c=l(t,n);c&&typeof c.then=="function"?c.then(d=>o(null,d)).catch(o):o(null,c)}catch(c){o(c)}return}return l(t,n,o)}prepareLoading(t,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Z(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Z(n)&&(n=[n]);const i=this.queueLoad(t,n,s,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(t,n,s){this.prepareLoading(t,n,{},s)}reload(t,n,s){this.prepareLoading(t,n,{reload:!0},s)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=t.split("|"),r=s[0],i=s[1];this.read(r,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${i} for language ${r} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${i} for language ${r}`,o),this.loaded(t,a,o)})}saveMissing(t,n,s,r,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:i},c=this.backend.create.bind(this.backend);if(c.length<6)try{let d;c.length===5?d=c(t,n,s,r,l):d=c(t,n,s,r),d&&typeof d.then=="function"?d.then(h=>o(null,h)).catch(o):o(null,d)}catch(d){o(d)}else c(t,n,s,r,o,l)}!t||!t[0]||this.store.addResource(t[0],n,s,r)}}}const yy=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Z(e[1])&&(t.defaultValue=e[1]),Z(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(s=>{t[s]=n[s]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),xy=e=>(Z(e.ns)&&(e.ns=[e.ns]),Z(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Z(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),No=()=>{},m5=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Ca extends Cc{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=xy(t),this.services={},this.logger=rn,this.modules={external:[]},m5(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(s=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(Z(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const r=yy();this.options={...r,...this.options,...xy(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?rn.init(i(this.modules.logger),this.options):rn.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=h5);const h=new py(this.options);this.store=new hy(this.options.resources,this.options);const f=this.services;f.logger=rn,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new c5(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=i(d),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new u5(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new p5(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(p){for(var y=arguments.length,g=new Array(y>1?y-1:0),b=1;b<y;b++)g[b-1]=arguments[b];t.emit(p,...g)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new $l(this.services,this.options),this.translator.on("*",function(p){for(var y=arguments.length,g=new Array(y>1?y-1:0),b=1;b<y;b++)g[b-1]=arguments[b];t.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,s||(s=No),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return t.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return t.store[d](...arguments),t}});const l=yi(),c=()=>{const d=(h,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),s(h,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:No;const r=Z(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const i=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(c=>{c!=="cimode"&&i.indexOf(c)<0&&i.push(c)})};r?a(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(o)})}else s(null)}reloadResources(t,n,s){const r=yi();return typeof t=="function"&&(s=t,t=void 0),typeof n=="function"&&(s=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),s||(s=No),this.services.backendConnector.reload(t,n,i=>{r.resolve(),s(i)}),r}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Gw.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}changeLanguage(t,n){var s=this;this.isLanguageChangingTo=t;const r=yi();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve(function(){return s.t(...arguments)}),n&&n(l,function(){return s.t(...arguments)})},o=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const c=Z(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,d=>{a(d,c)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),r}getFixedT(t,n,s){var r=this;const i=function(a,o){let l;if(typeof o!="object"){for(var c=arguments.length,d=new Array(c>2?c-2:0),h=2;h<c;h++)d[h-2]=arguments[h];l=r.options.overloadTranslationOptionHandler([a,o].concat(d))}else l={...o};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||s||i.keyPrefix);const f=r.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(a)?p=a.map(y=>`${l.keyPrefix}${f}${y}`):p=l.keyPrefix?`${l.keyPrefix}${f}${a}`:a,r.t(p,l)};return Z(t)?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=s,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(s,t)&&(!r||a(i,t)))}loadNamespaces(t,n){const s=yi();return this.options.ns?(Z(t)&&(t=[t]),t.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{s.resolve(),n&&n(r)}),s):(n&&n(),Promise.resolve())}loadLanguages(t,n){const s=yi();Z(t)&&(t=[t]);const r=this.options.preload||[],i=t.filter(a=>r.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=r.concat(i),this.loadResources(a=>{s.resolve(),n&&n(a)}),s):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services&&this.services.languageUtils||new py(yy());return n.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Ca(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:No;const s=t.forkResourceStore;s&&delete t.forkResourceStore;const r={...this.options,...t,isClone:!0},i=new Ca(r);return(t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},s&&(i.store=new hy(this.store.data,r),i.services.resourceStore=i.store),i.translator=new $l(i.services,r),i.translator.on("*",function(o){for(var l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];i.emit(o,...c)}),i.init(r,n),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const tt=Ca.createInstance();tt.createInstance=Ca.createInstance;tt.createInstance;tt.dir;tt.init;tt.loadResources;tt.reloadResources;tt.use;tt.changeLanguage;tt.getFixedT;tt.t;tt.exists;tt.setDefaultNamespace;tt.hasLoadedNamespace;tt.loadNamespaces;tt.loadLanguages;function g5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pa(e){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pa(e)}function y5(e,t){if(Pa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Pa(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function x5(e){var t=y5(e,"string");return Pa(t)=="symbol"?t:t+""}function v5(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,x5(s.key),s)}}function b5(e,t,n){return t&&v5(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Kw=[],w5=Kw.forEach,k5=Kw.slice;function S5(e){return w5.call(k5.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e}var vy=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,j5=function(t,n,s){var r=s||{};r.path=r.path||"/";var i=encodeURIComponent(n),a="".concat(t,"=").concat(i);if(r.maxAge>0){var o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(o))}if(r.domain){if(!vy.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(r.domain)}if(r.path){if(!vy.test(r.path))throw new TypeError("option path is invalid");a+="; Path=".concat(r.path)}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite){var l=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},by={create:function(t,n,s,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+s*60*1e3)),r&&(i.domain=r),document.cookie=j5(t,encodeURIComponent(n),i)},read:function(t){for(var n="".concat(t,"="),s=document.cookie.split(";"),r=0;r<s.length;r++){for(var i=s[r];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(n)===0)return i.substring(n.length,i.length)}return null},remove:function(t){this.create(t,"",-1)}},N5={name:"cookie",lookup:function(t){var n;if(t.lookupCookie&&typeof document<"u"){var s=by.read(t.lookupCookie);s&&(n=s)}return n},cacheUserLanguage:function(t,n){n.lookupCookie&&typeof document<"u"&&by.create(n.lookupCookie,t,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},C5={name:"querystring",lookup:function(t){var n;if(typeof window<"u"){var s=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=s.substring(1),i=r.split("&"),a=0;a<i.length;a++){var o=i[a].indexOf("=");if(o>0){var l=i[a].substring(0,o);l===t.lookupQuerystring&&(n=i[a].substring(o+1))}}}return n}},xi=null,wy=function(){if(xi!==null)return xi;try{xi=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{xi=!1}return xi},P5={name:"localStorage",lookup:function(t){var n;if(t.lookupLocalStorage&&wy()){var s=window.localStorage.getItem(t.lookupLocalStorage);s&&(n=s)}return n},cacheUserLanguage:function(t,n){n.lookupLocalStorage&&wy()&&window.localStorage.setItem(n.lookupLocalStorage,t)}},vi=null,ky=function(){if(vi!==null)return vi;try{vi=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{vi=!1}return vi},_5={name:"sessionStorage",lookup:function(t){var n;if(t.lookupSessionStorage&&ky()){var s=window.sessionStorage.getItem(t.lookupSessionStorage);s&&(n=s)}return n},cacheUserLanguage:function(t,n){n.lookupSessionStorage&&ky()&&window.sessionStorage.setItem(n.lookupSessionStorage,t)}},E5={name:"navigator",lookup:function(t){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var s=0;s<navigator.languages.length;s++)n.push(navigator.languages[s]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},A5={name:"htmlTag",lookup:function(t){var n,s=t.htmlTag||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},T5={name:"path",lookup:function(t){var n;if(typeof window<"u"){var s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(s instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof s[t.lookupFromPathIndex]!="string")return;n=s[t.lookupFromPathIndex].replace("/","")}else n=s[0].replace("/","")}return n}},M5={name:"subdomain",lookup:function(t){var n=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,s=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[n]}},Yw=!1;try{document.cookie,Yw=!0}catch{}var qw=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Yw||qw.splice(1,1);function D5(){return{order:qw,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var Xw=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};g5(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return b5(e,[{key:"init",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=S5(s,this.options||{},D5()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(N5),this.addDetector(C5),this.addDetector(P5),this.addDetector(_5),this.addDetector(E5),this.addDetector(A5),this.addDetector(T5),this.addDetector(M5)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var s=this;n||(n=this.options.order);var r=[];return n.forEach(function(i){if(s.detectors[i]){var a=s.detectors[i].lookup(s.options);a&&typeof a=="string"&&(a=[a]),a&&(r=r.concat(a))}}),r=r.map(function(i){return s.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}},{key:"cacheUserLanguage",value:function(n,s){var r=this;s||(s=this.options.caches),s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||s.forEach(function(i){r.detectors[i]&&r.detectors[i].cacheUserLanguage(n,r.options)}))}}])}();Xw.type="languageDetector";const R5={name:"EasySplit",tagline:"Split expenses with ease"},I5={dashboard:"Dashboard",groups:"Groups",expenses:"Expenses",debts:"Debts",analytics:"Analytics",settings:"Settings"},L5={title:"Groups",create:"Create Group",edit:"Edit Group",delete:"Delete Group",name:"Group Name",description:"Description",currency:"Currency",participants:"Participants",noGroups:"No groups yet. Create your first group to get started!",confirmDelete:"Are you sure you want to delete this group? This action cannot be undone.",current:"Current Group"},O5={title:"Participants",add:"Add Participant",edit:"Edit Participant",delete:"Delete Participant",name:"Name",email:"Email",noParticipants:"No participants in this group yet.",confirmDelete:"Are you sure you want to remove this participant?"},F5={title:"Expenses",add:"Add Expense",edit:"Edit Expense",delete:"Delete Expense",description:"Description",amount:"Amount",category:"Category",date:"Date",paidBy:"Paid by",splitType:"Split type",notes:"Notes",tags:"Tags",receipt:"Receipt",noExpenses:"No expenses recorded yet.",confirmDelete:"Are you sure you want to delete this expense?",splitTypes:{equal:"Split equally",fixed:"Fixed amounts",percentage:"By percentage"},categories:{food:"Food & Dining",transport:"Transportation",shopping:"Shopping",entertainment:"Entertainment",bills:"Bills & Utilities",travel:"Travel",healthcare:"Healthcare",education:"Education",groceries:"Groceries",other:"Other"}},z5={title:"Debts & Settlements",settle:"Settle Up",settled:"Settled",owes:"owes",to:"to",noDebts:"All settled up! No outstanding debts.",confirmSettle:"Mark this debt as settled?",settlementNotes:"Settlement notes"},B5={title:"Analytics",totalExpenses:"Total Expenses",totalAmount:"Total Amount",averageExpense:"Average Expense",categoryBreakdown:"Category Breakdown",monthlyTrends:"Monthly Trends",participantContributions:"Participant Contributions"},V5={title:"Settings",theme:"Theme",language:"Language",currency:"Default Currency",notifications:"Notifications",about:"About",export:"Export Data",import:"Import Data",clearData:"Clear All Data",themes:{light:"Light",dark:"Dark",system:"System"},confirmClearData:"Are you sure you want to clear all data? This action cannot be undone."},$5={install:"Install App",update:"Update Available",updateMessage:"A new version is available. Update now?",offline:"You're offline",online:"You're back online"},W5={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",close:"Close",confirm:"Confirm",yes:"Yes",no:"No",loading:"Loading...",error:"Error",success:"Success",search:"Search",filter:"Filter",sort:"Sort",total:"Total",date:"Date",amount:"Amount",name:"Name",description:"Description",required:"Required",optional:"Optional"},U5={required:"This field is required",invalidEmail:"Please enter a valid email address",invalidAmount:"Please enter a valid amount",splitMismatch:"Split amounts don't match the total expense",noParticipants:"At least one participant is required",networkError:"Network error. Please check your connection.",storageError:"Storage error. Please try again.",unknownError:"An unexpected error occurred"},H5={welcome:"Welcome to EasySplit!",step1:{title:"Create Your First Group",description:"Groups help you organize expenses with different sets of people."},step2:{title:"Add Participants",description:"Add the people who will be sharing expenses in this group."},step3:{title:"Record Expenses",description:"Add expenses and choose how to split them among participants."},step4:{title:"Settle Debts",description:"View who owes what and mark debts as settled when paid."},next:"Next",skip:"Skip",finish:"Get Started"},G5={app:R5,navigation:I5,groups:L5,participants:O5,expenses:F5,debts:z5,analytics:B5,settings:V5,pwa:$5,common:W5,errors:U5,onboarding:H5},K5={name:" ",tagline:"    "},Y5={groups:"",expenses:"",debts:"",analytics:"",settings:""},q5={title:"",create:" ",edit:"  ",delete:"  ",name:"  ",description:"",currency:"",participants:"",noGroups:"            !",confirmDelete:"               "},X5={title:"",add:"  ",edit:"  ",delete:" ",name:"",email:" ",noParticipants:"       ",confirmDelete:"        "},Q5={title:"",add:"  ",edit:"  ",delete:"  ",description:"",amount:"",category:"",date:"",paidBy:" ",splitType:"  ",notes:"",tags:"",receipt:"",noExpenses:"     ",confirmDelete:"         ",splitTypes:{equal:" ",fixed:" ",percentage:"   "},categories:{food:" ",transport:"  ",shopping:"",entertainment:"",bills:"  ",travel:"",healthcare:"   ",education:"",groceries:"",other:""}},J5={title:"  ",settle:" ",settled:"  ",owes:"  ",to:"",noDebts:"  !    ",confirmSettle:"          ",settlementNotes:"  "},Z5={title:"",totalExpenses:" ",totalAmount:" ",averageExpense:" ",categoryBreakdown:"    ",monthlyTrends:" ",participantContributions:"  "},eL={title:"",theme:"",language:"",currency:" ",notifications:"",about:"  ",export:"  ",import:"  ",clearData:"   ",themes:{light:"",dark:"",system:""},confirmClearData:"              "},tL={install:"  ",update:" ",updateMessage:"      ",offline:"   ",online:"    "},nL={save:" ",cancel:"",delete:"",edit:"",add:" ",close:" ",confirm:"",yes:"",no:"",loading:"   ...",error:"",success:"",search:"",filter:"",sort:"",total:"",date:"",amount:"",name:"",description:"",required:"",optional:""},sL={required:"   ",invalidEmail:"       ",invalidAmount:"     ",splitMismatch:"        ",noParticipants:"      ",networkError:"         ",storageError:"       ",unknownError:"    "},rL={welcome:"    !",step1:{title:"   ",description:"             "},step2:{title:"  ",description:"           "},step3:{title:"  ",description:"             "},step4:{title:"  ",description:"                   "},next:"",skip:"",finish:" "},iL={app:K5,navigation:Y5,groups:q5,participants:X5,expenses:Q5,debts:J5,analytics:Z5,settings:eL,pwa:tL,common:nL,errors:sL,onboarding:rL},aL={en:{translation:G5},ur:{translation:iL}};tt.use(Xw).use(Bj).init({resources:aL,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"easysplit-language"},react:{useSuspense:!1}});const oL="modulepreload",lL=function(e){return"/"+e},Sy={},cL=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=lL(l),l in Sy)return;Sy[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":oL,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};function uL(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:s,onRegistered:r,onRegisteredSW:i,onRegisterError:a}=e;let o,l;const c=async(h=!0)=>{await l};async function d(){if("serviceWorker"in navigator){if(o=await cL(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{a==null||a(h)}),!o)return;o.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),o.addEventListener("installed",h=>{h.isUpdate||s==null||s()}),o.register({immediate:t}).then(h=>{i?i("/sw.js",h):r==null||r(h)}).catch(h=>{a==null||a(h)})}}return l=d(),c}uL({onNeedRefresh(){console.log("New content available, please refresh.")},onOfflineReady(){console.log("App ready to work offline")}});Fu.createRoot(document.getElementById("root")).render(u.jsx(Ct.StrictMode,{children:u.jsx(GI,{})}));
